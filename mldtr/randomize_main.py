import math
import struct
import random
import os
from tqdm import tqdm
from mldtr import randomize_repack
from mnllib.n3ds import fs_std_code_bin_path, fs_std_romfs_path
from mnllib.dt import FMAPDAT_PATH, NUMBER_OF_ROOMS, \
    determine_version_from_code_bin, load_enemy_stats, save_enemy_stats, FEventScriptManager, \
    FMAPDAT_REAL_WORLD_OFFSET_TABLE_LENGTH_ADDRESS, FMAPDAT_DREAM_WORLD_OFFSET_TABLE_LENGTH_ADDRESS

#input_folder = 'C:/Users/Dimit/AppData/Roaming/Azahar/load/mods/00040000000D5A00'
#stat_mult = [5, 5]

def get_room(id):
    if 0x000 <= id <= 0x00C or id == 0x00F or id == 0x018 or id == 0x1C8 or 0x050 <= id <= 0x055:
        return "Mushrise Park"
    elif id == 0x00E or 0x010 <= id <= 0x017 or id == 0x019 or id == 0x01A or id == 0x05D or 0x60 <= id <= 0x62 or id == 0x0AF or 0x101 <= id <= 0x104 or id == 0x138 or id == 0x1DC or id == 0x28A:
        return "Dozing Sands"
    elif id == 0x01B or id == 0x01C or 0x056 <= id <= 0x05C or id == 0x063 or id == 0x064 or id == 0x1DE:
        return "Blimport"
    elif 0x01D <= id <= 0x030 or id == 0x032 or id == 0x0B0 or id == 0x09D or 0x0F1 <= id <= 0x0F3 or id == 0x199 or id == 0x19A or id == 0x1CD or id == 0x1CE:
        return "Dreamy Mushrise Park"
    elif 0x033 <= id <= 0x037 or id == 0x039 or 0x03C <= id <= 0x044 or 0x108 <= id <= 0x10A or id == 0x288:
        return "Wakeport"
    elif id == 0x038 or id == 0x03A or id == 0x03B or 0x045 <= id <= 0x04F:
        return "Driftwood Shore"
    elif 0x066 <= id <= 0x081 or id == 0x100 or id == 0x10B or id == 0x10C:
        return "Mount Pajamaja"
    elif id == 0x082 or 0x084 <= id <= 0x09B or 0x136 <= id <= 0x13B or id == 0x1D8:
        return "Pi'illo Castle"
    elif 0x0A1 <= id <= 0x0AE or 0x0D8 <= id <= 0x0DE or 0x0F4 <= id <= 0x0FA:
        return "Dreamy Pi'illo Castle"
    elif 0x0B1 <= id <= 0x0C7 or 0x0E4 <= id <= 0x0F0 or 0x13C <= id <= 0x13E or id == 0x1D6:
        return "Dreamy Dozing Sands"
    elif 0x0D2 <= id <= 0x0D6 or 0x161 <= id <= 0x182 or id == 0x1C9 or id == 0x1CA:
        return "Dreamy Driftwood Shore"
    elif 0x0FB <= id <= 0x0FD or 0x219 <= id <= 0x238:
        return "Dreamy Somnom Woods"
    elif id == 0x106 or 0x10D <= id <= 0x134 or id == 0x12B or id == 0x12C or id == 0x1CF or id == 0x1E1 or id == 0x294 or id == 0x295:
        return "Dreamy Wakeport"
    elif id == 0x13F or 0x1E7 <= id <= 0x20E or id == 0x250 or id == 0x290:
        return "Dreamy Mount Pajamaja"
    elif 0x140 <= id <= 0x160 or id == 0x218:
        return "Neo Bowser Castle"
    elif 0x183 <= id <= 0x196:
        return "Somnom Woods"
    elif 0x252 <= id <= 0x27B:
        return "Dreamy Neo Bowser Castle"
    else:
        return "Unknown"

def get_minimap(room_id):
    if get_room(room_id) == "Mushrise Park":
        return 0x245

def get_spot_type(spot):
    if spot[2] % 0x10 == 2:
        return 5
    elif spot[-2] == 0:
        return 1
    return 0

def find_index_in_2d_list(arr, target_value):
    for row_index, row in enumerate(arr):
        for col_index, element in enumerate(row):
            if element == target_value:
                return (row_index, col_index)
    return None  # Return None if the element is not found

def is_available(logic, key, settings):
    #Sets up the variables to check the logic
    available = True
    was_true = False
    for d in range(len(logic)-1):
        #Checks if you have the items needed for the check
        if (key[logic[d+1]] < 1 and logic[d+1] > -1) or logic[d+1] == -3:
            available = False
        #If it's an or statement, it resets the generation for the next statement
        #while setting wasTrue depending on whether the chunk was true or not
        if logic[d+1] == -1:
            #try:
            #    if logic[0] == 87 and logic[1] == 15 and key[15] == 1:
            #        print(available)
            #except IndexError:
            #    pass
            if not available:
                available = True
            else:
                was_true = True
    if was_true:
        available = True
    return available
#46d8f468
def randomize_data(input_folder, stat_mult, settings, seed):
    with tqdm(total=2089, desc="Initializing...") as pbar:
        #Sets the seed to what it was in main
        random.seed(seed)
        pbar.update(1)

        #Logic for what's required to enter FROM each loading zone (order goes from left to right, and top to bottom only if there's the same horizontally)
        #The first entry in each chunk of logic means nothing, and is just there so you know what the room is.
        #After that, the key items are as follows:
        # -3 - NOT POSSIBLE
        # -2 - OR but ONLY WITH GLITCHES
        # -1 - OR Statement
        # 0 - Hammers
        # 1 - Mini Mario
        # 2 - Mole Mario
        # 3 - Spin Jump
        # 4 - Side Drill
        # 5 - Ball Hop
        # 6 - Luiginary Works
        # 7 - Luiginary Ball
        # 8 - Luiginary Stack Spring Jump
        # 9 - Luiginary Stack Ground Pound
        # 10 - Luiginary Cone Jump
        # 11 - Luiginary Cone Storm
        # 12 - Luiginary Ball Hookshot
        # 13 - Luiginary Ball Hammer
        # 14 - Access to Deep Pi'illo Castle
        # 15 - Blimport Bridge
        # 16 - Mushrise Park Gate
        # 17 - First Dozite
        # 18 - Track Dozite 1
        # 19 - Track Dozite 2
        # 20 - Track Dozite 3
        # 21 - Track Dozite 4
        # 22 - Access to Wakeport
        # 23 - Access to Mount Pajamaja
        # 24 - Dream Egg 1
        # 25 - Dream Egg 2
        # 26 - Dream Egg 3
        # 27 - Access to Neo Bowser Castle
        room_logic = [[[0x000, 15], [0x000, 15], [0x000, 15], [0x000, 15]], [[0x001, 15], [0x001, 15], [0x001, 15], [0x001, 15], [0x001, 15, 0], [0x001, 15, 0], [0x001, 15, 0], [0x001, 15, 0]],
                      [[0x002, 15, 0], [0x002, 15, 0], [0x002, 15, 0]], [[0x003, 15, 0]], [[0x004, 15, 0], [0x004, 15, 0], [0x004, 15, 0], [0x004, 15, 3, -1, 15, 5]],
                      [[0x005, 15, 0], [0x005, 15, 0], [0x005, 15, 0]], [[0x006, 15, 0], [0x006, 15], [0x006, 15, 16], [0x006, 15]],
                      [[0x007, 15, 3, -1, 15, 5], [0x007, 15], [0x007, 15], [0x007, 15], [0x007, 15], [0x007, 15, 0], [0x007, 15]], [[0x008, 15]],
                      [[0x009, 15, 0], [0x009, 15, 0], [0x009, 15, 0], [0x009, 15, 0, 5], [0x009, 15, 0, 5]], [[0x00A, 15, 0, 5], [0x00A, 15, 0, 5]],
                      [[0x00B, 15], [0x00B, 15, 0, 4, 5]], [[0x00C, 15, 0], [0x00C, 15, 0]], [[0x00D]], [[0x00E, 15, 16], [0x00E, 15, 16], [0x00E, 15, 16]], [[0x00F, 15]],

                      [[0x010, 15, 16, 17, 2, -1, 15, 16, 2, 5], [0x010, 15, 16, 17, 2, -1, 15, 16, 2, 5]],
                      [[0x011, 15, 16, 17, -1, 15, 16, 5], [0x011, 15, 16, 17, 1, -1, 15, 16, 17, 2, -1, 15, 16, 1, 5, -1, 15, 16, 2, 5]], [[0x012, 15, 16], [0x012, 15, 16, 17, -1, 15, 16, 5]],
                      [[0x013, 15, 16, 17, 2, -1, 15, 16, 2, 5], [0x013, 15, 16, 17, 1, -1, 15, 16, 17, 2, -1, 15, 16, 1, 5, -1, 15, 16, 2, 5],
                       [0x013, 15, 16, 17, 2, -1, 15, 16, 2, 5], [0x013, 15, 16, 17, 1, -1, 15, 16, 17, 2, -1, 15, 16, 1, 5, -1, 15, 16, 2, 5]],
                      [[0x014, 15, 16, 17, 1, -1, 15, 16, 17, 2, -1, 15, 16, 2, 5, -1, 15, 16, 1, 5], [0x014, 15, 16, 17, 1, -1, 15, 16, 17, 2, -1, 15, 16, 2, 5, -1, 15, 16, 1, 5]],
                      [[0x015]], [[0x016]], [[0x017, 15, 16, 17, 1, -1, 15, 16, 1, 5], [0x017, 15, 16, 17, 1, -1, 15, 16, 1, 5]], [[0x018, 15, 0]],
                      [[0x019, 15, 16, 17, 2, -1, 15, 16, 2, 5], [0x019, 15, 16, 17, 1, -1, 15, 16, 17, 2, -1, 15, 16, 1, 5, -1, 15, 16, 2, 5], [0x019, 15, 16, 17, 1, -1, 15, 16, 17, 2, -1, 15, 16, 1, 5, -1, 15, 16, 2, 5]],
                      [[0x01A, 15, 16, 17, 18, 19, 20, 21, -1, 15, 16, 5], [0x01A, 15, 16, 17, 18, 19, 20, 21, -1, 15, 16, 5]], [[0x01B], [0x01B], [0x01B]], [[0x01C], [0x01C], [0x01C], [0x01C]],

                      [[0x01D]], [[0x01E, 15, 6], [0x01E, 15, 6], [0x01E, 15, 6], [0x01E, 15, 6]], [[0x01F, 15, 6], [0x01F, 15, 6]], [[0x020, 15, 6], [0x020, 15, 6]], [[0x021, 15, 6], [0x021, 15, 6]],
                      [[0x022, 15, 6], [0x022, 15, 6], [0x022, 15, 6], [0x022, 15, 6]], [[0x023, 15, 6]], [[0x024, 15, 6], [0x024, 15, 6], [0x024, 15, 6]], [[0x025, 15, 6], [0x025, 15, 6], [0x025, 15, 6]],
                      [[0x026, 15, 6], [0x026, 15, 6], [0x026, 15, 6], [0x026, 15, 6]], [[0x027, 15, 6], [0x027, 15, 6], [0x027, 15, 6], [0x027, 15, 6]], [[0x028, 15, 6], [0x028, 15, 6]],
                      [[0x029, 15, 6], [0x029, 15, 6]], [[0x02A, 15, 6], [0x02A, 15, 6]], [[0x02B, 15, 6]], [[0x02C, 15, 6]], [[0x02D, 15, 6], [0x02D, 15, 6]], [[0x02E, 15, 6], [0x02E, 15, 6]],
                      [[0x02F, 15, 6], [0x02F, 15, 6]], [[0x030, 15, 0, 6]], [[0x031, 27, 6]], [[0x032, 15, 4, 5, 6]],

                      [[0x033, 15, 22], [0x033, 15]], [[0x034, 15, 22], [0x034, 15, 22], [0x034, 15, 22], [0x034, 15, 22], [0x34, 15, 22], [0x034, 15, 22], [0x034, 15, 22], [0x034, 15, 22], [0x034, 15, 22]],
                      [[0x035, 15, 22], [0x035, 15, 22, 5], [0x035, 15, 16, 22, 1, 2, 4, 5, 6, 7, 13], [0x035, 15, 16, 22, 1, 2, 4, 5, 6, 7, 13], [0x035, 15, 22], [0x035, 15, 22], [0x035, 15, 22], [0x035, 15, 22]],
                      [[0x036, 15, 22, 1, 2, -1, 15, 22, 2, 5], [0x036, 15, 22], [0x036, 15, 22], [0x036, 15, 22], [0x036, 15, 22, 2], [0x036, 15, 22], [0x036, 15, 22]], [[0x037]],
                      [[0x038, 15, 16], [0x038, 15, 16, 1], [0x038, 15, 16]], [[0x039, 15, 22], [0x039, 15, 22, 2]], [[0x03A, 15, 16, 1, 3], [0x03A, 15, 16, 1, 3], [0x03A, 15, 16, 1], [0x03A, 15, 16, 1, 3], [0x03A, 15, 16, 1, 4]],
                      [[0x03B, 15, 16, 1, 3], [0x03B, 15, 16, 1, 3], [0x03B, 15, 16, 1, 3]], [[0x03C, 15, 22], [0x03C, 15, 22]], [[0x03D, 15, 22]], [[0x03E, 15, 22], [0x03E, 15, 22]],
                      [[0x03F, 15, 22], [0x03F, 15, 16, 22, 1, 2, 4, 5, 6, 7, 13], [0x03F, 15, 16, 22, 1, 2, 4, 5, 6, 7, 13]], [[0x040, 15, 22]], [[0x041, 15, 22]], [[0x042, 15, 22]], [[0x043, 15, 22]], [[0x044, 15, 22]],
                      [[0x045, 15, 16], [0x045, 15, 16]], [[0x046, 15, 16]], [[0x047, 15, 16, 1, 3], [0x047, 15, 16, 1, 3], [0x047, 15, 16, 1, 3], [0x047, 15, 16, 1, 3]],
                      [[0x048, 15, 16, 1, 3], [0x048, 15, 16, 1, 3], [0x048, 15, 16, 1, 3], [0x048, 15, 16, 1, 3]], [[0x049, 15, 16, 1, 3]], [[0x04A, 15, 16], [0x04A, 15, 16]],
                      [[0x04B, 15, 16, 1, 4, -1, 15, 16, 5], [0x04B, 15, 16], [0x04B, 15, 16]], [[0x04C, 15, 16, 1, 3], [0x04C, 15, 16, 1, 4]],
                      [[0x04D, 15, 16, 1, 3], [0x04D, 15, 16, 1, 3], [0x04D, 15, 16, 1, 4, -1, 15, 16, 5], [0x04D, 15, 16, 1, 3], [0x04D, 15, 16, 1, 3]], [[0x04E]],
                      [[0x04F, 15, 16, 1, 4, -1, 15, 16, 0, 5], [0x04F, 15, 16, 1, 4, -1, 15, 16, 5]],

                      [[0x050]], [[0x051]], [[0x052]], [[0x053]], [[0x054]], [[0x055]], [[0x056], [0x056]], [[0x057]], [[0x058], [0x058]], [[0x059], [0x059]],
                      [[0x05A, 15, 5, -1, 15, 6], [0x05A], [0x05A, 15]], [[0x05B], [0x05B]], [[0x05C], [0x05C], [0x05C]],
                      [[0x05D, 15, 16], [0x05D, 15, 16], [0x05D, 15, 16, 17, 18, 19, 20, 21, -1, 15, 16, 5]], [[0x05E]], [[0x05F]],
                      [[0x060, 15, 16, 17, 1, -1, 15, 16, 17, 2, -1, 15, 16, 1, 5, -1, 15, 16, 2, 5], [0x060, 15, 16, 17, 1, -1, 15, 16, 17, 2, -1, 15, 16, 1, 5, -1, 15, 16, 2, 5]],
                      [[0x061, 15, 16, 17, 18, 19, 20, 21, -1, 15, 16, 5], [0x061, 15, 16, 5]], [[0x062, 15, 16], [0x062, 15, 16]], [[0x063], [0x063]], [[0x064]], [[0x065]],

                      [[0x066, 1], [0x066]], [[0x067, 1, 23, -1, 1, 5], [0x067, 1], [0x067, 23, 1, 4, 6, 8, 10, -1, 15, 5]],
                      [[0x068, 23, 1, 3, -1, 1, 5], [0x068, 23, 1, -1, 1, 5], [0x068, 23, 1, 3, 6, 8, 10, -1, 1, 3, 5, 6, 8, 10], [0x068, 23, 1, 3, -1, 1, 5], [0x068, 23, 1, -1, 1, 5]],
                      [[0x069, 23, 1, 3, -1, 1, 5], [0x069, 23, 1, -1, 1, 5], [0x069, 23, 1, 3, -1, 1, 5], [0x069, 23, 1, -1, 1, 5]],
                      [[0x06A, 23, 1, -1, 1, 5], [0x06A, 23, 1, -1, 1, 5], [0x06A, 23, 1, -1, 1, 5]], [[0x06B, 23, 1, -1, 1, 5], [0x06B, 23, 1, -1, 1, 5]],
                      [[0x06C, 23, 1, 3, -1, 1, 5], [0x06C, 23, 1, -1, 1, 5]], [[0x06D, 23, 1, -1, 1, 5]],
                      [[0x06E, 23, 1, 3, -1, 1, 3, 5], [0x06E, 23, 1, 3, -1, 1, 3, 5], [0x06E, 23, 1, 3, -1, 1, 5], [0x06E, 23, 1, 3, -1, 1, 5], [0x06E, 23, 1, -1, 1, 5]],
                      [[0x06F, 23, 1, 3, -1, 1, 3, 5], [0x06F, 23, 1, 3, -1, 1, 3, 5], [0x06F, 23, 1, 3, -1, 1, 3, 5], [0x06F, 23, 1, 3, -1, 1, 3, 5], [0x06F, 23, 1, 3, -1, 1, 3, 5], [0x06F, 23, 1, 3, -1, 1, 3, 5]],
                      [[0x070, 23, 1, 3, -1, 1, 3, 5]], [[0x071]], [[0x072, 23, 1, 3, -1, 1, 3, 5], [0x072, 1, 3, 5], [0x072, 23, 1, 3, -1, 1, 3, 5]], [[0x073]],
                      [[0x074, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5], [0x074, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5], [0x074, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5]], [[0x075, 23, 1, 3, 6, 8, 10], [0x075, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5]],
                      [[0x076, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5], [0x076, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5], [0x076, 1, 4, 5], [0x076, 1, 4, 5]],

                      [[0x077, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5], [0x077, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5], [0x077, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5],
                       [0x077, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5], [0x077, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5, 6, 8, 10], [0x077, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5],
                       [0x077, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5], [0x077, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5], [0x077, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5]],
                      [[0x078, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5], [0x078, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5], [0x078, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5],
                       [0x078, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5], [0x078, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5]],
                      [[0x079, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5], [0x079, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5]], [[0x07A, 1, 4, 5]],
                      [[0x07B, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5], [0x07B, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5], [0x07B, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5],
                       [0x07B, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5], [0x07B, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5]],
                      [[0x07C, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5], [0x07C, 23, 1, 4, 6, 8, 10, -1, 1, 4, 5]],
                      [[0x07D, 23, 1, 4, 6, 8, 10], [0x07D, 23, 1, 4, 6, 8, 10]], [[0x07E, 23, 1, 4, 6, 8, 10], [0x07E, 23, 1, 4, 6, 8, 10]],
                      [[0x07F, 23, 1, 4, 6, 8, 10], [0x07F, 23, 1, 4, 6, 8, 10]], [[0x080, 23, 1, 4, 6, 8, 10]], [[0x081, 1, 4, 5]],

                      [[0x082, 14], [0x082, 14], [0x082, 14], [0x082, 14], [0x082, 14], [0x082, 14]], [[0x083]], [[0x084, 14], [0x084, 14]], [[0x085, 14], [0x085, 14]],
                      [[0x086, 14, 15], [0x086, 14, 15], [0x086, 14], [0x086, 14, 15], [0x086, 14, 15]], [[0x087, 14]], [[0x088, 14]], [[0x089, 14], [0x089, 14]],
                      [[0x08A, 14], [0x08A, 14], [0x08A, 14], [0x08A, 14], [0x08A, 14], [0x08A, 14]], [[0x08B, 14]], [[0x08C, 14]], [[0x08D, 14]], [[0x08E, 14]], [[0x08F, 14, 15], [0x08F, 14, 15, 5]],
                      [[0x090]], [[0x091, 14]], [[0x092]], [[0x093, 14], [0x093, 14]], [[0x094, 14], [0x094, 14]], [[0x095, 14], [0x095, 14]], [[0x096, 14], [0x096, 14]], [[0x097, 14], [0x097, 14]],
                      [[0x098, 14]], [[0x099, 14, 15], [0x099, 14, 15]], [[0x09A, 14]], [[0x09B]], [[0x09C]], [[0x09D, 15, 3, 6, -1, 15, 5, 6]], [[0x09E]], [[0x09F]], [[0x0A0]], [[0x0A1]],
                      [[0x0A2, 14], [0x0A2, 14, 6, 7, 8, 12, 13], [0x0A2, 14]], [[0x0A3, 14], [0x0A3, 14], [0x0A3, 14], [0x0A3, 14]], [[0x0A4, 14], [0x0A4, 14]], [[0x0A5, 14], [0x0A5, 14]], [[0x0A6, 14]],
                      [[0x0A7, 14], [0x0A7, 14]], [[0x0A8, 14], [0x0A8, 14]], [[0x0A9, 14]], [[0x0AA, 14, 6, 7, 8, 12, 13], [0x0AA, 14, 6, 7, 8, 12, 13]], [[0x0AB]],
                      [[0x0AC, 15, 6], [0x0AC, 15, 6]], [[0x0AD, 15, 6], [0x0AD, 15, 6]], [[0x0AE, 15, 6]],
                      [[0x0AF, 15, 16, 17, -1, 15, 16, 5], [0x0AF, 15, 16, 17, 18, 19, 20, 21, -1, 15, 16, 5], [0x0AF, 15, 16, 17, -1, 15, 16, 5], [0x0AF, 15, 16, 5]],
                      [[0x0B0, 15, 6], [0x0B0, 15, 6]], [[0x0B1, 15, 16, 6], [0x0B1, 15, 16, 6]],

                      [[0x0B2, 15, 16, 17, 1, -1, 15, 16, 1, 5, -1, 15, 16, 17, 2, -1, 15, 16, 2, 5], [0x0B2, 15, 16, 17, 1, 6, -1, 15, 16, 1, 5, 6, -1, 15, 16, 17, 2, 6, -1, 15, 16, 2, 5, 6],
                       [0x0B2, 15, 16, 17, 1, 6, -1, 15, 16, 1, 5, 6, -1, 15, 16, 17, 2, 6, -1, 15, 16, 2, 5, 6]],
                      [[0x0B3, 15, 16, 17, 1, 6, -1, 15, 16, 1, 5, 6, -1, 15, 16, 17, 2, 6, -1, 15, 16, 2, 5, 6], [0x0B3, 15, 16, 17, 1, 6, -1, 15, 16, 1, 5, 6, -1, 15, 16, 17, 2, 6, -1, 15, 16, 2, 5, 6]],
                      [[0x0B4, 15, 16, 17, 1, 6, -1, 15, 16, 1, 5, 6, -1, 15, 16, 17, 2, 6, -1, 15, 16, 2, 5, 6], [0x0B4, 15, 16, 17, 1, 6, -1, 15, 16, 1, 5, 6, -1, 15, 16, 17, 2, 6, -1, 15, 16, 2, 5, 6]],
                      [[0x0B5, 15, 16, 17, 1, 6, -1, 15, 16, 1, 5, 6, -1, 15, 16, 17, 2, 6, -1, 15, 16, 2, 5, 6]], [[0x0B6, 15, 16, 17, 2, 6, -1, 15, 16, 2, 5, 6]],
                      [[0x0B7, 15, 16, 17, 2, 6, -1, 15, 16, 2, 5, 6], [0x0B7, 15, 16, 17, 2, 6, -1, 15, 16, 2, 5, 6], [0x0B7, 15, 16, 17, 2, 6, -1, 15, 16, 2, 5, 6]],
                      [[0x0B8, 15, 16, 17, 2, 6, -1, 15, 16, 2, 5, 6], [0x0B8, 15, 16, 17, 2, 6, -1, 15, 16, 2, 5, 6]], [[0x0B9, 15, 16, 17, 2, 6, -1, 15, 16, 2, 5, 6], [0x0B9, 15, 16, 17, 2, 6, -1, 15, 16, 2, 5, 6]],

                      [[0x0BA, 15, 16, 17, 18, 19, 20, 21, 0, 6, -1, 15, 16, 0, 5, 6], [0x0BA, 15, 16, 17, 18, 19, 20, 21, -1, 15, 16, 5], [0x0BA, 15, 16, 17, 18, 19, 20, 21, -1, 15, 16, 5]],
                      [[0x0BB, 15, 16, 17, 18, 19, 20, 21, -1, 15, 16, 5], [0x0BB, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6]],
                      [[0x0BC, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6], [0x0BC, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6], [0x0BC, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6],
                       [0x0BC, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6], [0x0BC, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6], [0x0BC, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6]],
                      [[0x0BD, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6], [0x0BD, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6], [0x0BD, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6]],
                      [[0x0BE, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6], [0x0BE, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6], [0x0BE, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6]],
                      [[0x0BF, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6], [0x0BF, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6]],
                      [[0x0C0, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6], [0x0C0, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6]],
                      [[0x0C1, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6], [0x0C1, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6]],
                      [[0x0C2, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6], [0x0C2, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6]],
                      [[0x0C3, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6], [0x0C3, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6],
                       [0x0C3, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6], [0x0C3, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6]],
                      [[0x0C4, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6], [0x0C4, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6]],
                      [[0x0C5, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6], [0x0C5, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6]],
                      [[0x0C6, 15, 16, 17, 18, 19, 20, 21, 6, -1, 15, 16, 5, 6], [0x0C6, 15, 16, 17, 18, 19, 20, 21, 6, 9, -1, 15, 16, 5, 6, 9]],
                      [[0x0C7, 15, 16, 17, 18, 19, 20, 21, 6, 9, -1, 15, 16, 5, 6, 9], [0x0C7, 15, 16, 17, 18, 19, 20, 21, 6, 9, -1, 15, 16, 5, 6, 9]],

                      [[0x0C8]], [[0x0C9]], [[0x0CA]], [[0x0CB]], [[0x0CC]], [[0x0CD]], [[0x0CE]], [[0x0CF]], [[0x0D0]], [[0x0D1]]]

        #Replaces logic depending on what settings are used
        # settings[1][0] = Reduce Mini Mario Requirememnts, settings[1][1] = Reduce Ball Hop Skips
        room_replace = []
        if settings[1][1] == 1:
            room_replace_append = [[[0x010, 15, 16, 17, 2], [0x010, 15, 16, 17, 2]], [[0x011, 15, 16, 17], [0x011, 15, 16, 17, 1, -1, 15, 16, 17, 2]], [[0x012, 15, 16], [0x012, 15, 16, 17]],
                                   [[0x013, 15, 16, 17, 2], [0x013, 15, 16, 17, 1, -1, 15, 16, 17, 2], [0x013, 15, 16, 17, 2], [0x013, 15, 16, 17, 1, -1, 15, 16, 17, 2]],
                                   [[0x014, 15, 16, 17, 1, -1, 15, 16, 17, 2], [0x014, 15, 16, 17, 1, 15, 16, 17, 2]], [[0x017, 15, 16, 17, 1], [0x017, 15, 16, 17, 1]],
                                   [[0x019, 15, 16, 17, 2], [0x019, 15, 16, 17, 1, -1, 15, 16, 17, 2], [0x019, 15, 16, 17, 1, -1, 15, 16, 17, 2]],
                                   [[0x01A, 15, 16, 17, 18, 19, 20, 21], [0x01A, 15, 16, 17, 18, 19, 20, 21]], [[0x05D, 15, 16], [0x05D, 15, 16], [0x05D, 15, 16, 17, 18, 19, 20, 21]],
                                   [[0x060, 15, 16, 17, 2], [0x060, 15, 16, 17, 2]], [[0x061, 15, 16, 17, 18, 19, 20, 21], [0x061, 15, 16, 17, 18, 19, 20, 21, 5]],

                                   [[0x067, 23, 1], [0x067, 1], [0x067, 23, 1, 4, 6, 8, 10]],
                                   [[0x068, 23, 1, 3], [0x068, 23, 1], [0x068, 23, 1, 3, 6, 8, 10, -1, 23, 1, 5, 6, 8, 10], [0x068, 23, 1, 3, -1, 23, 1, 5], [0x068, 23, 1]],
                                   [[0x069, 23, 1, 3, -1, 23, 1, 5], [0x069, 23, 1], [0x069, 23, 1, 3, -1, 23, 1, 5], [0x069, 23, 1]],
                                   [[0x06A, 23, 1], [0x06A, 23, 1], [0x06A, 23, 1]], [[0x06B, 23, 1], [0x06B, 23, 1]], [[0x06C, 23, 1, 3], [0x06C, 23, 1]], [[0x06D, 23, 1]],
                                   [[0x06E, 23, 1, 3], [0x06E, 23, 1, 3], [0x06E, 23, 1, 3, -1, 23, 1, 5], [0x06E, 23, 1, 3, -1, 23, 1, 5], [0x06E, 23, 1]],
                                   [[0x06F, 23, 1, 3], [0x06F, 23, 1, 3], [0x06F, 23, 1, 3], [0x06F, 23, 1, 3], [0x06F, 23, 1, 3], [0x06F, 23, 1, 3]], [[0x070, 23, 1, 3]], [[0x071]],
                                   [[0x072, 23, 1, 3], [0x072, 23, 1, 3, 5], [0x072, 23, 1, 3]], [[0x073]],
                                   [[0x074, 23, 1, 4, 6, 8, 10], [0x074, 23, 1, 4, 6, 8, 10], [0x074, 23, 1, 4, 6, 8, 10]], [[0x075, 23, 1, 3, 6, 8, 10], [0x075, 23, 1, 4, 6, 8, 10]],
                                   [[0x076, 23, 1, 4, 6, 8, 10], [0x076, 23, 1, 4, 6, 8, 10], [0x076, 23, 1, 4, 5, 6, 8, 10], [0x076, 23, 1, 4, 5, 6, 8, 10]],

                                   [[0x077, 23, 1, 4, 6, 8, 10], [0x077, 23, 1, 4, 6, 8, 10], [0x077, 23, 1, 4, 6, 8, 10], [0x077, 23, 1, 4, 6, 8, 10], [0x077, 23, 1, 4, 6, 8, 10],
                                    [0x077, 23, 1, 4, 6, 8, 10], [0x077, 23, 1, 4, 6, 8, 10], [0x077, 23, 1, 4, 6, 8, 10], [0x077, 23, 1, 4, 6, 8, 10]],
                                   [[0x078, 23, 1, 4, 6, 8, 10], [0x078, 23, 1, 4, 6, 8, 10], [0x078, 23, 1, 4, 6, 8, 10], [0x078, 23, 1, 4, 6, 8, 10], [0x078, 23, 1, 4, 6, 8, 10]],
                                   [[0x079, 23, 1, 4, 6, 8, 10], [0x079, 23, 1, 4, 6, 8, 10]], [[0x07A, 23, 1, 4, 5, 6, 8, 10]],
                                   [[0x07B, 23, 1, 4, 6, 8, 10], [0x07B, 23, 1, 4, 6, 8, 10], [0x07B, 23, 1, 4, 6, 8, 10], [0x07B, 23, 1, 4, 6, 8, 10], [0x07B, 23, 1, 4, 6, 8, 10]],
                                   [[0x07C, 23, 1, 4, 6, 8, 10], [0x07C, 23, 1, 4, 6, 8, 10]], [[0x07D, 23, 1, 4, 6, 8, 10], [0x07D, 23, 1, 4, 6, 8, 10]],
                                   [[0x07E, 23, 1, 4, 6, 8, 10], [0x07E, 23, 1, 4, 6, 8, 10]], [[0x07F, 23, 1, 4, 6, 8, 10], [0x07F, 23, 1, 4, 6, 8, 10]],
                                   [[0x080, 23, 1, 4, 6, 8, 10]], [[0x081, 23, 1, 4, 5, 6, 8, 10]],

                                   [[0x0AF, 15, 16, 17], [0x0AF, 15, 16, 17, 18, 19, 20, 21], [0x0AF, 15, 16, 17], [0x0AF, 15, 16, 17, 5]],
                                   [[0x0B2, 15, 16, 17, 1, 15, 16, 17, 2], [0x0B2, 15, 16, 17, 1, 6, -1, 15, 16, 17, 2, 6], [0x0B2, 15, 16, 17, 1, 6, -1, 15, 16, 17, 2, 6]],
                                   [[0x0B3, 15, 16, 17, 1, 6, -1, 15, 16, 17, 2, 6], [0x0B3, 15, 16, 17, 1, 6, -1, 15, 16, 17, 2, 6]],
                                   [[0x0B4, 15, 16, 17, 1, 6, -1, 15, 16, 17, 2, 6], [0x0B4, 15, 16, 17, 1, 6, -1, 15, 16, 17, 2, 6]],
                                   [[0x0B5, 15, 16, 17, 1, 6, -1, 15, 16, 17, 2, 6]], [[0x0B6, 15, 16, 17, 2, 6]],
                                   [[0x0B7, 15, 16, 17, 2, 6], [0x0B7, 15, 16, 17, 2, 6], [0x0B7, 15, 16, 17, 2, 6]],
                                   [[0x0B8, 15, 16, 17, 2, 6], [0x0B8, 15, 16, 17, 2, 6]], [[0x0B9, 15, 16, 17, 2, 6], [0x0B9, 15, 16, 17, 2, 6]],

                                   [[0x0BA, 15, 16, 17, 18, 19, 20, 21, 0, 6], [0x0BA, 15, 16, 17, 18, 19, 20, 21], [0x0BA, 15, 16, 17, 18, 19, 20, 21]],
                                   [[0x0BB, 15, 16, 17, 18, 19, 20, 21], [0x0BB, 15, 16, 17, 18, 19, 20, 21, 6]],
                                   [[0x0BC, 15, 16, 17, 18, 19, 20, 21, 6], [0x0BC, 15, 16, 17, 18, 19, 20, 21, 6], [0x0BC, 15, 16, 17, 18, 19, 20, 21, 6],
                                    [0x0BC, 15, 16, 17, 18, 19, 20, 21, 6], [0x0BC, 15, 16, 17, 18, 19, 20, 21, 6], [0x0BC, 15, 16, 17, 18, 19, 20, 21, 6]],
                                   [[0x0BD, 15, 16, 17, 18, 19, 20, 21, 6], [0x0BD, 15, 16, 17, 18, 19, 20, 21, 6], [0x0BD, 15, 16, 17, 18, 19, 20, 21, 6]],
                                   [[0x0BE, 15, 16, 17, 18, 19, 20, 21, 6], [0x0BE, 15, 16, 17, 18, 19, 20, 21, 6], [0x0BE, 15, 16, 17, 18, 19, 20, 21, 6]],
                                   [[0x0BF, 15, 16, 17, 18, 19, 20, 21, 6], [0x0BF, 15, 16, 17, 18, 19, 20, 21, 6]],
                                   [[0x0C0, 15, 16, 17, 18, 19, 20, 21, 6], [0x0C0, 15, 16, 17, 18, 19, 20, 21, 6]],
                                   [[0x0C1, 15, 16, 17, 18, 19, 20, 21, 6], [0x0C1, 15, 16, 17, 18, 19, 20, 21, 6]],
                                   [[0x0C2, 15, 16, 17, 18, 19, 20, 21, 6], [0x0C2, 15, 16, 17, 18, 19, 20, 21, 6]],
                                   [[0x0C3, 15, 16, 17, 18, 19, 20, 21, 6], [0x0C3, 15, 16, 17, 18, 19, 20, 21, 6], [0x0C3, 15, 16, 17, 18, 19, 20, 21, 6], [0x0C3, 15, 16, 17, 18, 19, 20, 21, 6]],
                                   [[0x0C4, 15, 16, 17, 18, 19, 20, 21, 6], [0x0C4, 15, 16, 17, 18, 19, 20, 21, 6]],
                                   [[0x0C5, 15, 16, 17, 18, 19, 20, 21, 6], [0x0C5, 15, 16, 17, 18, 19, 20, 21, 6]],
                                   [[0x0C6, 15, 16, 17, 18, 19, 20, 21, 6], [0x0C6, 15, 16, 17, 18, 19, 20, 21, 6, 9]],
                                   [[0x0C7, 15, 16, 17, 18, 19, 20, 21, 6, 9], [0x0C7, 15, 16, 17, 18, 19, 20, 21, 6, 9]],]
            for a in room_replace_append:
                room_replace.append(a)
        if settings[1][0] == 1:
            room_replace_append = [[[0x038, 15, 16], [0x038, 15, 16], [0x038, 15, 16]], [[0x03A, 15, 16, 3], [0x03A, 15, 16, 3], [0x03A, 15, 16], [0x03A, 15, 16, 3], [0x03A, 15, 16, 4]],
                                   [[0x03B, 15, 16, 3], [0x03B, 15, 16, 3], [0x03B, 15, 16, 3]], [[0x047, 15, 16, 3], [0x047, 15, 16, 1, 3], [0x047, 15, 16, 3], [0x047, 15, 16, 3]],
                                   [[0x048, 15, 16, 3], [0x048, 15, 16, 3], [0x048, 15, 16, 3], [0x048, 15, 16, 3]], [[0x04C, 15, 16, 3], [0x04C, 15, 16, 4]],
                                   [[0x04D, 15, 16, 3], [0x04D, 15, 16, 3], [0x04D, 15, 16, 4, -1, 15, 16, 5], [0x04D, 15, 16, 3], [0x04D, 15, 16, 3]],
                                   [[0x04F, 15, 16, 4, -1, 15, 16, 0, 5], [0x04F, 15, 16, 4, -1, 15, 16, 5]],

                                   [[0x066], [0x066]], [[0x067, 23, 0, -1, 0, 5], [0x067, 0], [0x067, 23, 0, 4, 6, 8, 10, -1, 23, 0, 5]],
                                   [[0x068, 23, 0, 3, -1, 0, 5], [0x068, 23, 0, -1, 0, 5], [0x068, 23, 0, 3, 6, 8, 10, -1, 0, 3, 5, 6, 8, 10], [0x068, 23, 0, 3, -1, 0, 5], [0x068, 23, 0, -1, 0, 5]],
                                   [[0x069, 23, 0, 3, -1, 0, 5], [0x069, 23, 0, -1, 0, 5], [0x069, 23, 0, 3, -1, 0, 5], [0x069, 23, 0, -1, 0, 5]],
                                   [[0x06A, 23, 0, -1, 0, 5], [0x06A, 23, 0, -1, 0, 5], [0x06A, 23, 0, -1, 0, 5]], [[0x06B, 23, 0, -1, 0, 5], [0x06B, 23, 0, -1, 0, 5]],
                                   [[0x06C, 23, 0, 3, -1, 0, 5], [0x06C, 23, 0, -1, 0, 5]], [[0x06D, 23, 0, -1, 0, 5]],
                                   [[0x06E, 23, 0, 3, -1, 0, 3, 5], [0x06E, 23, 0, 3, -1, 0, 3, 5], [0x06E, 23, 0, 3, -1, 0, 5], [0x06E, 23, 0, 3, -1, 0, 5], [0x06E, 23, 0, -1, 0, 5]],
                                   [[0x06F, 23, 0, 3, -1, 0, 3, 5], [0x06F, 23, 0, 3, -1, 0, 3, 5], [0x06F, 23, 0, 3, -1, 0, 3, 5], [0x06F, 23, 0, 3, -1, 0, 3, 5], [0x06F, 23, 0, 3, -1, 0, 3, 5], [0x06F, 23, 0, 3, -1, 0, 3, 5]],
                                   [[0x070, 23, 0, 3, -1, 0, 3, 5]], [[0x071]], [[0x072, 23, 0, 3, -1, 0, 3, 5], [0x072, 0, 3, 5], [0x072, 23, 0, 3, -1, 0, 3, 5]], [[0x073]],
                                   [[0x074, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5], [0x074, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5], [0x074, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5]], [[0x075, 23, 0, 3, 6, 8, 10], [0x075, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5]],
                                   [[0x076, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5], [0x076, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5], [0x076, 0, 4, 5], [0x076, 0, 4, 5]],

                                   [[0x077, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5], [0x077, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5], [0x077, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5],
                                    [0x077, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5], [0x077, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5, 6, 8, 10], [0x077, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5],
                                    [0x077, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5], [0x077, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5], [0x077, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5]],
                                   [[0x078, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5], [0x078, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5], [0x078, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5],
                                    [0x078, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5], [0x078, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5]],
                                   [[0x079, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5], [0x079, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5]], [[0x07A, 0, 4, 5]],
                                   [[0x07B, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5], [0x07B, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5], [0x07B, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5],
                                    [0x07B, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5], [0x07B, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5]],
                                   [[0x07C, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5], [0x07C, 23, 0, 4, 6, 8, 10, -1, 0, 4, 5]],
                                   [[0x07D, 23, 0, 4, 6, 8, 10], [0x07D, 23, 0, 4, 6, 8, 10]], [[0x07E, 23, 0, 4, 6, 8, 10], [0x07E, 23, 0, 4, 6, 8, 10]],
                                   [[0x07F, 23, 0, 4, 6, 8, 10], [0x07F, 23, 0, 4, 6, 8, 10]], [[0x080, 23, 0, 4, 6, 8, 10]], [[0x081, 0, 4, 5]],]
            for a in room_replace_append:
                room_replace.append(a)
        if settings[1][0] == 1 and settings[1][1] == 1:
            room_replace_append = [[[0x067, 23, 0], [0x067, 0], [0x067, 23, 0, 4, 6, 8, 10]],
                                   [[0x068, 23, 0, 3], [0x068, 23, 0], [0x068, 23, 0, 3, 6, 8, 10, -1, 23, 0, 5, 6, 8, 10], [0x068, 23, 0, 3, -1, 23, 0, 5], [0x068, 23, 0]],
                                   [[0x069, 23, 0, 3, -1, 23, 0, 5], [0x069, 23, 0], [0x069, 23, 0, 3, -1, 23, 0, 5], [0x069, 23, 0]],
                                   [[0x06A, 23, 0], [0x06A, 23, 0], [0x06A, 23, 0]], [[0x06B, 23, 0], [0x06B, 23, 0]], [[0x06C, 23, 0, 3], [0x06C, 23, 0]], [[0x06D, 23, 0]],
                                   [[0x06E, 23, 0, 3], [0x06E, 23, 0, 3], [0x06E, 23, 0, 3, -1, 23, 0, 5], [0x06E, 23, 0, 3, -1, 23, 0, 5], [0x06E, 23, 0]],
                                   [[0x06F, 23, 0, 3], [0x06F, 23, 0, 3], [0x06F, 23, 0, 3], [0x06F, 23, 0, 3], [0x06F, 23, 0, 3], [0x06F, 23, 0, 3]],
                                   [[0x070, 23, 0, 3]], [[0x071]], [[0x072, 23, 0, 3], [0x072, 23, 0, 3, 5], [0x072, 23, 0, 3]], [[0x073]],
                                   [[0x074, 23, 0, 4, 6, 8, 10], [0x074, 23, 0, 4, 6, 8, 10], [0x074, 23, 0, 4, 6, 8, 10]], [[0x075, 23, 0, 3, 6, 8, 10], [0x075, 23, 0, 4, 6, 8, 10]],
                                   [[0x076, 23, 0, 4, 6, 8, 10], [0x076, 23, 0, 4, 6, 8, 10], [0x076, 23, 0, 4, 5, 6, 8, 10], [0x076, 23, 0, 4, 5, 6, 8, 10]],

                                   [[0x077, 23, 0, 4, 6, 8, 10], [0x077, 23, 0, 4, 6, 8, 10], [0x077, 23, 0, 4, 6, 8, 10], [0x077, 23, 0, 4, 6, 8, 10], [0x077, 23, 0, 4, 6, 8, 10],
                                    [0x077, 23, 0, 4, 6, 8, 10], [0x077, 23, 0, 4, 6, 8, 10], [0x077, 23, 0, 4, 6, 8, 10], [0x077, 23, 0, 4, 6, 8, 10]],
                                   [[0x078, 23, 0, 4, 6, 8, 10], [0x078, 23, 0, 4, 6, 8, 10], [0x078, 23, 0, 4, 6, 8, 10], [0x078, 23, 0, 4, 6, 8, 10], [0x078, 23, 0, 4, 6, 8, 10]],
                                   [[0x079, 23, 0, 4, 6, 8, 10], [0x079, 23, 0, 4, 6, 8, 10]], [[0x07A, 23, 0, 4, 5, 6, 8, 10]],
                                   [[0x07B, 23, 0, 4, 6, 8, 10], [0x07B, 23, 0, 4, 6, 8, 10], [0x07B, 23, 0, 4, 6, 8, 10], [0x07B, 23, 0, 4, 6, 8, 10], [0x07B, 23, 0, 4, 6, 8, 10]],
                                   [[0x07C, 23, 0, 4, 6, 8, 10], [0x07C, 23, 0, 4, 6, 8, 10]], [[0x07D, 23, 0, 4, 6, 8, 10], [0x07D, 23, 0, 4, 6, 8, 10]],
                                   [[0x07E, 23, 0, 4, 6, 8, 10], [0x07E, 23, 0, 4, 6, 8, 10]], [[0x07F, 23, 0, 4, 6, 8, 10], [0x07F, 23, 0, 4, 6, 8, 10]],
                                   [[0x080, 23, 0, 4, 6, 8, 10]], [[0x081, 23, 0, 4, 5, 6, 8, 10]],]
            for a in room_replace_append:
                room_replace.append(a)
        for r in room_replace:
            room_logic[r[0][0]] = r
            #print(hex(r[0][0]))
            #print(room_logic[r[0][0]])

        # Opens code.bin for enemy stat randomization
        code_bin_path = fs_std_code_bin_path(data_dir=input_folder)
        enemy_stats = load_enemy_stats(code_bin=code_bin_path)
        enemy_stats_rand = []
        boss_stats_rand = []
        dream_boss_stats_rand = []
        filler_stats_rand = []
        for enemy in range(len(enemy_stats)):
            pbar.update(1)
            if stat_mult[0] > -1:
                enemy_stats[enemy].power *= stat_mult[0]
                if enemy_stats[enemy].power > 0xFFFF:
                    enemy_stats[enemy].power = 0xFFFF
            else:
                enemy_stats[enemy].power = 0xFFFF
            if enemy == 87:
                enemy_stats[enemy].exp *= 4
            if stat_mult[1] > 0:
                enemy_stats[enemy].exp *= stat_mult[1]
                if enemy_stats[enemy].exp > 0xFFFF:
                    enemy_stats[enemy].exp = 0xFFFF
            if enemy == 19 or enemy == 33 or enemy == 45 or enemy == 47 or enemy == 49 or enemy == 64 or enemy == 72 or enemy == 78 or enemy == 99 or enemy == 112 or enemy == 121 or enemy == 123 or enemy == 124:
                enemy_stats[enemy].hp *= 2
                enemy_stats[enemy].exp *= 5
            elif enemy == 17:
                enemy_stats[enemy].hp *= 4
                enemy_stats[enemy].power *= 4
                enemy_stats[enemy].defense *= 4
                enemy_stats[enemy].speed = 0x1F
                enemy_stats[enemy].exp *= 4
            elif enemy == 107:
                enemy_stats[enemy].hp *= 2
                enemy_stats[enemy].power *= 2
                enemy_stats[enemy].defense *= 2
                enemy_stats[enemy].speed *= 2
                enemy_stats[enemy].exp *= 2
            if (enemy > 12 and not(14 <= enemy <= 16) and enemy != 20 and
                    enemy != 22 and enemy != 24 and enemy != 26 and
                    enemy != 28 and enemy != 32 and enemy != 34 and
                    enemy != 40 and enemy != 43 and enemy != 44 and
                    enemy != 51 and not(53 <= enemy <= 56) and
                    enemy != 63 and enemy != 83 and enemy != 88 and enemy != 89 and enemy != 97 and
                    enemy != 103 and enemy != 105 and enemy != 108 and enemy != 114 and
                    enemy != 132 and not(134 <= enemy <= 136) and enemy < 139):
                #Appends data to enemy array if it's an enemy
                if (enemy == 13 or enemy == 18 or enemy == 25 or
                        enemy == 27 or enemy == 29 or enemy == 38 or
                        enemy == 39 or enemy == 41 or enemy == 48 or (58 <= enemy <= 61) or
                        (68 <= enemy <= 71) or (85 <= enemy <= 94) or
                        (100 <= enemy <= 102) or enemy == 104 or enemy == 106 or
                        enemy == 113 or (115 <= enemy <= 120) or enemy == 19 or
                        enemy == 21 or enemy == 31 or
                      enemy == 33 or enemy == 35 or enemy == 45 or
                      enemy == 46 or enemy == 47 or enemy == 49 or
                      enemy == 50 or (64 <= enemy <= 67) or (72 <= enemy <= 78) or
                      enemy == 84 or enemy == 98 or enemy == 99 or
                      (110 <= enemy <= 112) or (121 <= enemy <= 125) or enemy == 133):
                    enemy_stats_rand.append([enemy, enemy_stats[enemy].hp, enemy_stats[enemy].power, enemy_stats[enemy].defense,
                                             enemy_stats[enemy].speed, enemy_stats[enemy].exp, enemy_stats[enemy].coins, enemy_stats[enemy].coin_rate,
                                             enemy_stats[enemy].item_chance, enemy_stats[enemy].item_type, enemy_stats[enemy].rare_item_chance, enemy_stats[enemy].rare_item_type, enemy_stats[enemy].level])
                #Appends data to boss array if it's a boss
                elif (enemy == 17 or enemy == 30 or enemy == 42 or
                      enemy == 62 or enemy == 95 or enemy == 96 or
                      enemy == 107 or enemy == 108):
                    boss_stats_rand.append([enemy, enemy_stats[enemy].hp, enemy_stats[enemy].power, enemy_stats[enemy].defense,
                                             enemy_stats[enemy].speed, enemy_stats[enemy].exp, enemy_stats[enemy].coins, enemy_stats[enemy].coin_rate,
                                             enemy_stats[enemy].item_chance, enemy_stats[enemy].item_type, enemy_stats[enemy].rare_item_chance, enemy_stats[enemy].rare_item_type, enemy_stats[enemy].level])
                #Appends data to dream boss array if it's a dream boss
                elif (enemy == 23 or enemy == 36 or enemy == 52 or
                      (79 <= enemy <= 81) or (126 <= enemy <= 131) or enemy == 137):
                    dream_boss_stats_rand.append([enemy, enemy_stats[enemy].hp, enemy_stats[enemy].power, enemy_stats[enemy].defense,
                                             enemy_stats[enemy].speed, enemy_stats[enemy].exp, enemy_stats[enemy].coins, enemy_stats[enemy].coin_rate,
                                             enemy_stats[enemy].item_chance, enemy_stats[enemy].item_type, enemy_stats[enemy].rare_item_chance, enemy_stats[enemy].rare_item_type, enemy_stats[enemy].level])
                #Appends data to filler array if it's a "filler" enemy (one used in bosses that only exists for spectacle)
                else:
                    filler_stats_rand.append([enemy, enemy_stats[enemy].hp, enemy_stats[enemy].power, enemy_stats[enemy].defense,
                                             enemy_stats[enemy].speed, enemy_stats[enemy].exp, enemy_stats[enemy].coins, enemy_stats[enemy].coin_rate,
                                             enemy_stats[enemy].item_chance, enemy_stats[enemy].item_type, enemy_stats[enemy].rare_item_chance, enemy_stats[enemy].rare_item_type, enemy_stats[enemy].level])

        #Logic for real world enemies
        enemy_logic = [[13], [18, 15, 5, -1, 15, 6], [19, 14, -1, 15, 6], [21, 15, 6], [25, 15, 0], [27, 15, 0], [29, 15, 0], [31, 15, 6], [33, 15, 6], [35, 15, 6],
                           [38, 15, 16], [39, 15, 16], [41, 15, 16, 5, -1, 15, 16, 17, 2], [45, 15, 16, 6], [46, 15, 16, 6], [47, 15, 16, 17, 6, -1, 15, 16, 5, 6], [48, 15, 22],
                           [49, 15, 22, 6], [50, 15, 22, 6], [58, 1], [59, 1], [60, 23, 1, -1, 1, 5], [61, 23, 1, -1, 1, 5], [64, 23, 1, 6, -1, 1, 5, 6],
                           [65, 23, 1, 4, 6, 10, -1, 1, 3, 5, 6, 10], [66, 23, 1, 4, 6, 10, -1, 1, 3, 5, 6, 10], [67, 23, 1, 4, 6, 10, -1, 1, 3, 5, 6, 10],
                           [68, 15, 16, 1, -1, 15, 16, 5], [69, 15, 16, 1, -1, 15, 16, 5], [70, 15, 16, 1, -1, 15, 16, 5],
                           [71, 15, 16, 1, -1, 15, 16, 5], [72, 15, 16, 1, 6, -1, 15, 16, 5, 6], [73, 15, 16, 1, 6, -1, 15, 16, 5, 6],
                           [74, 15, 16, 24, 1, 6, -1, 15, 16, 24, 5, 6], [75, 15, 16, 24, 1, 6, -1, 15, 16, 24, 5, 6],
                           [76, 15, 16, 24, 25, 1, 6, -1, 15, 16, 24, 25, 5, 6], [77, 15, 16, 1, 6, -1, 15, 16, 5, 6],
                           [78, 15, 16, 1, 6, -1, 15, 16, 5, 6], [84, 6, 7, 12, 13], [85, 15, -1, 1, 4, 5], [86, 15, -1, 1, 4, 5], [87, 15, -1, 1, 4, 5],
                           [90, 1, 4, 5], [91, 15, 16, 2, 4], [92, 15], [93, 15],
                           [94, 15, 16, 5], [98, 22, 1, 2, 4, 5, 6], [99, 22, 1, 2, 4, 5, 6], [100, 15, 1, 3, 5], [101, 15, 1, 5], [102, 15, 1, 5], [104, 15, 1, 5],
                           [106, 15, 1, 5], [110, 15, 1, 3, 5, 6], [111, 15, 1, 3, 5, 6], [112, 15, 1, 2, 3, 5, 6], [113, 15, 27, 1, 5], [115, 15, 27, 1, 5],
                           [116, 15, 27, 1, 5], [117, 15, 27, 1, 4, 5], [118, 15, 27, 1, 4, 5], [119, 15, 27, 1, 4, 5], [120, 15, 27, 1, 4, 5],[121, 15, 27, 1, 5, 6],
                           [122, 15, 27, 1, 4, 5, 6], [123, 15, 27, 1, 4, 5, 6], [124, 15, 27, 1, 5, 6], [125, 15, 27, 1, 5, 6], [133, 15, 27, 1, 4, 5, 6],]

        #Logic for bosses
        boss_logic = [[17, 14], [30, 15], [42, 15, 16, 17, 18, 19, 20, 21], [62, 23, 1, 4, 6, 8, 10, -1, 1, 5],
                      [95, 15, 16, 22, 1, 2, 4, 5, 6], [96, 15, 16, 22, 1, 2, 4, 5, 6], [107, 15, 1, 2, 4, 5, 6],]

        #Logic for dream world bosses
        dream_boss_logic = [[23], [36, 15, 6], [52, 15, 22, 6], [79, 15, 16, 24, 25, 26, 1, 4, 6, -1, 15, 16, 24, 25, 26, 4, 5, 6],
                            [80, 15, 16, 24, 25, 26, 1, 4, 6, -1, 15, 16, 24, 25, 26, 4, 5, 6], [81, 15, 16, 24, 25, 26, 1, 4, 6, -1, 15, 16, 24, 25, 26, 4, 5, 6],
                            [126, 15, 27, 1, 5, 6], [127, 15, 27, 1, 4, 5, 6], [128, 15, 27, 1, 4, 5, 6], [129, 15, 27, 1, 4, 5, 6], [130, 15, 27, 1, 4, 5, 6],
                            [131, 15, 27, 1, 4, 5, 6], [137, 15, 27, 1, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13],]

        #Logic for "filler" enemies
        filler_logic = [[37, 15, 6], [57, 15, 22, 6], [82, 15, 16, 24, 25, 26, 1, 4, 6, -1, 15, 16, 24, 25, 26, 4, 5, 6],
                        [109, 15, 1, 2, 3, 5, 6], [138, 15, 27, 1, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13],]
        pbar.update(6)

        #Replaces logic where needed
        if settings[1][0] == 1 or settings[1][1] == 1:
            if settings[1][0] == 1 and settings[1][1] == 1:
                replace_enemy = [[41, 15, 16, 17, 2], [47, 15, 16, 17, 6], [58, 23], [59, 23], [60, 23], [61, 23], [64, 23, 0, 6], [65, 23, 4, 6, 8, 10],
                                 [66, 23, 4, 6, 8, 10], [67, 23, 4, 6, 8, 10], [68, 15, 16], [69, 15, 16], [70, 15, 16], [71, 15, 16],
                                 [72, 15, 16, 6], [73, 15, 16, 6], [74, 15, 16, 24, 6], [75, 15, 16, 24, 6], [76, 15, 16, 24, 25, 6], [77, 15, 16, 6], [78, 15, 16, 6],
                                 [85, 15, -1, 23, 4, 5], [86, 15, -1, 23, 4, 5], [87, 15, -1, 23, 4, 5], [90, 23, 4, 5], [94, 15, 16, 17, 18, 19, 20, 21, 5],
                                 [100, 15, 3, 5], [101, 15, 5], [102, 15, 5], [104, 15, 5], [106, 15, 5], [110, 15, 3, 5, 6], [111, 15, 3, 5, 6], [112, 15, 2, 3, 5, 6], [113, 15, 27, 5], [115, 15, 27, 5], [116, 15, 27, 5],
                                 [117, 15, 27, 4, 5], [118, 15, 27, 4, 5], [119, 15, 27, 4, 5], [120, 15, 27, 4, 5], [121, 15, 27, 5, 6],
                                 [122, 15, 27, 4, 5, 6], [123, 15, 27, 4, 5, 6], [124, 15, 27, 5, 6], [125, 15, 27, 5, 6], [133, 15, 27, 4, 5, 6],]

                replace_boss = [[62, 23, 4, 6, 8, 10], [95, 15, 16, 17, 18, 19, 20, 21, 22, 23, 1, 2, 4, 5, 6, 8, 10], [96, 15, 16, 17, 18, 19, 20, 21, 22, 23, 1, 2, 4, 5, 6, 8, 10]]
            elif settings[1][0] == 1:
                replace_enemy = [[58], [59, 23, -1, 5], [60, 23, -1, 5], [61, 23, -1, 5], [64, 23, 6, -1, 5, 6], [65, 23, 4, 6, 10, -1, 3, 5, 6, 10],
                                 [66, 23, 4, 6, 10, -1, 3, 5, 6, 10], [67, 23, 4, 6, 10, -1, 3, 5, 6, 10], [68, 15, 16], [69, 15, 16],
                                 [70, 15, 16], [71, 15, 16], [72, 15, 16, 6], [73, 15, 16, 6],
                                 [74, 15, 16, 24, 6], [75, 15, 16, 24, 6], [76, 15, 16, 24, 25, 6], [77, 15, 16, 6],
                                 [78, 15, 16, 6], [85, 15, -1, 4, 5], [86, 15, -1, 4, 5], [87, 15, -1, 4, 5], [90, 4, 5],
                                 [101, 15, 5], [102, 15, 5], [104, 15, 5], [106, 15, 5], [110, 15, 3, 5, 6], [111, 15, 3, 5, 6], [112, 15, 2, 3, 5, 6], [113, 15, 27, 5], [115, 15, 27, 5], [116, 15, 27, 5],
                                 [117, 15, 27, 4, 5], [118, 15, 27, 4, 5], [119, 15, 27, 4, 5], [120, 15, 27, 4, 5], [121, 15, 27, 5, 6], [122, 15, 27, 4, 5, 6],
                                 [123, 15, 27, 4, 5, 6], [124, 15, 27, 5, 6], [125, 15, 27, 5, 6], [133, 15, 27, 4, 5, 6],]

                replace_boss = [[62, 23, 4, 6, 8, 10, -1, 5]]
            else:
                replace_enemy = [[41, 15, 16, 17, 2], [47, 15, 16, 17, 6], [58, 1], [59, 23, 1], [60, 23, 1], [61, 23, 1], [64, 23, 1, 6], [65, 23, 1, 4, 6, 10],
                                 [66, 23, 1, 4, 6, 10], [67, 23, 1, 4, 6, 10], [72, 15, 16, 1, 6, -1, 15, 16, 5, 6], [73, 15, 16, 1, 6, -1, 15, 16, 5, 6],
                                 [74, 15, 16, 24, 1, 6, -1, 15, 16, 24, 5, 6], [75, 15, 16, 24, 1, 6, -1, 15, 16, 24, 5, 6],
                                 [76, 15, 16, 24, 25, 1, 6, -1, 15, 16, 24, 25, 5, 6], [77, 15, 16, 1, 6, -1, 15, 16, 5, 6],
                                 [78, 15, 16, 1, 6, -1, 15, 16, 5, 6], [85, 15, -1, 23, 1, 4, 5], [86, 15, -1, 23, 1, 4, 5],
                                 [87, 15, -1, 23, 1, 4, 5], [90, 23, 1, 4, 5], [94, 15, 16, 17, 18, 19, 20, 21, 5],]

                replace_boss = [[62, 23, 1, 4, 6, 8, 10], [95, 15, 16, 17, 18, 19, 20, 21, 22, 23, 1, 2, 4, 5, 6, 8, 10], [96, 15, 16, 17, 18, 19, 20, 21, 22, 23, 1, 2, 4, 5, 6, 8, 10]]
            for e in replace_enemy:
                try:
                    enemy_logic[enemy_logic.index(e[0])] = e
                except ValueError:
                    pass
            for b in replace_boss:
                bl = 0
                while boss_logic[bl][0] != b[0]:
                    bl += 1
                boss_logic[bl] = b

            #for enemy in range(len(enemy_logic)):
            #    print(enemy_logic[enemy])
            #    print(enemy_logic[enemy][0] == enemy_stats_rand[enemy][0])
        #Loads in FMap as a 3D array
        parsed_fmapdat = []
        with (
            code_bin_path.open('rb') as code_bin,
            fs_std_romfs_path(FMAPDAT_PATH, data_dir=input_folder).open('rb') as fmapdat,
        ):
            version_pair = determine_version_from_code_bin(code_bin)
            code_bin.seek(FMAPDAT_REAL_WORLD_OFFSET_TABLE_LENGTH_ADDRESS[version_pair] + 8)
            fmapdat_number_of_chunks = struct.unpack('<I', code_bin.read(4))[0] // 8 - 2
            code_bin.seek(4, os.SEEK_CUR)
            for fmapdat_chunk_index in range(fmapdat_number_of_chunks):
                fmapdat_chunk_offset, fmapdat_chunk_len = struct.unpack('<II', code_bin.read(4 * 2))
                fmapdat.seek(fmapdat_chunk_offset)
                if fmapdat_chunk_index < NUMBER_OF_ROOMS:
                    current_sections = []
                    for section_offset, section_length in struct.iter_unpack('<II', fmapdat.read(13 * 4 * 2)):
                        fmapdat.seek(fmapdat_chunk_offset + section_offset)
                        current_sections.append(bytearray(fmapdat.read(section_length)))
                    parsed_fmapdat.append(current_sections)
                else:
                    parsed_fmapdat.append(fmapdat.read(fmapdat_chunk_len))

        #Initializes the item pool
        item_pool = []

        #Initializes the ids that can be used for the new blocks
        unused_blocks = [0, 1, 2, 3, 4, 5, 6, 44, 48, 49, 50, 51, 93, 105, 106, 120, 122, 124, 126, 128, 130, 133, 143, 149, 150, 167, 170, 172, 174, 176, 178, 190, 192, 194, 196, 198, 200,
                         202, 204, 206, 208, 210, 212, 214, 216, 218, 220, 222, 224, 226, 228, 230, 232, 321, 451, 1622, 1644, 1650, 2306, 2307, 2308, 2309, 2310, 2311, 2312, 2313, 2314,
                         2315, 2316, 2317, 2318, 2319, 2320, 2321, 2322, 2323, 2324, 2325, 2326, 2327, 2328, 2329, 2352, 2353, 2412, 2413, 2414, 2415, 2416, 2417, 2418,
                         2419, 2420, 2421, 2422, 2423, 2424, 2425, 2426, 2427, 2428, 2429, 2430, 2431, 2432, 2433, 2434, 2435, 2436, 2437, 2438, 2439, 2440, 2441, 2442, 2443, 2444,
                         2445, 2446, 2447, 2448, 2449, 2450, 2451, 2452, 2453, 2454, 2455, 2456, 2457, 2458, 2459, 2460, 2461, 2462, 2463, 2464, 2465, 2466, 2467, 2468, 2469, 2470,
                         2471, 2472, 2473, 2474, 2475, 2476, 2477, 2478, 2479, 2480, 2481, 2482, 2483]

        # Creates an item_data array with all the blocks and bean spots
        item_locals = []
        # Updates the collision for Nerfed Ball Hop
        if settings[1][1] == 1:
            spot = [[0x1BD4, 0x1BDC, 0x1BE4, 0x1BEC, 0x1C0C, 0x1C14, 0x1C1C, 0x1C24, 0x1F8C,
                    0x1F94, 0x1F9C, 0x1FA4,], [0x69C, 0x6A4, 0x6AC, 0x70C, 0x714, 0x71C,
                    0x744, 0x74C, 0x754, 0x77C, 0x784, 0x78C, 0x794, 0x7B4, 0x7BC,
                    0x7C4, 0x7CC, 0x7EC, 0x7F4, 0x7FC, 0x804, 0x824, 0x82C, 0x834,
                    0x83C, 0x85C, 0x864, 0x86C, 0x874, 0x894, 0x89C, 0x8A4, 0x8AC,
                    0x8CC, 0x8D4, 0x8DC, 0x8E4, 0xA8C, 0xA94, 0xA9C, 0xBDC, 0xBE4,
                    0xBEC, 0xBF4, 0xE44, 0xE4C, 0xE54, 0xE5C, 0xE7C, 0xE84, 0xE8C,
                    0xE94, 0xEEC, 0xEF4, 0xEFC, 0x1004, 0x100C, 0x1014, 0x101C, 0x103C,
                    0x1044, 0x104C, 0x1054, 0x1074, 0x107C, 0x1084, 0x108C, 0x10AC, 0x10B4,
                    0x10BC, 0x10C4, 0x10E4, 0x10EC, 0x10F4, 0x10FC, 0x111C, 0x1124, 0x112C,
                    0x1134, 0x126C, 0x1274, 0x127C, 0x1284, 0x1694, 0x169C, 0x16A4, 0x16AC]]
            for i in range(len(spot[0])):
                parsed_fmapdat[0x5D][3][spot[0][i]] = 0x78
            for i in range(len(spot[1])):
                parsed_fmapdat[0x67][3][spot[1][i]] = 0x78
        block_id = 0
        rooms_to_init = [0x001, 0x004, 0x005, 0x010, 0x011, 0x012, 0x013, 0x014, 0x017, 0x019, 0x01F, 0x020, 0x021, 0x022, 0x027, 0x028, 0x02A,
                         0x034, 0x035, 0x036, 0x038, 0x039, 0x03A, 0x03B, 0x03D, 0x040, 0x04B, 0x04C, 0x04D, 0x04F, 0x062, 0x069, 0x06A, 0x06C,
                         0x06D, 0x06F, 0x070, 0x072, 0x075, 0x076, 0x079, 0x07C, 0x0BB, 0x0BD, 0x0BE, 0x0C4, 0x0C5, 0x0C6, 0x0D2, 0x0D6, 0x0E4,
                         0x0F5, 0x0F6, 0x0FA, 0x10C, 0x124, 0x125, 0x126, 0x127, 0x128, 0x129, 0x12A, 0x13D, 0x144, 0x145, 0x146, 0x147, 0x148,
                         0x14B, 0x14C, 0x14E, 0x14F, 0x161, 0x164, 0x165, 0x167, 0x168, 0x16C, 0x177, 0x17A, 0x17D, 0x187, 0x188, 0x189, 0x18A,
                         0x18B, 0x18F, 0x190, 0x192, 0x194, 0x1E7, 0x1F0, 0x1F1, 0x1F2, 0x1F4, 0x1F6, 0x1F7, 0x1F8, 0x1F9, 0x1FA, 0x204, 0x22A,
                         0x22B, 0x22C, 0x22D, 0x22E, 0x22F, 0x231, 0x232, 0x233, 0x295,]
        for room in range(NUMBER_OF_ROOMS):
            try:
                check_room = rooms_to_init.index(room)
                fevent_manager = FEventScriptManager(input_folder)
                script = fevent_manager.parsed_script(room, 0)
                temp = []
                if (room == 0x001 or room == 0x012 or room == 0x06C or room == 0x075 or room == 0x0C6 or room == 0x0F5 or room == 0x0F6 or
                    room == 0x0FA or room == 0x10C or room == 0x13D or room == 0x177 or room == 0x17A or room == 0x17D or room == 0x1E7 or room == 0x1F8):
                    trigger = 0
                    if room == 0x001:
                        trigger = 4
                    elif room == 0x012:
                        trigger = 1
                    elif room == 0x0C6:
                        trigger = 2
                    elif room == 0x1E7:
                        trigger = 9
                    #Adds blocks in place of attack piece blocks and ability cutscenes
                    new_block = [0x10, 0x0, int(((script.header.triggers[trigger][0] % 0x10000) + (script.header.triggers[trigger][1] % 0x10000))/2) - 0x20,
                                 script.header.triggers[trigger][4] % 0x10000 + 0x55,
                                 int(((script.header.triggers[trigger][0] // 0x10000) + (script.header.triggers[trigger][1] // 0x10000)) / 2), unused_blocks[block_id]]
                    if new_block[4] > 30000:
                        new_block[4] = 0
                    #print(new_block)
                    block_id += 1
                    temp.append(new_block)
                for a in range(len(script.header.actors)):
                    if (script.header.actors[a][5] // 0x1000) % 0x1000 == 0x748 and script.header.actors[a][5] % 0x100 == 0x43:
                        new_block = [0x10, 0x0, script.header.actors[a][0] % 0x10000, script.header.actors[a][0] // 0x10000,
                                     script.header.actors[a][1] % 0x10000, unused_blocks[block_id]]
                        block_id += 1
                        temp.append(new_block)
                for b in range(len(temp)):
                    for d in range(len(temp[b])):
                        parsed_fmapdat[room][7][b*12+d*2:b*12+d*2] = bytearray(struct.pack('<H', temp[b][d]))
            except ValueError:
                pass
            for treasure_index in range(math.floor(len(parsed_fmapdat[room][7])/12)):
                treasure_type, item_id, x, y, z, treasure_id = struct.unpack('<HHHHHH', parsed_fmapdat[room][7][treasure_index*12:treasure_index*12+12])
                if (room != 0x00D and room != 0x015 and room != 0x016 and room != 0x01D and room != 0x037 and room != 0x04E and room != 0x052 and
                        room != 0x054 and room != 0x1D2 and room != 0x2A8 and room != 0x2A9 and treasure_type % 0x100 != 0x16 and
                        treasure_type % 0x100 != 0x17):
                    pbar.update(1)
                    if treasure_type % 2 == 1:
                        treasure_type -= 1
                    item_locals.append([room, treasure_index * 12, treasure_type, x, y, z, treasure_id])
                    item_pool.append([treasure_type, item_id])

        #print(unused_blocks[block_id])
        #for item in item_locals:
        #   print(str(item) + "\n")

        item_logic_chunk = [[], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], []]
        #Logic for every single block and bean spot (The numbers after the ID point to their spots in the ability info)
        item_logic_chunk[0] = [[[52, 5], [52, 5], [52, 5], [52, 5]], [[53, 5], [53, 5], [53, 5], [53, 5]], [[2500, 3, -1, 5, -1, 6], [2500, 3, -1, 5, -1, 6], [2500, 3, -1, 5, -1, 6], [2500, 3, -1, 5, -1, 6], [2500, -3], [2500, 0, 3, -1, 0, 5, -1, 0, 6], [2500, 0, 3, -1, 0, 5, -1, 0, 6], [2500, -3]],
                               [[54], [54], [54], [54], [54, -3], [54, 0], [54, 0], [54, -3]], [[55, -3], [55, -3], [55, -3], [55, -3], [55, -3], [55], [55, 5], [53, -3]],
                               [[56, 0], [56, 0], [56, 0], [56, 0], [56, -3], [56, 0], [56, 0], [56, -3]], [[57, 0], [57, 0], [57, 0], [57, 0], [57, -3], [57, 0], [57, 0], [57, -3]], [[58], [58], [58], [58], [58, -3], [58, 0], [58, 0], [58, -3]],
                               [[59, 2], [59, 2], [59, 2], [59, 2], [59, -3], [59, 2], [59, 2], [59, -3]], [[60, -3], [60, -3], [60, -3], [60, -3], [60, 2], [60, -3], [60, -3], [60, 2]],
                               [[61, 2], [61, 2], [61, 2], [61, 2], [61, 2], [61, 2], [61, 2], [61, 2]], [[2388, -3], [2388, -3], [2388, -3], [2388, -3], [2388, -3], [2388, 2], [2388, 2], [2388, -3]],
                               [[62, 0, -1, 5], [62, 5], [62, 0]], [[63, 0, -1, 5], [63], [63, 0]], [[64, 0]], [[65, 0]], [[2501, 0], [2501, 0], [2501, 0], [2501, -3]], [[2502, -3], [2502, -3], [2502, 0], [2502, -3]],
                               [[2503, 0], [2503, 0], [2503, 0], [2503, -3]], [[2504, 0], [2504, 0], [2504, 0], [2504, -3]], [[66, -3], [66, -3], [66, 0], [66, -3]], [[67, -3], [67, -3], [67, -3], [67, 2]],
                               [[2505, 0], [2505, 0], [2505, 0]], [[2506, 0], [2506, 0], [2506, 0]], [[2507, 0], [2507, 0], [2507, 0]], [[2508, 0], [2508, 0], [2508, 0]], [[68, 0], [68, 0], [68, 0]], [[69, 0], [69, 0], [69, 0]], [[70, 0], [70, 0], [70, 0]],
                               [[71, 0], [71, 0], [71, 0]],

                               [[72], [72], [72, 16], [72]], [[73], [73], [73, 16], [73]], [[74, 16, 1], [74, 16, 1], [74, 1], [74, 16, 1]], [[75, 16, 2], [75, 16, 2], [75, 2], [75, 16, 2]], [[76, 2], [76, 2], [76, 16, 2], [76, 2]], [[77, 2], [77, 2], [77, 16, 2], [77, 2]],
                               [[78, 0, 3, -1, 0, 5], [78, 0], [78, 0], [78, 0], [78, 0], [78, 0], [78, 0]], [[79, 3, -1, 5], [79], [79, 0], [79], [79], [79, 0], [79]], [[80, 3, -1, 5], [80, -3], [80], [80, -3], [80, -3], [80, -3], [80, -3]], [[81, 3, -1, 5], [81], [81, 0], [81], [81], [81], [81]],
                               [[82, 2, 3, -1, 2, 5], [82, 2], [82, 2], [82, 2], [82, 2], [82, 2], [82, 2]], [[83, 2, 3, -1, 2, 5], [83, 2], [83, 2], [83, 2], [83, 2], [83, 2], [83, 2]], [[84, 2, 3, -1, 2, 5], [84, 2], [84, 2], [84, 2], [84, 2], [84, 2], [84, 2]],
                               [[85, 2], [85, 2, 3, -1, 2, 5], [85, 2, 3, -1, 2, 5], [85, 2, 3, -1, 2, 5], [85, 2, 3, -1, 2, 5], [85, 2, 3, -1, 2, 5], [85, 2, 3, -1, 2, 5]], [[86, 4]], [[87]], [[88]], [[89, 4]], [[90, 2]],
                               [[91, 0], [91, 0], [91, 0], [91, 0], [91, 0]], [[92, 1, 5], [92, 1, 5], [92, 1, 5], [92, 1], [92, 1]], [[2389, 0, 4], [2389, 0, 4]], [[94, 0, 4], [94, 0, 4]], [[95, 0, 4], [95, 0, 4]], [[96, 0, 4], [96, 0, 4]],
                               [[97, 0, 4], [97, 0, 4]], [[98, 0, 4], [98, 0, 4]], [[99, 0, 2, 4], [99, 0, 2, 4]], [[100, 0, 2, 4], [100, 0, 2, 4]], [[101, 0, 2, 4], [101, 0, 2, 4]], [[102, 0, 2, 4], [102, 0, 2, 4]],
                               [[103], [103, 1, 4, 5]], [[104], [104, 1, 4, 5]], [[107], [107, 1, 4, 5]], [[2390, 0], [2390, 1, 4, 5]], [[2391, 0], [2391, 1, 4, 5]], [[108, 0, 2], [108, 1, 2, 4, 5]], [[109, 0, 2], [109, 1, 2, 4, 5]], [[110, 0, 2], [110, 1, 2, 4, 5]],
                               [[111, 0, 2], [111, 1, 2, 4, 5]], [[112, 0], [112, 0]], [[113, 0], [113, 0]], [[114, 0], [114, 0]], [[253, 2], [253, 2], [253, 2]]]

        item_logic_chunk[1] = [[[2509, 1, -1, 2], [2509, 1, -1, 2]], [[2510, 1, -1, 2], [2510, 1, -1, 2]], [[271, 2], [271, 2]], [[272, 2], [272, 2]], [[273, 1, -1, 2], [273, 1, -1, 2]], [[274, 1, -1, 2], [274, 1, -1, 2]],
                               [[275, 1, -1, 2], [275, 1, -1, 2]], [[2511], [2511, -3]], [[276, 2], [276, -3]], [[969, 2], [969, -3]], [[277], [277, -3]], [[278], [278, -3]], [[2512], [2512, 17]], [[2513, 2], [2513, 17, 2]], [[2514, 1], [2514, 17, 1]], [[2515, 2], [2515, 17, 2]],
                               [[279, 2], [279, 17, 2]], [[281, 2], [281, 17, 2]], [[282, 1], [282, 17, 1]], [[283, 17], [283]], [[284, 2], [284, 17, 2]], [[2516, 1, -1, 2], [2516, 1, -1, 2], [2516, 1, -1, 2], [2516, 1, -1, 2]],
                               [[2517, 1, -1, 2], [2517, 1, -1, 2], [2517, 1, -1, 2], [2517, 1, -1, 2]], [[285, 2], [285, 2], [285, 2], [285, 2]], [[286, 2], [286, 2], [286, 2], [286, 2]], [[287, 1, -1, 2], [287, 1, -1, 2], [287, 1, -1, 2], [287, 1, -1, 2]],
                               [[288, 1, -1, 2], [288, 1, -1, 2], [288, 1, -1, 2], [288, 1, -1, 2]], [[289, 1, -1, 2], [289, 1, -1, 2], [289, 1, -1, 2], [289, 1, -1, 2]], [[290, 1, -1, 2], [290, 1, -1, 2], [290, 1, -1, 2], [290, 1, -1, 2]],
                               [[291, 1, -1, 2], [291, 1, -1, 2], [291, 1, -1, 2], [291, 1, -1, 2]], [[2518, 1, -1, 2], [2518, 1, -1, 2]], [[2519, 1, -1, 2], [2519, 1, -1, 2]], [[292, 2], [292, 2]], [[293, 1, -1, 2], [293, 1, -1, 2]],
                               [[294, 2], [294, 2]], [[295, 2], [295, 2]], [[296, 2], [296, 2]], [[2373, 1, -1, 2], [2373, 1, -1, 2]], [[2520], [2520]], [[2521], [2521]], [[303], [303]], [[304], [304]], [[305], [305]], [[306], [306]],
                               [[115, 0]], [[116, 0, 5]], [[2522, -3], [2522, 1, -1, 2], [2522, 1, -1, 2]], [[2523, -3], [2523, 1, -1, 2], [2523, 1, -1, 2]], [[2524, -3], [2524, 1], [2524, 1]], [[307, 2], [307, -3], [307, -3]], [[308, -3], [308, 1, 5, -1, 2, 5], [308, 1, 5, -1, 2, 5]],
                               [[309, -3], [309, 1, -1, 2], [309, 1, -1, 2]], [[310, -3], [310, 1, -1, 2], [310, 1, -1, 2]], [[311, -3], [311, 1, -1, 2], [311, 1, -1, 2]], [[312, -3], [312, 1], [312, 1]], [[2374, -3], [2374, 1, 5, -1, 2, 5], [2374, 1, 5, -1, 2, 5]],
                               [[313, 3, 5], [313, 3, 5]], [[314, 3, 5], [314, 3, 5]], [[15], [15], [15]], [[16, 2], [16, 2], [16, 2]]]

        item_logic_chunk[2] = [[[2525], [2525]], [[2526], [2526]], [[119, 6], [119, 6]], [[121, 6], [121, 6]], [[123, 6], [123, 6]], [[125, 6], [125, 6]], [[2527, 6], [2527, 6]], [[127, 6], [127, 6]], [[129, 6], [129, 6]],
                               [[2528, -3], [2528, 6], [2528, -3], [2528, 6]], [[131, 6], [131, -3], [131, 6], [131, -3]], [[132, 6]], [[2392, 6]], [[141, 6], [141, 6], [141, 6]], [[142, -3], [142, 6], [142, -3]], [[2529, 6], [2529, 6], [2529, -3], [2529, -3]],
                               [[2530, 6], [2530, 6]], [[2531], [2531, 6]], [[2393, 6], [2393, 6]], [[144, 6], [144, 6]], [[145, 6], [145, 6]], [[2532, 6], [2532, 6]], [[146, 6], [146, 6]], [[147, 6]], [[152, 6]], [[2394, 6], [2394, 6]], [[2395, 6], [2395, 6]], [[151, 6], [151, 6]]]

        item_logic_chunk[3] = [[[1511, 22, 3], [1511, 3]], [[1512, 22, 2, 3, 5], [1512, 2, 3, 5]], [[1513, 22, 2, 3, 5], [1513, 2, 3, 5]], [[2533], [2533, -3], [2533], [2533, -3], [2533, -3], [2533], [2533, -3], [2533, -3], [2533, -3]],
                               [[1514], [1514, -3], [1514], [1514, -3], [1514, -3], [1514], [1514, -3], [1514, -3], [1514, -3]], [[1515, -3], [1515, 2], [1515, -3], [1515, 2], [1515, 2], [1515, -3], [1515, 2], [1515, 2]],
                               [[2534, -3], [2534, -3], [2534, -3], [2534, -3], [2534, -3], [2534, -3], [2534], [2534, -3]], [[2535], [2535, 5], [2535, -3], [2535, -3], [2535], [2535], [2535, -3], [2535]],
                               [[1516, -3], [1516, -3], [1516, 2], [1516, 2], [1516, -3], [1516, -3], [1516, -3], [1516, -3]], [[1517, 2], [1517, 2, 5], [1517, -3], [1517, -3], [1517, 2], [1517, 2], [1517, -3], [1517, 2]],
                               [[1518, 2], [1518, 2, 5], [1518, -3], [1518, -3], [1518, 2], [1518, 2], [1518, -3], [1518, 2]], [[1519], [1519, 5], [1519, -3], [1519, -3], [1519], [1519], [1519, -3], [1519]],
                               [[2536, 1], [2536, 1, 5], [2536, 1, 5], [2536, 1, 5], [2536, 1], [2536, 1, 5], [2536, 1, 5]], [[2537, -3], [2537, -3], [2537, -3], [2537, -3], [2537, 1], [2537, -3], [2537, -3]], [[1520, 2, 5], [1520, 2], [1520, 2], [1520, 2], [1520, 1, 2], [1520, 2], [1520, 2]],
                               [[1521, 2, 5], [1521, 2], [1521, 2], [1521, 2], [1521, 1, 2], [1521, 2], [1521, 2]], [[1522, 1], [1522, 1, 5], [1522, 1, 5], [1522, 1, 5], [1522, 1], [1522, 1, 5], [1522, 1, 5]], [[1523, 1], [1523], [1523], [1523], [1523, 1], [1523], [1523]],
                               [[1524, -3], [1524, -3], [1524, -3], [1524, -3], [1524, 1], [1524, -3], [1524, -3]], [[1525, -3], [1525, -3], [1525, -3], [1525, -3], [1525], [1525, -3], [1525, -3]], [[2538], [2538, -3], [2538]], [[1549, -3], [1549, 1], [1549, -3]],
                               [[1550], [1550, -3], [1550]], [[1551, -3], [1551], [1551, -3]], [[1552, 2], [1552, -3], [1552, 2]], [[2537, 0], [2537, 0]], [[1527, 0], [1527, 0]], [[1528], [1528]], [[1529], [1529]], [[1530], [1530]], [[1531], [1531]], [[1532], [1532]],

                               [[2540, -3], [2540, -3], [2540], [2540, -3], [2540, -3]], [[2541, -3], [2541, -3], [2541, -3], [2541, -3], [2541]], [[2542, 5], [2542], [2542, 0, 3], [2542], [2542, 0]], [[1553, -3], [1553, -3], [1553], [1553, -3], [1553, -3]],
                               [[1554, -3], [1554, -3], [1554, 3], [1554, -3], [1554, -3]], [[2331, 5], [2331], [2331, 0, 3], [2331], [2331, 0]], [[2332, 5], [2332], [2332, 0, 3], [2332], [2332, 0]], [[2543], [2543], [2543]], [[1562], [1562], [1562]],
                               [[1539, 3], [1539, -3]], [[2544]], [[1540]], [[1541], [1541]], [[1542], [1542], [1542]], [[2545]], [[2546]], [[1566], [1566, -3], [1566, -3], [1566, -3]], [[1567, 1], [1567], [1567, -3], [1567, -3]],
                               [[1568], [1568, -3], [1568, -3], [1568, -3]], [[1569], [1569, -3], [1569, -3], [1569, -3]], [[1570, 5], [1570, -3], [1570, -3], [1570, -3]], [[1571, 2]], [[1572, 2]],
                               [[1543, 1], [1543, 1]], [[1544, 1], [1544, 1]], [[1545, 1], [1545, 1]], [[2398, 1], [2398, 1]], [[2547, 3, -1, 5], [2547, 5], [2547, 5]], [[2399, 5], [2399, 3, -1, 5], [2399, 3, -1, 5]], [[1547, 5], [1547], [1547]], [[1548, 2, 5], [1548, 2], [1548, 2]],
                               [[2548, 4], [2548, 3]], [[1555, 4], [1555, 0, 3]], [[1556, 4], [1556, 0, 3]], [[1557, 2, 4], [1557, 0]], [[2400, 2, 4], [2400, 0]], [[1558, 3], [1558, 0, 3]],
                               [[2549, -3], [2549], [2549, -3], [2549, -3], [2549, -3]], [[2550, 1, 3], [2550, 1, 3], [2550, -3], [2550, 1, 4, -1, 1, 3, 5], [2550, 1, 3]], [[2551, 4], [2551, 0, 4], [2551, -3], [2551, 4], [2551, 4]],
                               [[1559], [1559, 0], [1559, -3], [1559, 4, -1, 5], [1559]], [[1560, 2], [1560, 2], [1560, -3], [1560, 2, 4, -1, 2, 5], [1560, 2]], [[1561, 2], [1561, 2], [1561, -3], [1561, 2, 4, -1, 2, 5], [1561, 2]],
                               [[2401, 2], [2401, 2], [2401, -3], [2401, 2, 3, -1, 2, 5], [2401, 2]], [[2552, 1, 4], [2552, 1]], [[1563, 3, -1, 5], [1563, 0, 3, -1, 0, 5]], [[1564], [1564, 0]], [[1565, 2, 4], [1565, 2, 4]], [[988, 2], [988, 2]]]

        item_logic_chunk[4] = [[[7], [7]], [[8], [8]], [[9], [9]], [[10], [10]], [[11], [11]], [[12], [12]], [[13], [13]], [[14], [14]], [[17], [17]], [[18, 2], [18, 2]], [[19], [19], [19]],
                               [[20, 2], [20, 2], [20, 2]], [[21, 2], [21, 2], [21, 2]], [[22, 2], [22, 2], [22, 2]], [[23, 2], [23, 2], [23, 2]]]

        item_logic_chunk[5] = [[[254, 2], [254, 2], [254, 2, 5]], [[255, 5], [255, 5], [255, 2, 5]], [[256], [256], [256, 5]], [[257], [257], [257, 5]], [[258], [258], [258, 5]],
                               [[259, 2], [259, 2]], [[260], [260]], [[261, 5], [261]], [[262, 5], [262]], [[263, 2, 5], [263, 2]], [[264, 2, 5], [264, 2]], [[2541], [2541]], [[268, 2], [268, 2]], [[269], [269]], [[270], [270]]]

        item_logic_chunk[6] = [[[1573, 1], [1573, 1]], [[1574], [1574, 1]], [[1575], [1575, 1]], [[1576, 23, 0], [1576], [1576, -3], [1576, 5], [1576]], [[1577], [1577], [1577, -3], [1577, 5], [1577]],
                               [[2554, 3, 5], [2554,  3], [2554, 3, 5], [2554, 3]], [[1578], [1578, 5], [1578], [1578, 5]], [[1579, 2, 3, 5], [1579, 2, 3], [1579, 2, 3, 5], [1579, 2, 3]],
                               [[1580, 2, 3, 5], [1580, 2, 3], [1580, 2, 3, 5], [1580, 2, 3, 5]], [[2555, 1], [2555, 1], [2555, 1]], [[1581, 1], [1581, 1], [1581, 1]],
                               [[1582], [1582]], [[1583, 2, 4], [1583, 2, 4]], [[2402, 2, 4], [2402, 2, 4]], [[2542, 3], [2542]], [[2543, 3], [2543, 3]],
                               [[1584, 3], [1584]], [[1585, 2, 3], [1585, 2, 3]], [[1586, 3], [1586, 3]], [[2558]], [[1587, 3, -1, 5]], [[1588]], [[1589]], [[1590]], [[1591, 2, 3, -1, 2, 5]],
                               [[1592, 3, 5], [1592, 3], [1592, -3], [1592, -3], [1592, 3]], [[2403, -3], [2403, -3], [2403], [2403], [2403, -3]],
                               [[2559], [2559], [2559], [2559, 3], [2559], [2559, 3]], [[1593, 2], [1593, 2], [1593, 2], [1593, 2, 3], [1593, 2], [1593, 2, 3]],
                               [[2560, 6]], [[1594, 2]], [[1595, 6]], [[1596]], [[1597]], [[2561, 5], [2561, 5], [2561, 5]], [[2562, 3], [2562], [2562, 3]], [[1598], [1598, 3, 5], [1598, 5]], [[1599, 5], [1599, 3, 5], [1599, 5]],
                               [[2333, 3, 5], [2333], [2333, 3]], [[1546, 3, 5], [1546, 3], [1546, 3]], [[2219, 3, 5], [2219, 3], [2219, 3]], [[1600, 2, 3, 5], [1600, 2, 3], [1600, 2, 3]], [[1601, 2, 3, 5], [1601, 2, 3], [1601, 2, 3]],
                               [[2334, 2, 3, 5], [2334, 2], [2334, 2, 3]], [[2563], [2563, 4]], [[1602, 4], [1602, 4]], [[2564, 4], [2564, 4], [2564, 4, 5], [2564, 4, 5]],
                               [[1603, 4, 6, 10], [1603, 4, 6, 10], [1603, 4, 5, 6, 10], [1603, 4, 5, 6, 10]], [[1604, 4], [1604, 4], [1604, 4, 5], [1604, 4, 5]], [[1605, 2], [1605, 2, 4], [1605, 2, 4, 5], [1605, 2, 4, 5]],

                               [[1606], [1606, -3], [1606, -3], [1606, -3], [1606], [1606], [1606, -3], [1606, -3], [1606, -3]],
                               [[1607, 2], [1607, -3], [1607, -3], [1607, -3], [1607, -3]], [[1608, -3], [1608, 4], [1608, 4, 5], [1608, 4], [1608, 4, 5]], [[2565, 3], [2565, -3]], [[1609, 3], [1609, -3]],
                               [[1610, 3], [1610, -3]], [[2359, 3], [2359, -3]], [[2360, 3], [2360, -3]], [[2375, 3], [2375, -3]], [[1611, 4]], [[1612, 4, 5]], [[1613, 2, 4, 5]], [[1614, 5], [1614], [1614, -3], [1614, 5], [1614]],
                               [[1615, -3], [1615, -3], [1615], [1615, -3], [1615, -3]], [[2566, 3], [2566, -3]], [[1616, 3], [1616, -3]], [[1617, 3], [1617, -3]], [[1618, 2, 3], [1618, -3]], [[2361, 2, 3], [2361, -3]],
                               [[2362, 2, 3, 5], [2362, 2, 3, 5]], [[1619, 2, 3, -1, 2, 5], [1619, 2, 3, -1, 2, 5]], [[1620, 2, 3, -1, 2, 5], [1620, 2, 3, -1, 2, 5]],
                               [[1621, 5]], [[2296, 2, 5]], [[1623, 5]]]

        item_logic_chunk[7] = [[[24]], [[25]], [[26], [26]], [[27, 3, -1, 5], [27, 3, -1, 5]], [[28], [28], [28], [28], [28], [28]], [[29]], [[30]], [[31], [31, 5]], [[32], [32, 5]], [[33], [33]], [[34], [34]], [[35]],
                               [[157], [157], [157, -3], [157, -3]], [[158], [158]], [[159], [159]], [[161], [161]], [[162], [162]], [[163], [163]], [[164], [164]], [[165], [165]],
                               [[166, 6], [166, 6]], [[168, 6]], [[169, 6]], [[171, 6]], [[173, 6]], [[175, 6]], [[177, 6]], [[1643, 6]], [[265, 2], [265, 18, 19, 20, 21, 2], [265, 2], [265, 2, 5]],
                               [[266, 2], [266, 18, 19, 20, 21, 2], [266, 2], [266, 2, 5]], [[267], [267, 18, 19, 20, 21], [267], [267, 5]], [[148, 6], [148, 6]],]

        item_logic_chunk[8] = [[[413], [413]], [[414], [414]], [[452, 6], [452, 6]], [[461, 6], [461, 6]], [[462, 6]], [[463, 6]], [[464, 6]], [[450, 6]], [[486, 6], [486, 6]], [[2567], [2567, 6]], [[2568, 6], [2568, 6], [2568, 6]],
                               [[2569, 6], [2569, 6], [2569, 6]], [[2570, -3], [2570], [2570, -3]], [[2571], [2571, -3], [2571]], [[512], [512, -3], [512]], [[513], [513, -3], [513]], [[523], [523]], [[529, 6], [529, 6]], [[2572], [2572]],
                               [[545], [545]], [[546], [546]], [[2573, 6], [2573, 6]], [[2574, 6], [2574, 6]], [[2575], [2575]],]

        if settings[1][0] == 0:
            item_logic_chunk[9] = [[2576, 15, 16, 1, 3, 6], [1243, 15, 16, 24, 1, 3, 6], [2577, 15, 16, 24, 1, 3, 6], [1250, 15, 16, 24, 1, 3, 6], [1251, 16, 24, 1, 3, 6], [1252, 16, 24, 1, 3, 6], [184, 15, 6], [185, 15, 6], [186, 15, 6], [187, 15, 6], [188, 15, 6], [189, 15, 6], [191, 15, 6],
            [193, 15, 6], [195, 15, 6], [197, 15, 6], [199, 15, 6], [201, 15, 6], [203, 15, 6], [205, 15, 6], [207, 15, 6], [209, 15, 6], [211, 15, 6], [213, 15, 6], [215, 15, 6], [217, 15, 6], [219, 15, 6],
            [221, 15, 6], [223, 15, 6], [225, 15, 6], [227, 15, 6], [229, 15, 6], [231, 15, 6], [233, 15, 6], [235, 15, 6], [236, 15, 6], [237, 15, 6], [238, 15, 6], [245, 15, 6], [246, 15, 6],]
        else:
            item_logic_chunk[9] = [[2576, 15, 16, 3, 6], [1243, 16, 24, 3, 6], [2577, 15, 16, 24, 3, 6], [1250, 16, 24, 3, 6], [1251, 16, 24, 3, 6], [1252, 16, 24, 3, 6], [184, 15, 6], [185, 15, 6], [186, 15, 6], [187, 15, 6], [188, 15, 6], [189, 15, 6], [191, 15, 6],
            [193, 15, 6], [195, 15, 6], [197, 15, 6], [199, 15, 6], [201, 15, 6], [203, 15, 6], [205, 15, 6], [207, 15, 6], [209, 15, 6], [211, 15, 6], [213, 15, 6], [215, 15, 6], [217, 15, 6], [219, 15, 6],
            [221, 15, 6], [223, 15, 6], [225, 15, 6], [227, 15, 6], [229, 15, 6], [231, 15, 6], [233, 15, 6], [235, 15, 6], [236, 15, 6], [237, 15, 6], [238, 15, 6], [245, 15, 6], [246, 15, 6],]

        if settings[1][1] == 0:
            item_logic_chunk[10] = [[2578, 15, 16, 17, 18, 19, 20, 21, 6, 8, 9, -1, 15, 16, 5, 6, 8, 9], [2579, 15, 16, 17, 18, 19, 20, 21, 6, 8, 9, -1, 15, 16, 5, 6, 8, 9], [568, 16, 17, 18, 19, 20, 21, 6, 9, -1, 16, 5, 6, 9], [569, 16, 17, 18, 19, 20, 21, 6, 9, -1, 16, 5, 6, 9], [577, 16, 4, 5, 6], [578, 16, 4, 5, 6], [579, 16, 4, 5, 6], [580, 16, 4, 5, 6],
            [581, 16, 17, 18, 19, 20, 21, 6, -1, 16, 5, 6], [582, 16, 17, 18, 19, 20, 21, 6, -1, 16, 5, 6], [583, 16, 17, 1, 6, -1, 16, 1, 5, 6], [584, 16, 17, 2, 6, -1, 16, 2, 5, 6], [585, 16, 17, 2, 6, -1, 16, 2, 5, 6], [2546, 14, 6, 7, 8, 12, 13], [2547, 14, 6, 7, 8, 12, 13],
            [861, 14, 6, 7, 8, 12, 13], [862, 14, 6, 7, 8, 12, 13], [2548, 14, 6, 7, 8, 12, 13], [2081, 15, 2, 4, 5, 6, 8],]
        else:
            item_logic_chunk[10] = [[2578, 15, 16, 17, 18, 19, 20, 21, 6, 8, 9], [2579, 15, 16, 17, 18, 19, 20, 21, 6, 8, 9], [568, 16, 17, 18, 19, 20, 21, 6, 9], [569, 16, 17, 18, 19, 20, 21, 6, 9], [577, 16, 4, 5, 6], [578, 16, 4, 5, 6], [579, 16, 4, 5, 6], [580, 16, 4, 5, 6],
            [581, 16, 17, 18, 19, 20, 21, 6], [582, 16, 17, 18, 19, 20, 21, 6], [583, 16, 17, 1, 6], [584, 16, 17, 2, 6], [585, 16, 17, 2, 6], [2546, 14, 6, 7, 8, 12, 13], [2547, 14, 6, 7, 8, 12, 13],
            [861, 14, 6, 7, 8, 12, 13], [862, 14, 6, 7, 8, 12, 13], [2548, 14, 6, 7, 8, 12, 13], [2081, 15, 2, 4, 5, 6, 8],]

        if settings[1][0] == 0 and settings[1][1] == 0:
            item_logic_chunk[11] = [[1624, 1, 4, 5], [2404, 1, 4, 5], [315, 16, 17, 2, -1, 16, 2, 5], [316, 16, 17, 2, -1, 16, 2, 5], [317, 16, 17, 18, 19, 20, 21, 2, -1, 16, 2, 5], [318, 16, 5], [2396, 16, 4, 5], [2330, 16, 2, 4, 5],
            [323, 16, 4, 5], [324, 16, 4, 5], [325, 16, 4, 5], [326, 16, 4, 5], [1506, 15, 1], [1507, 15, 3], [1508, 15, 3, 5], [1509, 15, 5], [1510, 15, 2], [1533, 15, 16, 2, 4, 5, 6], [1534, 15, 16, 2, 4, 5, 6],
            [2337, 15, 16, 2, 4, 5, 6], [2338, 15, 16, 2, 4, 5, 6], [2339, 15, 16, 2, 4, 5, 6], [1535, 15, 16, 22, 2, 4, 5, 6], [1536, 15, 16, 22, 2, 4, 5, 6], [1537, 15, 16, 22, 2, 4, 5, 6], [1538, 15, 16, 22, 2, 4, 5, 6],
            [1625, 1, 4, 5], [1626, 1, 4, 5], [1627, 1, 4, 5], [2549, 2, 4, 5], [1628, 2, 4, 5], [1629, 2, 4, 5]]
        elif settings[1][0] != 0 and settings[1][1] != 0:
            item_logic_chunk[11] = [[1624, 4, 5], [2404, 4, 5], [315, 16, 17, 2], [316, 16, 17, 2], [317, 16, 17, 18, 19, 20, 21, 2], [318, 16, 17, 18, 19, 20, 21, 5], [2396, 16, 4, 5], [2330, 16, 2, 4, 5],
            [323, 16, 4, 5], [324, 16, 4, 5], [325, 16, 4, 5], [326, 16, 4, 5], [1506, 15, 1], [1507, 15, 3], [1508, 15, 3, 5], [1509, 15, 5], [1510, 15, 2], [1533, 15, 16, 2, 4, 5, 6], [1534, 15, 16, 2, 4, 5, 6],
            [2337, 15, 16, 2, 4, 5, 6], [2338, 15, 16, 2, 4, 5, 6], [2339, 15, 16, 2, 4, 5, 6], [1535, 15, 16, 22, 2, 4, 5, 6], [1536, 15, 16, 22, 2, 4, 5, 6], [1537, 15, 16, 22, 2, 4, 5, 6], [1538, 15, 16, 22, 2, 4, 5, 6],
            [1625, 1, 4, 5], [1626, 1, 4, 5], [1627, 1, 4, 5], [2549, 2, 4, 5], [1628, 2, 4, 5], [1629, 2, 4, 5]]
        elif settings[1][0] == 1:
            item_logic_chunk[11] = [[1624, 4, 5], [2404, 4, 5], [315, 16, 17, 2, -1, 16, 2, 5], [316, 16, 17, 2, -1, 16, 2, 5], [317, 16, 17, 18, 19, 20, 21, 2, -1, 16, 2, 5], [318, 16, 5], [2396, 16, 4, 5], [2330, 16, 2, 4, 5],
            [323, 16, 4, 5], [324, 16, 4, 5], [325, 16, 4, 5], [326, 16, 4, 5], [1506, 15, 1], [1507, 15, 3], [1508, 15, 3, 5], [1509, 15, 5], [1510, 15, 2], [1533, 15, 16, 2, 4, 5, 6], [1534, 15, 16, 2, 4, 5, 6],
            [2337, 15, 16, 2, 4, 5, 6], [2338, 15, 16, 2, 4, 5, 6], [2339, 15, 16, 2, 4, 5, 6], [1535, 15, 16, 22, 2, 4, 5, 6], [1536, 15, 16, 22, 2, 4, 5, 6], [1537, 15, 16, 22, 2, 4, 5, 6], [1538, 15, 16, 22, 2, 4, 5, 6],
            [1625, 1, 4, 5], [1626, 1, 4, 5], [1627, 1, 4, 5], [2549, 2, 4, 5], [1628, 2, 4, 5], [1629, 2, 4, 5]]
        else:
            item_logic_chunk[11] = [[1624, 1, 4, 5], [2404, 1, 4, 5], [315, 16, 17, 2], [316, 16, 17, 2], [317, 16, 17, 18, 19, 20, 21, 2], [318, 16, 17, 18, 19, 20, 21, 5], [2396, 16, 4, 5], [2330, 16, 2, 4, 5],
            [323, 16, 4, 5], [324, 16, 4, 5], [325, 16, 4, 5], [326, 16, 4, 5], [1506, 15, 1], [1507, 15, 3], [1508, 15, 3, 5], [1509, 15, 5], [1510, 15, 2], [1533, 15, 16, 2, 4, 5, 6], [1534, 15, 16, 2, 4, 5, 6],
            [2337, 15, 16, 2, 4, 5, 6], [2338, 15, 16, 2, 4, 5, 6], [2339, 15, 16, 2, 4, 5, 6], [1535, 15, 16, 22, 2, 4, 5, 6], [1536, 15, 16, 22, 2, 4, 5, 6], [1537, 15, 16, 22, 2, 4, 5, 6], [1538, 15, 16, 22, 2, 4, 5, 6],
            [1625, 1, 4, 5], [1626, 1, 4, 5], [1627, 1, 4, 5], [2549, 2, 4, 5], [1628, 2, 4, 5], [1629, 2, 4, 5]]

        item_logic_chunk[12] = [[607, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6], [608, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6], [609, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6], [610, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6],
                                [611, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6], [612, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6], [613, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6], [614, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6],
                                [615, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6], [616, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6], [617, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6], [618, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6],
                                [619, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6], [620, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6], [621, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6], [622, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6],
                                [623, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6], [624, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6], [625, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6], [626, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6],
                                [627, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6], [1401, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6], [1402, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6], [628, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6],
                                [629, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6], [630, 15, 22, 1, 2, 6, -1, 15, 22, 2, 5, 6]]

        if settings[1][1] == 0:
            item_logic_chunk[13] = [[2582, 15, 16, 22, 1, 2, 4, 5, 6], [2583, 15, 16, 22, 1, 2, 4, 5, 6], [2584, 15, 16, 22, 1, 2, 4, 5, 6], [2585, 15, 16, 22, 1, 2, 4, 5, 6], [2586, 15, 16, 22, 1, 2, 4, 5, 6],
                                    [2587, 15, 16, 22, 1, 2, 4, 5, 6], [2588, 15, 16, 22, 1, 2, 4, 5, 6], [697, 15, 16, 22, 1, 2, 4, 5, 6], [2589, 15, 16, 22, 1, 2, 4, 5, 6], [2590, 15, 16, 22, 1, 2, 4, 5, 6],
                                    [700, 15, 16, 22, 1, 2, 4, 5, 6], [701, 15, 16, 22, 1, 2, 4, 5, 6], [726, 15, 16, 22, 1, 2, 4, 5, 6], [727, 15, 16, 22, 1, 2, 4, 5, 6],
                                    [728, 15, 16, 22, 1, 2, 4, 5, 6], [760, 15, 22, 0, 6], [761, 15, 22, 0, 6], [764, 15, 22, 2, 6], [765, 15, 16, 22, 1, 2, 4, 5, 6]]
        else:
            item_logic_chunk[13] = [[2582, 15, 16, 17, 18, 19, 20, 21, 22, 23, 1, 2, 4, 5, 6], [2583, 15, 16, 17, 18, 19, 20, 21, 22, 23, 1, 2, 4, 5, 6], [2584, 15, 16, 17, 18, 19, 20, 21, 22, 23, 1, 2, 4, 5, 6],
                                    [2585, 15, 16, 17, 18, 19, 20, 21, 22, 23, 1, 2, 4, 5, 6], [2586, 15, 16, 17, 18, 19, 20, 21, 22, 23, 1, 2, 4, 5, 6], [2587, 15, 16, 17, 18, 19, 20, 21, 22, 23, 1, 2, 4, 5, 6],
                                    [2588, 15, 16, 17, 18, 19, 20, 21, 22, 23, 1, 2, 4, 5, 6], [697, 15, 16, 17, 18, 19, 20, 21, 22, 23, 1, 2, 4, 5, 6], [2589, 15, 16, 17, 18, 19, 20, 21, 22, 23, 1, 2, 4, 5, 6],
                                    [2590, 15, 16, 17, 18, 19, 20, 21, 22, 23, 1, 2, 4, 5, 6], [700, 15, 16, 17, 18, 19, 20, 21, 22, 23, 1, 2, 4, 5, 6], [701, 15, 16, 17, 18, 19, 20, 21, 22, 23, 1, 2, 4, 5, 6],
                                    [726, 15, 16, 17, 18, 19, 20, 21, 22, 23, 1, 2, 4, 5, 6], [727, 15, 16, 17, 18, 19, 20, 21, 22, 23, 1, 2, 4, 5, 6], [728, 15, 16, 17, 18, 19, 20, 21, 22, 23, 1, 2, 4, 5, 6],
                                    [760, 15, 22, 0, 6], [761, 15, 22, 0, 6], [764, 15, 22, 2, 6], [765, 15, 16, 17, 18, 19, 20, 21, 22, 23, 1, 2, 4, 5, 6]]
        if settings[1][1] == 0 and settings[1][0] == 0:
            item_logic_chunk[14] = [[36, 14, 15, 5], [37, 14, 15, 5], [38, 14, 15, 5], [39, 14, 15, 5], [40, 14, 15, 5], [319, 15, 16, 5], [320, 15, 16, 5], [987, 15, 16, 5], [41, 15, 5, -1, 15, 6], [42, 15, 5, -1, 15, 6],
                                    [43, 15, 5, -1, 15, 6], [2383, 15, 5, -1, 15, 6], [45, 15, 5, -1, 15, 6], [46, 15, 5, -1, 15, 6], [47, 15, 5, -1, 15, 6], [2591, 15, 16, 0, 6], [879, 23, 1, 3, 6, -1, 1, 5, 6],
                                    [880, 23, 1, 3, 6, -1, 1, 5, 6]]
        elif settings[1][0] == 1 and settings[1][1] == 1:
            item_logic_chunk[14] = [[36, 14, 15, 5], [37, 14, 15, 5], [38, 14, 15, 5], [39, 14, 15, 5], [40, 14, 15, 5], [319, 15, 16, 17, 18, 19, 20, 21, 1, 5], [320, 15, 16, 17, 18, 19, 20, 21, 1, 5],
                                    [987, 15, 16, 17, 18, 19, 20, 21, 1, 5], [41, 15, 5, -1, 15, 6], [42, 15, 5, -1, 15, 6], [43, 15, 5, -1, 15, 6], [2383, 15, 5, -1, 15, 6], [45, 15, 5, -1, 15, 6],
                                    [46, 15, 5, -1, 15, 6], [47, 15, 5, -1, 15, 6], [2591, 15, 16, 0, 6], [879, 23, 3, 6, -1, 23, 5, 6], [880, 23, 3, 6, -1, 23, 5, 6]]
        elif settings[1][0] == 1:
            item_logic_chunk[14] = [[36, 14, 15, 5], [37, 14, 15, 5], [38, 14, 15, 5], [39, 14, 15, 5], [40, 14, 15, 5], [319, 15, 16, 5], [320, 15, 16, 5], [987, 15, 16, 5], [41, 15, 5, -1, 15, 6], [42, 15, 5, -1, 15, 6],
                                    [43, 15, 5, -1, 15, 6], [2383, 15, 5, -1, 15, 6], [45, 15, 5, -1, 15, 6], [46, 15, 5, -1, 15, 6], [47, 15, 5, -1, 15, 6], [2591, 15, 16, 0, 6], [879, 23, 3, 6, -1, 5, 6],
                                    [880, 23, 3, 6, -1, 5, 6]]
        else:
            item_logic_chunk[14] = [[36, 14, 15, 5], [37, 14, 15, 5], [38, 14, 15, 5], [39, 14, 15, 5], [40, 14, 15, 5], [319, 15, 16, 17, 18, 19, 20, 21, 1, 5], [320, 15, 16, 17, 18, 19, 20, 21, 1, 5],
                                    [987, 15, 16, 17, 18, 19, 20, 21, 1, 5], [41, 15, 5, -1, 15, 6], [42, 15, 5, -1, 15, 6], [43, 15, 5, -1, 15, 6], [2383, 15, 5, -1, 15, 6], [45, 15, 5, -1, 15, 6],
                                    [46, 15, 5, -1, 15, 6], [47, 15, 5, -1, 15, 6], [2591, 15, 16, 0, 6], [879, 23, 3, 6, -1, 23, 5, 6], [880, 23, 3, 6, -1, 23, 5, 6]]
        if settings[1][0] == 0:
            item_logic_chunk[15] = [[1630, 15, 27, 1, 5], [1631, 15, 27, 1, 3, 5], [2592, 15, 27, 1, 3, 5], [2593, 15, 27, 1, 3, 5], [2594, 15, 27, 1, 3, 5], [1632, 15, 27, 1, 5], [1633, 15, 27, 1, 5], [2595, 15, 27, 1, 5], [2596, 15, 27, 1, 5], [1634, 15, 27, 1, 5], [2597, 15, 27, 1, 3, 5], [2598, 15, 27, 1, 5], [1635, 15, 27, 1, 5],
                                    [2599, 15, 27, 1, 3, 5], [2600, 15, 27, 1, 5], [2601, 15, 27, 1, 3, 5, 6], [1636, 15, 27, 1, 3, 5, 6], [1637, 15, 27, 1, 3, 5, 6], [1638, 15, 27, 1, 3, 5, 6], [1639, 15, 27, 1, 2, 3, 5, 6], [280, 15, 27, 1, 3, 5, 6], [322, 15, 27, 1, 3, 5, 6], [1640, 15, 27, 1, 2, 3, 5, 6], [1641, 15, 27, 1, 2, 3, 5, 6],
                                    [1642, 15, 27, 1, 3, 5, 6], [2602, 15, 27, 1, 3, 5, 6], [2603, 15, 27, 1, 3, 5, 6], [2363, 15, 27, 1, 3, 5, 6], [2364, 15, 27, 1, 3, 5, 6], [2365, 15, 27, 1, 3, 5, 6], [2366, 15, 27, 1, 3, 5, 6], [2367, 15, 27, 1, 3, 5, 6], [2604, 15, 27, 1, 3, 5, 6], [2605, 15, 27, 1, 3, 5, 6], [1646, 15, 27, 1, 3, 5, 6], [1647, 15, 27, 1, 3, 5, 6], [1648, 15, 27, 1, 2, 3, 5, 6],
                                    [1649, 15, 27, 1, 3, 5, 6], [2606, 15, 27, 1, 3, 5, 6], [2405, 15, 27, 1, 3, 5, 6], [2406, 15, 27, 1, 3, 5, 6], [2407, 15, 27, 1, 3, 5, 6], [2607, 15, 27, 1, 3, 5, 6], [1651, 15, 27, 1, 3, 5, 6], [1652, 15, 27, 1, 3, 5, 6], [2297, 15, 27, 1, 3, 5, 6], [2298, 15, 27, 1, 3, 5, 6],
                                    [1655, 15, 27, 1, 3, 5, 6], [1656, 15, 27, 1, 3, 5, 6], [1657, 15, 27, 1, 3, 5, 6], [1658, 15, 27, 1, 3, 5, 6], [1659, 15, 27, 1, 2, 3, 5, 6], [1660, 15, 27, 1, 2, 3, 5, 6], [1661, 15, 27, 1, 2, 3, 5, 6], [1662, 15, 27, 1, 2, 3, 5, 6], [2377, 15, 27, 1, 3, 5, 6], [2378, 15, 27, 1, 3, 5, 6], [2379, 15, 27, 1, 3, 5, 6],
                                    [1663, 15, 27, 1, 3, 5, 6], [1664, 15, 27, 1, 3, 5, 6], [2380, 15, 27, 1, 3, 5, 6], [2381, 15, 27, 1, 3, 5, 6], [1665, 15, 27, 1, 3, 5, 6], [1666, 15, 27, 1, 3, 5, 6], [1667, 15, 27, 1, 3, 5, 6], [2354, 15, 27, 1, 2, 3, 5, 6], [1668, 15, 27, 1, 3, 5, 6], [1669, 15, 27, 1, 2, 3, 5, 6],
                                    [1670, 15, 27, 1, 3, 5, 6], [1671, 15, 27, 1, 2, 3, 5, 6], [1672, 15, 27, 1, 3, 5, 6], [2408, 15, 27, 1, 3, 5, 6], [2409, 15, 27, 1, 2, 3, 5, 6], [1673, 15, 27, 1, 3, 5, 6], [1674, 15, 27, 1, 3, 5, 6], [1675, 15, 27, 1, 3, 5, 6], [1676, 15, 27, 1, 2, 4, 5, 6], [1677, 15, 27, 1, 2, 4, 5, 6], [1678, 15, 27, 1, 3, 5, 6], [1679, 15, 27, 1, 2, 4, 5, 6]]
        else:
            item_logic_chunk[15] = [[1630, 15, 27, 5], [1631, 15, 27, 3, 5], [2592, 15, 27, 3, 5], [2593, 15, 27, 3, 5], [2594, 15, 27, 3, 5], [1632, 15, 27, 5], [1633, 15, 27, 5], [2595, 15, 27, 5], [2596, 15, 27, 5], [1634, 15, 27, 5], [2597, 15, 27, 3, 5], [2598, 15, 27, 5], [1635, 15, 27, 5], [2599, 15, 27, 3, 5], [2600, 15, 27, 5],
                                    [2601, 15, 27, 1, 3, 5, 6], [1636, 15, 27, 1, 3, 5, 6], [1637, 15, 27, 1, 3, 5, 6], [1638, 15, 27, 1, 3, 5, 6], [1639, 15, 27, 2, 3, 5, 6], [280, 15, 27, 3, 5, 6], [322, 15, 27, 3, 5, 6], [1640, 15, 27, 2, 3, 5, 6], [1641, 15, 27, 2, 3, 5, 6], [1642, 15, 27, 3, 5, 6], [2602, 15, 27, 3, 5, 6], [2603, 15, 27, 3, 5, 6],
                                    [2363, 15, 27, 3, 5, 6], [2364, 15, 27, 3, 5, 6], [2365, 15, 27, 3, 5, 6], [2366, 15, 27, 3, 5, 6], [2367, 15, 27, 3, 5, 6], [2604, 15, 27, 3, 5, 6], [2605, 15, 27, 3, 5, 6], [1646, 15, 27, 3, 5, 6], [1647, 15, 27, 3, 5, 6], [1648, 15, 27, 3, 5, 6], [1649, 15, 27, 3, 5, 6], [2606, 15, 27, 3, 5, 6], [2405, 15, 27, 3, 5, 6], [2406, 15, 27, 3, 5, 6],
                                    [2407, 15, 27, 3, 5, 6], [2607, 15, 27, 0, 3, 5, 6], [1651, 15, 27, 0, 3, 5, 6], [1652, 15, 27, 0, 3, 5, 6], [2297, 15, 27, 0, 3, 5, 6], [2298, 15, 27, 0, 3, 5, 6], [1655, 15, 27, 0, 3, 5, 6], [1656, 15, 27, 0, 3, 5, 6], [1657, 15, 27, 0, 3, 5, 6], [1658, 15, 27, 3, 5, 6], [1659, 15, 27, 2, 3, 5, 6],
                                    [1660, 15, 27, 2, 3, 5, 6], [1661, 15, 27, 2, 3, 5, 6], [1662, 15, 27, 2, 3, 5, 6], [2337, 15, 27, 0, 3, 5, 6], [2338, 15, 27, 0, 3, 5, 6], [2339, 15, 27, 0, 3, 5, 6], [1663, 15, 27, 0, 3, 5, 6], [1664, 15, 27, 0, 3, 5, 6], [2380, 15, 27, 0, 3, 5, 6], [2381, 15, 27, 0, 3, 5, 6],
                                    [1665, 15, 27, 0, 3, 5, 6], [1666, 15, 27, 0, 3, 5, 6], [1667, 15, 27, 0, 3, 5, 6], [2354, 15, 27, 2, 3, 5, 6], [1668, 15, 27, 0, 3, 5, 6], [1669, 15, 27, 2, 3, 5, 6], [1670, 15, 27, 0, 3, 5, 6], [1671, 15, 27, 2, 3, 5, 6], [1672, 15, 27, 0, 3, 5, 6], [2408, 15, 27, 2, 3, 5, 6],
                                    [2409, 15, 27, 2, 3, 5, 6], [1673, 15, 27, 1, 3, 5, 6], [1674, 15, 27, 1, 3, 5, 6], [1675, 15, 27, 0, 3, 5, 6], [1676, 15, 27, 2, 3, 5, 6], [1677, 15, 27, 2, 3, 5, 6], [1678, 15, 27, 0, 3, 5, 6], [1679, 15, 27, 2, 3, 5, 6]]

        if settings[1][0] == 0:
            item_logic_chunk[16] = [[2610, 15, 16, 24, 1, 3, 6], [1259, 15, 16, 24, 1, 3, 6], [2611, 15, 16, 24, 25, 1, 3, 6], [2612, 15, 16, 24, 25, 1, 3, 6], [1269, 15, 16, 24, 25, 1, 3, 6], [1270, 15, 16, 24, 25, 1, 3, 6], [1118, 15, 16, 24, 25, 1, 3, 6, 10], [1119, 15, 16, 24, 25, 1, 3, 6, 10],
                                    [2613, 15, 16, 24, 25, 1, 3, 6, 10], [1275, 15, 16, 24, 25, 1, 3, 6, 10], [1276, 15, 16, 24, 25, 1, 3, 6, 10], [1277, 15, 16, 24, 25, 1, 3, 6, 10], [2614, 15, 16, 24, 25, 1, 3, 6, 10], [2615, 15, 16, 24, 25, 1, 3, 6, 10], [1182, 15, 16, 24, 25, 1, 3, 6, 8, 9, 10],
                                    [1281, 15, 16, 24, 25, 1, 3, 6, 8, 9, 10], [2616, 15, 16, 24, 1, 3, 6], [2617, 15, 16, 24, 1, 3, 6], [1285, 15, 16, 24, 1, 3, 6], [1296, 15, 16, 24, 25, 1, 3, 6, 8, 9, 10], [1297, 15, 16, 24, 25, 1, 3, 6, 8, 9, 10], [2618, 15, 16, 1, 3, 6],
                                    [1339, 15, 16, 1, 4, 6, -1, 15, 16, 5, 6], [1340, 15, 16, 1, 4, 6], [1341, 15, 16, 1, 4, 6, -1, 15, 16, 5, 6], [2619, 15, 16, 1, 4, 6, -1, 15, 16, 5, 6], [2620, 15, 16, 1, 4, 6, 10], [1384, 15, 16, 5, 6], [1385, 15, 16, 5, 6],
                                    [1386, 15, 16, 4, 6], [1387, 15, 16, 4, 6], [1388, 15, 16, 4, 6], [1389, 15, 16, 4, 6], [1395, 15, 16, 4, 6], [1396, 15, 16, 1, 3, 5, 6]]
        else:
            item_logic_chunk[16] = [[2610, 15, 16, 24, 0, 3, 6], [1259, 15, 16, 24, 0, 3, 6], [2611, 15, 16, 24, 25, 0, 3, 6], [2612, 15, 16, 24, 25, 0, 3, 6], [1269, 15, 16, 24, 25, 0, 3, 6], [1270, 15, 16, 24, 25, 0, 3, 6], [1118, 15, 16, 24, 25, 0, 3, 6, 10], [1119, 15, 16, 24, 25, 0, 3, 6, 10],
                                    [2613, 15, 16, 24, 25, 0, 3, 6, 10], [1275, 15, 16, 24, 25, 0, 3, 6, 10], [1276, 15, 16, 24, 25, 0, 3, 6, 10], [1277, 15, 16, 24, 25, 0, 3, 6, 10], [2614, 15, 16, 24, 25, 0, 3, 6, 10], [2615, 15, 16, 24, 25, 0, 3, 6, 10], [1182, 15, 16, 24, 25, 0, 3, 6, 8, 9, 10],
                                    [1281, 15, 16, 24, 25, 0, 3, 6, 8, 9, 10], [2616, 15, 16, 24, 3, 6], [2617, 15, 16, 24, 3, 6], [1285, 15, 16, 24, 3, 6], [1296, 15, 16, 24, 25, 0, 3, 6, 8, 9, 10], [1297, 15, 16, 24, 25, 0, 3, 6, 8, 9, 10], [2618, 15, 16, 1, 3, 6], [1339, 15, 16, 4, 6, -1, 15, 16, 5, 6],
                                    [1340, 15, 16, 4, 6], [1341, 15, 16, 4, 6, -1, 15, 16, 5, 6], [2619, 15, 16, 4, 6, -1, 15, 16, 5, 6], [2620, 15, 16, 4, 6, 10], [1384, 15, 16, 5, 6], [1385, 15, 16, 5, 6], [1386, 15, 16, 4, 6], [1387, 15, 16, 4, 6], [1388, 15, 16, 4, 6], [1389, 15, 16, 4, 6],
                                    [1395, 15, 16, 4, 6], [1396, 15, 16, 1, 3, 5, 6]]

        if settings[1][0] == 0:
            item_logic_chunk[17] = [[2092, 15, 1], [2093, 15, 1, 2], [2094, 15, 1, 5], [2095, 15, 1, 5], [2096, 15, 1, 2, 5], [2097, 15, 1, 5], [2098, 15, 1, 5], [2099, 15, 1, 5], [2100, 15, 1, 5], [2101, 15, 1, 2, 5], [2621, 15, 1, 4, 5], [2102, 15, 1, 3, 5], [2103, 15, 1, 3, 5], [2104, 15, 1, 3, 5],
                                    [2622, 15, 1, 4, 5], [2623, 15, 1, 4, 5], [2105, 15, 1, 4, 5], [2106, 15, 1, 2, 3, 5], [2107, 15, 1, 2, 4, 5], [2624, 15, 1, 4, 5], [2108, 15, 1, 4, 5], [2625, 15, 1, 4, 5, 6], [2109, 15, 1, 4, 5, 6], [2626, 15, 1, 2, 4, 5, 6], [2627, 15, 1, 4, 5, 6],
                                    [2110, 15, 1, 4, 5, 6], [2111, 15, 1, 4, 5, 6], [2112, 15, 1, 2, 4, 5, 6], [2113, 15, 1, 4, 5, 6], [2114, 15, 1, 4, 5, 6], [2115, 15, 1, 4, 5, 6], [2116, 15, 1, 4, 5, 6], [2117, 15, 1, 2, 4, 5, 6], [2628, 15, 1, 2, 4, 5, 6], [2118, 15, 1, 2, 4, 5, 6], [2119, 15, 1, 2, 4, 5, 6],
                                    [2629, 15, 1, 4, 5, 6], [2120, 15, 1, 4, 5, 6], [2121, 15, 1, 4, 5, 6], [2630, 15, 1, 2, 4, 5, 6], [2122, 15, 1, 2, 4, 5, 6], [2123, 15, 1, 2, 4, 5, 6], [2124, 15, 1, 2, 4, 5, 6], [2631, 15, 1, 2, 4, 5, 6], [2125, 15, 1, 2, 4, 5, 6], [2126, 15, 1, 2, 4, 5, 6],
                                    [2127, 15, 1, 2, 4, 5, 6], [2410, 15, 1, 2, 4, 5, 6], [2411, 15, 1, 2, 4, 5, 6], [2128, 15, 1, 2, 4, 5, 6], [2129, 15, 1, 2, 4, 5, 6], [2130, 15, 1, 2, 4, 5, 6], [2131, 15, 1, 2, 4, 5, 6], [2132, 15, 1, 2, 4, 5, 6], [2133, 15, 1, 2, 4, 5, 6], [2134, 15, 1, 2, 4, 5, 6], [2135, 15, 1, 2, 4, 5, 6],
                                    [2136, 15, 1, 2, 4, 5, 6], [2137, 15, 1, 2, 4, 5, 6]]
        else:
            item_logic_chunk[17] = [[2092, 15], [2093, 15, 2], [2094, 15, 0, 5], [2095, 15, 0, 5], [2096, 15, 2, 5], [2097, 15, 0, 5], [2098, 15, 0, 5], [2099, 15, 0, 5], [2100, 15, 0, 5], [2101, 15, 2, 5], [2621, 15, 0, 4, 5], [2102, 15, 0, 3, 5], [2103, 15, 0, 3, 5], [2104, 15, 0, 3, 5], [2622, 15, 0, 4, 5],
                                    [2623, 15, 1, 4, 5], [2105, 15, 1, 4, 5], [2106, 15, 1, 2, 3, 5], [2107, 15, 1, 2, 4, 5], [2624, 15, 0, 4, 5], [2108, 15, 0, 4, 5], [2625, 15, 0, 4, 5], [2109, 15, 0, 4, 5], [2626, 15, 2, 4, 5, 6], [2627, 15, 0, 4, 5, 6], [2110, 15, 0, 4, 5, 6],
                                    [2111, 15, 0, 4, 5, 6], [2112, 15, 2, 4, 5, 6], [2113, 15, 1, 4, 5, 6], [2114, 15, 0, 4, 5, 6], [2115, 15, 0, 4, 5, 6], [2116, 15, 0, 4, 5, 6], [2117, 15, 2, 4, 5, 6], [2628, 15, 1, 2, 4, 5, 6], [2118, 15, 2, 4, 5, 6], [2119, 15, 2, 4, 5, 6], [2629, 15, 0, 4, 5, 6],
                                    [2120, 15, 0, 4, 5, 6], [2121, 15, 0, 4, 5, 6], [2630, 15, 2, 4, 5, 6], [2122, 15, 2, 4, 5, 6], [2123, 15, 2, 4, 5, 6], [2124, 15, 2, 4, 5, 6], [2631, 15, 2, 4, 5, 6], [2125, 15, 2, 4, 5, 6], [2126, 15, 2, 4, 5, 6], [2127, 15, 2, 4, 5, 6], [2410, 15, 2, 4, 5, 6], [2411, 15, 2, 4, 5, 6],
                                    [2128, 15, 2, 4, 5, 6], [2129, 15, 2, 4, 5, 6], [2130, 15, 2, 4, 5, 6], [2131, 15, 2, 4, 5, 6], [2132, 15, 2, 4, 5, 6], [2133, 15, 2, 4, 5, 6], [2134, 15, 2, 4, 5, 6], [2135, 15, 2, 4, 5, 6], [2136, 15, 2, 4, 5, 6], [2137, 15, 2, 4, 5, 6]]

        if settings[1][0] == 0 and settings[1][1] == 0:
            item_logic_chunk[18] = [[117, 15, 1], [118, 15, 1, 2, 5], [1298, 15, 16, 24, 25, 1, 3, 6], [1306, 15, 16, 24, 25, 1, 3, 6], [2384, 14], [2385, 14], [2386, 14], [2387, 14], [327, 15, 16, 17, 2, -1, 15, 16, 2, 5], [328, 15, 16, 17, 2, -1, 15, 16, 2, 5], [329, 15, 16, 17, 2, -1, 15, 16, 2, 5],
                                    [330, 15, 16, 17, 2, -1, 15, 16, 2, 5], [331, 15, 16, 17, 2, -1, 15, 16, 2, 5], [332, 15, 16, 17, 2, -1, 15, 16, 2, 5], [333, 15, 16, 17, 2, -1, 15, 16, 2, 5], [334, 15, 16, 17, 2, -1, 15, 16, 2, 5], [335, 15, 16, 17, 2, -1, 15, 16, 2, 5],
                                    [336, 15, 16, 17, 2, -1, 15, 16, 2, 5], [337, 15, 16, 17, 2, -1, 15, 16, 2, 5], [754, 15, 16, 22, 1, 2, 4, 5, 6], [755, 15, 16, 22, 1, 2, 4, 5, 6], [756, 15, 16, 22, 1, 2, 4, 5, 6], [757, 15, 16, 22, 1, 2, 4, 5, 6]]
        elif settings[1][1] == 1:
            item_logic_chunk[18] = [[117, 15, 1], [118, 15, 1, 2, 5], [1298, 15, 16, 24, 25, 1, 3, 6], [1306, 15, 16, 24, 25, 1, 3, 6], [2384, 14], [2385, 14], [2386, 14], [2387, 14], [327, 15, 16, 17, 2], [328, 15, 16, 17, 2], [329, 15, 16, 17, 2],
                                    [330, 15, 16, 17, 2], [331, 15, 16, 17, 2], [332, 15, 16, 17, 2], [333, 15, 16, 17, 2], [334, 15, 16, 17, 2], [335, 15, 16, 17, 2], [336, 15, 16, 17, 2], [337, 15, 16, 17, 2], [754, 15, 16, 22, 1, 2, 4, 5, 6], [755, 15, 16, 22, 1, 2, 4, 5, 6],
                                    [756, 15, 16, 22, 1, 2, 4, 5, 6], [757, 15, 16, 22, 1, 2, 4, 5, 6]]
        else:
            item_logic_chunk[18] = [[117, 15, 1], [118, 15, 2, 5], [1298, 15, 16, 24, 25, 3, 6], [1306, 15, 16, 24, 25, 3, 6], [2384, 14], [2385, 14], [2386, 14], [2387, 14], [327, 15, 16, 17, 2, -1, 15, 16, 2, 5], [328, 15, 16, 17, 2, -1, 15, 16, 2, 5], [329, 15, 16, 17, 2, -1, 15, 16, 2, 5],
                                    [330, 15, 16, 17, 2, -1, 15, 16, 2, 5], [331, 15, 16, 17, 2, -1, 15, 16, 2, 5], [332, 15, 16, 17, 2, -1, 15, 16, 2, 5], [333, 15, 16, 17, 2, -1, 15, 16, 2, 5], [334, 15, 16, 17, 2, -1, 15, 16, 2, 5], [335, 15, 16, 17, 2, -1, 15, 16, 2, 5],
                                    [336, 15, 16, 17, 2, -1, 15, 16, 2, 5], [337, 15, 16, 17, 2, -1, 15, 16, 2, 5], [754, 15, 16, 22, 1, 2, 4, 5, 6], [755, 15, 16, 22, 1, 2, 4, 5, 6], [756, 15, 16, 22, 1, 2, 4, 5, 6], [757, 15, 16, 22, 1, 2, 4, 5, 6]]

        if settings[1][0] == 0 and settings[1][1] == 0:
            item_logic_chunk[19] = [[2632, 23, 1, 3, 6, 8, -1, 1, 5, 6, 8], [912, 23, 1, 3, 6, 8, 10, -1, 1, 5, 6, 8, 10], [913, 23, 1, 3, 6, 8, 10, -1, 1, 5, 6, 8, 10], [914, 23, 1, 3, 6, 8, 10, -1, 1, 5, 6, 8, 10], [915, 23, 1, 3, 6, 8, 10, -1, 1, 5, 6, 8, 10], [916, 23, 1, 3, 6, 8, 10, -1, 1, 5, 6, 8, 10],
                                    [1782, 23, 1, 4, 6, 8, 10, -1, 1, 5, 6, 10], [1756, 23, 1, 4, 6, 8, 10, -1, 1, 5, 6, 10], [917, 23, 1, 4, 6, 8, 10, -1, 1, 5, 6], [918, 23, 1, 4, 6, 8, 10, -1, 1, 5, 6], [919, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11],
                                    [2633, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [921, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [922, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [923, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11],
                                    [924, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [925, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [926, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [2634, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11],
                                    [2635, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [927, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [928, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [929, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11],
                                    [2636, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [930, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [931, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [932, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11],
                                    [933, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [1806, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [1807, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [2637, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11],
                                    [936, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [937, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [938, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [939, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11],
                                    [940, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [2638, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [2639, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [941, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11],
                                    [942, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [943, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [944, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [2640, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11],
                                    [2641, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [953, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [2642, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [954, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11],
                                    [961, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [962, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [965, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [966, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11],
                                    [967, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [968, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [2397, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [970, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11],
                                    [971, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [972, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [976, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [977, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11],
                                    [984, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [985, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [1915, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [2643, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11],
                                    [920, 23, 1, 4, 6, 8, 9, 10, 11, -1, 1, 5, 6, 8, 9, 10, 11], [986, 1, 4, 5, 6], [989, 1, 4, 5, 6], [990, 23, 1, 3, -1, 1, 5], [991, 23, 1, 3, -1, 1, 5], [992, 23, 1, 3, -1, 1, 5], [1050, 23, 1, -1, 1, 5], [1051, 23, 1, -1, 1, 5],
                                    [1653, 15, 27, 1, 3, 5, 6], [1654, 15, 27, 1, 3, 5, 6], [2368, 15, 27, 1, 3, 5, 6], [2369, 15, 27, 1, 3, 5, 6], [2376, 15, 27, 1, 3, 5, 6]]
        elif settings[1][0] == 1 and settings[1][1] == 1:
            item_logic_chunk[19] = [[2632, 23, 3, 6, 8, -1, 23, 5, 6, 8], [912, 23, 3, 6, 8, 10, -1, 23, 5, 6, 8, 10], [913, 23, 3, 6, 8, 10, -1, 23, 5, 6, 8, 10], [914, 23, 3, 6, 8, 10, -1, 23, 5, 6, 8, 10], [915, 23, 3, 6, 8, 10, -1, 23, 5, 6, 8, 10], [916, 23, 3, 6, 8, 10, -1, 23, 5, 6, 8, 10],
                                    [1782, 23, 4, 6, 8, 10], [1756, 23, 4, 6, 8, 10], [917, 23, 4, 6, 8, 10], [918, 23, 4, 6, 8, 10], [919, 23, 0, 4, 5, 6, 8, 9, 10, 11], [2633, 23, 0, 4, 5, 6, 8, 9, 10, 11], [921, 23, 0, 4, 5, 6, 8, 9, 10, 11], [922, 23, 0, 4, 5, 6, 8, 9, 10, 11],
                                    [923, 23, 0, 4, 5, 6, 8, 9, 10, 11], [924, 23, 0, 4, 5, 6, 8, 9, 10, 11], [925, 23, 0, 4, 5, 6, 8, 9, 10, 11], [926, 23, 0, 4, 5, 6, 8, 9, 10, 11], [2634, 23, 0, 4, 5, 6, 8, 9, 10, 11], [2635, 23, 0, 4, 5, 6, 8, 9, 10, 11],
                                    [927, 23, 0, 4, 5, 6, 8, 9, 10, 11], [928, 23, 0, 4, 5, 6, 8, 9, 10, 11], [929, 23, 0, 4, 5, 6, 8, 9, 10, 11], [2636, 23, 0, 4, 5, 6, 8, 9, 10, 11], [930, 23, 0, 4, 5, 6, 8, 9, 10, 11], [931, 23, 0, 4, 5, 6, 8, 9, 10, 11],
                                    [932, 23, 0, 4, 5, 6, 8, 9, 10, 11], [933, 23, 0, 4, 5, 6, 8, 9, 10, 11], [1806, 23, 0, 4, 5, 6, 8, 9, 10, 11], [1807, 23, 0, 4, 5, 6, 8, 9, 10, 11], [2637, 23, 0, 4, 5, 6, 8, 9, 10, 11], [936, 23, 0, 4, 5, 6, 8, 9, 10, 11],
                                    [937, 23, 0, 4, 5, 6, 8, 9, 10, 11], [938, 23, 0, 4, 5, 6, 8, 9, 10, 11], [939, 23, 0, 4, 5, 6, 8, 9, 10, 11], [940, 23, 0, 4, 5, 6, 8, 9, 10, 11], [2638, 23, 0, 4, 5, 6, 8, 9, 10, 11], [2639, 23, 0, 4, 5, 6, 8, 9, 10, 11],
                                    [941, 23, 0, 4, 5, 6, 8, 9, 10, 11], [942, 23, 0, 4, 5, 6, 8, 9, 10, 11], [943, 23, 0, 4, 5, 6, 8, 9, 10, 11], [944, 23, 0, 4, 5, 6, 8, 9, 10, 11], [2640, 23, 0, 4, 5, 6, 8, 9, 10, 11], [2641, 23, 0, 4, 5, 6, 8, 9, 10, 11],
                                    [953, 23, 0, 4, 5, 6, 8, 9, 10, 11], [2642, 23, 0, 4, 5, 6, 8, 9, 10, 11], [954, 23, 0, 4, 5, 6, 8, 9, 10, 11], [961, 23, 0, 4, 5, 6, 8, 9, 10, 11], [962, 23, 0, 4, 5, 6, 8, 9, 10, 11], [965, 23, 0, 4, 5, 6, 8, 9, 10, 11],
                                    [966, 23, 0, 4, 5, 6, 8, 9, 10, 11], [967, 23, 0, 4, 5, 6, 8, 9, 10, 11], [968, 23, 0, 4, 5, 6, 8, 9, 10, 11], [2397, 23, 0, 4, 5, 6, 8, 9, 10, 11], [970, 23, 0, 4, 5, 6, 8, 9, 10, 11], [971, 23, 0, 4, 5, 6, 8, 9, 10, 11],
                                    [972, 23, 0, 4, 5, 6, 8, 9, 10, 11], [976, 23, 0, 4, 5, 6, 8, 9, 10, 11], [977, 23, 0, 4, 5, 6, 8, 9, 10, 11], [984, 23, 0, 4, 5, 6, 8, 9, 10, 11], [985, 23, 0, 4, 5, 6, 8, 9, 10, 11], [1915, 23, 0, 4, 5, 6, 8, 9, 10, 11],
                                    [2643, 23, 0, 4, 5, 6, 8, 9, 10, 11], [920, 23, 0, 4, 5, 6, 8, 9, 10, 11], [986, 23, 0, 4, 5, 6], [989, 23, 0, 4, 5, 6], [990, 23, 0, 3, -1, 23, 0, 5], [991, 23, 0, 3, -1, 23, 0, 5], [992, 23, 0, 3, -1, 23, 0, 5],
                                    [1050, 23, 0], [1051, 23, 0], [1653, 15, 27, 0, 3, 5, 6], [1654, 15, 27, 0, 3, 5, 6], [2368, 15, 27, 0, 3, 5, 6], [2369, 15, 27, 0, 3, 5, 6], [2376, 15, 27, 0, 3, 5, 6]]
        elif settings[1][1] == 1:
            item_logic_chunk[19] = [[2632, 23, 1, 3, 6, 8, -1, 23, 5, 6, 8], [912, 23, 1, 3, 6, 8, 10, -1, 23, 5, 6, 8, 10], [913, 23, 1, 3, 6, 8, 10, -1, 23, 5, 6, 8, 10], [914, 23, 1, 3, 6, 8, 10, -1, 23, 5, 6, 8, 10], [915, 23, 1, 3, 6, 8, 10, -1, 23, 5, 6, 8, 10], [916, 23, 1, 3, 6, 8, 10, -1, 23, 5, 6, 8, 10],
                                    [1782, 23, 1, 4, 6, 8, 10], [1756, 23, 1, 4, 6, 8, 10], [917, 23, 1, 4, 6, 8, 10], [918, 23, 1, 4, 6, 8, 10], [919, 23, 1, 4, 5, 6, 8, 9, 10, 11], [2633, 23, 1, 4, 5, 6, 8, 9, 10, 11], [921, 23, 1, 4, 5, 6, 8, 9, 10, 11],
                                    [922, 23, 1, 4, 5, 6, 8, 9, 10, 11], [923, 23, 1, 4, 5, 6, 8, 9, 10, 11], [924, 23, 1, 4, 5, 6, 8, 9, 10, 11], [925, 23, 1, 4, 5, 6, 8, 9, 10, 11], [926, 23, 1, 4, 5, 6, 8, 9, 10, 11], [2634, 23, 1, 4, 5, 6, 8, 9, 10, 11],
                                    [2635, 23, 1, 4, 5, 6, 8, 9, 10, 11], [927, 23, 1, 4, 5, 6, 8, 9, 10, 11], [928, 23, 1, 4, 5, 6, 8, 9, 10, 11], [929, 23, 1, 4, 5, 6, 8, 9, 10, 11], [2636, 23, 1, 4, 5, 6, 8, 9, 10, 11], [930, 23, 1, 4, 5, 6, 8, 9, 10, 11],
                                    [931, 23, 1, 4, 5, 6, 8, 9, 10, 11], [932, 23, 1, 4, 5, 6, 8, 9, 10, 11], [933, 23, 1, 4, 5, 6, 8, 9, 10, 11], [1806, 23, 1, 4, 5, 6, 8, 9, 10, 11], [1807, 23, 1, 4, 5, 6, 8, 9, 10, 11], [2637, 23, 1, 4, 5, 6, 8, 9, 10, 11],
                                    [936, 23, 1, 4, 5, 6, 8, 9, 10, 11], [937, 23, 1, 4, 5, 6, 8, 9, 10, 11], [938, 23, 1, 4, 5, 6, 8, 9, 10, 11], [939, 23, 1, 4, 5, 6, 8, 9, 10, 11], [940, 23, 1, 4, 5, 6, 8, 9, 10, 11], [2638, 23, 1, 4, 5, 6, 8, 9, 10, 11],
                                    [2639, 23, 1, 4, 5, 6, 8, 9, 10, 11], [941, 23, 1, 4, 5, 6, 8, 9, 10, 11], [942, 23, 1, 4, 5, 6, 8, 9, 10, 11], [943, 23, 1, 4, 5, 6, 8, 9, 10, 11], [944, 23, 1, 4, 5, 6, 8, 9, 10, 11], [2640, 23, 1, 4, 5, 6, 8, 9, 10, 11],
                                    [2641, 23, 1, 4, 5, 6, 8, 9, 10, 11], [953, 23, 1, 4, 5, 6, 8, 9, 10, 11], [2642, 23, 1, 4, 5, 6, 8, 9, 10, 11], [954, 23, 1, 4, 5, 6, 8, 9, 10, 11], [961, 23, 1, 4, 5, 6, 8, 9, 10, 11], [962, 23, 1, 4, 5, 6, 8, 9, 10, 11],
                                    [965, 23, 1, 4, 5, 6, 8, 9, 10, 11], [966, 23, 1, 4, 5, 6, 8, 9, 10, 11], [967, 23, 1, 4, 5, 6, 8, 9, 10, 11], [968, 23, 1, 4, 5, 6, 8, 9, 10, 11], [2397, 23, 1, 4, 5, 6, 8, 9, 10, 11], [970, 23, 1, 4, 5, 6, 8, 9, 10, 11],
                                    [971, 23, 1, 4, 5, 6, 8, 9, 10, 11], [972, 23, 1, 4, 5, 6, 8, 9, 10, 11], [976, 23, 1, 4, 5, 6, 8, 9, 10, 11], [977, 23, 1, 4, 5, 6, 8, 9, 10, 11], [984, 23, 1, 4, 5, 6, 8, 9, 10, 11], [985, 23, 1, 4, 5, 6, 8, 9, 10, 11],
                                    [1915, 23, 1, 4, 5, 6, 8, 9, 10, 11], [2643, 23, 1, 4, 5, 6, 8, 9, 10, 11], [920, 23, 1, 4, 5, 6, 8, 9, 10, 11], [986, 23, 1, 4, 5, 6], [989, 23, 1, 4, 5, 6], [990, 23, 1, 3, -1, 23, 1, 5], [991, 23, 1, 3, -1, 23, 1, 5],
                                    [992, 23, 1, 3, -1, 23, 1, 5], [1050, 23, 1], [1051, 23, 1], [1653, 15, 27, 1, 3, 5, 6], [1654, 15, 27, 1, 3, 5, 6], [2368, 15, 27, 1, 3, 5, 6], [2369, 15, 27, 1, 3, 5, 6], [2376, 15, 27, 1, 3, 5, 6]]
        else:
            item_logic_chunk[19] = [[2632, 23, 3, 6, 8, -1, 5, 6, 8], [912, 23, 3, 6, 8, 10, -1, 5, 6, 8, 10], [913, 23, 3, 6, 8, 10, -1, 5, 6, 8, 10], [914, 23, 3, 6, 8, 10, -1, 5, 6, 8, 10], [915, 23, 3, 6, 8, 10, -1, 5, 6, 8, 10], [916, 23, 3, 6, 8, 10, -1, 5, 6, 8, 10], [1782, 23, 4, 6, 8, 10, -1, 5, 6, 10],
                                    [1756, 23, 4, 6, 8, 10, -1, 5, 6, 10], [917, 23, 4, 6, 8, 10, -1, 5, 6], [918, 23, 4, 6, 8, 10, -1, 5, 6], [919, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [2633, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11],
                                    [921, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [922, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [923, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [924, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11],
                                    [925, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [926, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [2634, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [2635, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11],
                                    [927, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [928, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [929, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [2636, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11],
                                    [930, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [931, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [932, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [933, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11],
                                    [1806, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [1807, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [2637, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [936, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11],
                                    [937, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [938, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [939, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [940, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11],
                                    [2638, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [2639, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [941, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [942, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11],
                                    [943, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [944, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [2640, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [2641, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11],
                                    [953, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [2642, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [954, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [961, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11],
                                    [962, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [965, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [966, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [967, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11],
                                    [968, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [2397, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [970, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [971, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11],
                                    [972, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [976, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [977, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [984, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11],
                                    [985, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [1915, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [2643, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11], [920, 23, 0, 4, 5, 6, 8, 9, 10, 11, -1, 0, 5, 6, 8, 9, 10, 11],
                                    [986, 0, 4, 5, 6], [989, 0, 4, 5, 6], [990, 23, 0, 3, -1, 0, 5], [991, 23, 0, 3, -1, 0, 5], [992, 23, 0, 3, -1, 0, 5], [1050, 23, 0, -1, 0, 5], [1051, 23, 0, -1, 0, 5], [1653, 15, 27, 0, 3, 5, 6], [1654, 15, 27, 0, 3, 5, 6], [2368, 15, 27, 0, 3, 5, 6],
                                    [2369, 15, 27, 0, 3, 5, 6], [2376, 15, 27, 0, 3, 5, 6]]

        if settings[1][0] == 0:
            item_logic_chunk[20] = [[1968, 15, 1, 4, 5, 6], [1969, 15, 1, 4, 5, 6], [1970, 15, 1, 4, 5, 6], [1971, 15, 1, 4, 5, 6], [1972, 15, 1, 4, 5, 6], [1973, 15, 1, 4, 5, 6], [1974, 15, 1, 4, 5, 6], [2008, 15, 1, 4, 5, 6], [2009, 15, 1, 4, 5, 6], [2010, 15, 1, 4, 5, 6], [2016, 15, 1, 2, 4, 5, 6],
                                    [2017, 15, 1, 2, 4, 5, 6], [2018, 15, 1, 2, 4, 5, 6], [2019, 15, 1, 2, 4, 5, 6], [2020, 15, 1, 2, 4, 5, 6], [2021, 15, 1, 2, 4, 5, 6], [2022, 15, 1, 2, 4, 5, 6], [2023, 15, 1, 2, 4, 5, 6], [2644, 15, 1, 2, 4, 5, 6], [2645, 15, 1, 2, 4, 5, 6], [2646, 15, 1, 2, 4, 5, 6, 8, 9],
                                    [2024, 15, 1, 2, 4, 5, 6], [2025, 15, 1, 2, 4, 5, 6], [2026, 15, 1, 2, 4, 5, 6], [2027, 15, 1, 2, 4, 5, 6], [2028, 15, 1, 2, 4, 5, 6], [2029, 15, 1, 2, 4, 5, 6], [2030, 15, 1, 2, 4, 5, 6, 8, 9], [2031, 15, 1, 2, 4, 5, 6], [2647, 15, 1, 2, 4, 5, 6], [2648, 15, 1, 2, 4, 5, 6, 8, 9],
                                    [2035, 15, 1, 2, 4, 5, 6, 8, 9], [2036, 15, 1, 2, 4, 5, 6, 8, 10], [2649, 15, 1, 2, 4, 5, 6, 8, 9], [2051, 15, 1, 2, 4, 5, 6, 8, 9], [2052, 15, 1, 2, 4, 5, 6], [2053, 15, 1, 2, 4, 5, 6, 8, 9], [2054, 15, 1, 2, 4, 5, 6, 8, 9, 10], [2355, 15, 1, 2, 4, 5, 6, 8, 9], [2650, 15, 1, 2, 4, 5, 6, 8, 9, 10],
                                    [2651, 15, 1, 2, 4, 5, 6, 8, 9, 10], [2058, 15, 1, 2, 4, 5, 6, 8, 9, 10], [2059, 15, 1, 2, 4, 5, 6, 8, 9, 10], [2652, 15, 1, 2, 4, 5, 6, 8, 9, 10], [2060, 15, 1, 2, 4, 5, 6, 8, 9, 10], [2061, 15, 1, 2, 4, 5, 6, 8, 9, 10], [2062, 15, 1, 2, 4, 5, 6, 8, 9, 10], [2063, 15, 1, 2, 4, 5, 6, 8, 9, 10],
                                    [2653, 15, 1, 2, 4, 5, 6, 8, 9, 10], [2066, 15, 1, 2, 4, 5, 6, 8, 9, 10], [2067, 15, 1, 2, 4, 5, 6, 8, 9, 10], [2085, 15, 1, 3, 5, 6], [2086, 15, 1, 3, 5, 6], [2087, 15, 1, 3, 5, 6], [2088, 15, 1, 4, 5, 6], [2089, 15, 1, 2, 4, 5, 6], [2090, 15, 1, 2, 4, 5, 6], [2091, 15, 1, 2, 4, 5, 6],
                                    [2335, 15, 1, 4, 5, 6], [2336, 15, 1, 4, 5, 6]]
        else:
            item_logic_chunk[20] = [[1968, 15, 0, 4, 5, 6], [1969, 15, 0, 4, 5, 6], [1970, 15, 0, 4, 5, 6], [1971, 15, 0, 4, 5, 6], [1972, 15, 0, 4, 5, 6], [1973, 15, 0, 4, 5, 6], [1974, 15, 0, 4, 5, 6], [2008, 15, 0, 4, 5, 6], [2009, 15, 0, 4, 5, 6], [2010, 15, 0, 4, 5, 6], [2016, 15, 2, 4, 5, 6],
                                    [2017, 15, 2, 4, 5, 6], [2018, 15, 2, 4, 5, 6], [2019, 15, 2, 4, 5, 6], [2020, 15, 2, 4, 5, 6], [2021, 15, 2, 4, 5, 6], [2022, 15, 2, 4, 5, 6], [2023, 15, 2, 4, 5, 6], [2644, 15, 2, 4, 5, 6], [2645, 15, 2, 4, 5, 6], [2646, 15, 2, 4, 5, 6, 8, 9], [2024, 15, 2, 4, 5, 6],
                                    [2025, 15, 2, 4, 5, 6], [2026, 15, 2, 4, 5, 6], [2027, 15, 2, 4, 5, 6], [2028, 15, 2, 4, 5, 6], [2029, 15, 2, 4, 5, 6], [2030, 15, 2, 4, 5, 6, 8, 9], [2031, 15, 2, 4, 5, 6], [2647, 15, 2, 4, 5, 6], [2648, 15, 2, 4, 5, 6, 8, 9], [2035, 15, 2, 4, 5, 6, 8, 9], [2036, 15, 2, 4, 5, 6, 8, 10],
                                    [2649, 15, 2, 4, 5, 6, 8, 9], [2051, 15, 2, 4, 5, 6, 8, 9], [2052, 15, 2, 4, 5, 6], [2053, 15, 2, 4, 5, 6, 8, 9], [2054, 2, 4, 5, 6, 8, 9, 10], [2355, 15, 2, 4, 5, 6, 8, 9], [2650, 15, 2, 4, 5, 6, 8, 9, 10], [2651, 15, 2, 4, 5, 6, 8, 9, 10], [2058, 15, 2, 4, 5, 6, 8, 9, 10],
                                    [2059, 15, 2, 4, 5, 6, 8, 9, 10], [2652, 15, 2, 4, 5, 6, 8, 9, 10], [2060, 15, 2, 4, 5, 6, 8, 9, 10], [2061, 15, 2, 4, 5, 6, 8, 9, 10], [2062, 15, 2, 4, 5, 6, 8, 9, 10], [2063, 15, 2, 4, 5, 6, 8, 9, 10], [2653, 15, 2, 4, 5, 6, 8, 9, 10], [2066, 15, 2, 4, 5, 6, 8, 9, 10],
                                    [2067, 15, 2, 4, 5, 6, 8, 9, 10], [2085, 15, 0, 3, 5, 6], [2086, 15, 0, 3, 5, 6], [2087, 15, 0, 3, 5, 6], [2088, 15, 0, 4, 5, 6], [2089, 15, 2, 4, 5, 6], [2090, 15, 2, 4, 5, 6], [2091, 15, 2, 4, 5, 6], [2335, 15, 0, 4, 5, 6], [2336, 15, 0, 4, 5, 6]]

        if settings[1][0] == 0:
            item_logic_chunk[21] = [[2138, 15, 27, 1, 3, 5, 6], [2139, 15, 27, 1, 3, 5, 6], [2140, 15, 27, 1, 3, 5, 6], [2141, 15, 27, 1, 3, 5, 6], [2142, 15, 27, 1, 3, 5, 6], [2143, 15, 27, 1, 3, 5, 6], [2144, 15, 27, 1, 3, 5, 6], [2145, 15, 27, 1, 3, 5, 6], [2146, 15, 27, 1, 3, 5, 6], [2147, 15, 27, 1, 3, 5, 6],
                                    [2203, 15, 27, 1, 3, 5, 6], [2204, 15, 27, 1, 3, 5, 6], [2205, 15, 27, 1, 3, 5, 6], [2206, 15, 27, 1, 3, 5, 6], [2207, 15, 27, 1, 3, 5, 6], [2208, 15, 27, 1, 3, 5, 6], [2209, 15, 27, 1, 3, 5, 6], [2210, 15, 27, 1, 3, 5, 6], [2211, 15, 27, 1, 3, 5, 6], [2356, 15, 27, 1, 3, 5, 6],
                                    [2212, 15, 27, 1, 3, 5, 6], [2215, 15, 27, 1, 3, 5, 6], [2216, 15, 27, 1, 3, 5, 6], [2217, 15, 27, 1, 3, 5, 6], [2218, 15, 27, 1, 3, 5, 6], [2357, 15, 27, 1, 3, 5, 6], [2220, 15, 27, 1, 3, 5, 6], [2230, 15, 27, 1, 3, 5, 6], [2231, 15, 27, 1, 4, 5, 6], [2232, 15, 27, 1, 4, 5, 6],
                                    [2239, 15, 27, 1, 4, 5, 6], [2245, 15, 27, 1, 4, 5, 6], [2246, 15, 27, 1, 4, 5, 6], [2247, 15, 27, 1, 4, 5, 6], [2273, 15, 27, 1, 4, 5, 6, 7, 8, 10, 12, 13], [2274, 15, 27, 1, 4, 5, 6, 7, 8, 9, 10, 12, 13], [2275, 15, 27, 1, 4, 5, 6, 7, 8, 9, 10, 12, 13],
                                    [2276, 15, 27, 1, 4, 5, 6, 7, 8, 9, 10, 12, 13], [2277, 15, 27, 1, 4, 5, 6, 7, 8, 9, 10, 12, 13], [2382, 15, 27, 1, 4, 5, 6, 7, 8, 9, 10, 12, 13], [2293, 15, 27, 1, 4, 5, 6, 7, 8, 9, 10, 12, 13], [2294, 15, 27, 1, 4, 5, 6, 7, 8, 9, 10, 12, 13], [2295, 15, 27, 1, 4, 5, 6, 7, 8, 9, 10, 12, 13]]
        else:
            item_logic_chunk[21] = [[2138, 15, 27, 3, 5, 6], [2139, 15, 27, 3, 5, 6], [2140, 15, 27, 3, 5, 6], [2141, 15, 27, 3, 5, 6], [2142, 15, 27, 3, 5, 6], [2143, 15, 27, 3, 5, 6], [2144, 15, 27, 3, 5, 6], [2145, 15, 27, 3, 5, 6], [2146, 15, 27, 3, 5, 6], [2147, 15, 27, 3, 5, 6], [2203, 15, 27, 3, 5, 6],
                                    [2204, 15, 27, 3, 5, 6], [2205, 15, 27, 3, 5, 6], [2206, 15, 27, 3, 5, 6], [2207, 15, 27, 3, 5, 6], [2208, 15, 27, 3, 5, 6], [2209, 15, 27, 3, 5, 6], [2210, 15, 27, 3, 5, 6], [2211, 15, 27, 3, 5, 6], [2356, 15, 27, 0, 3, 5, 6], [2212, 15, 27, 0, 3, 5, 6], [2215, 15, 27, 0, 3, 5, 6],
                                    [2216, 15, 27, 0, 3, 5, 6], [2217, 15, 27, 0, 3, 5, 6], [2218, 15, 27, 0, 3, 5, 6], [2357, 15, 27, 0, 3, 5, 6], [2220, 15, 27, 0, 3, 5, 6], [2230, 15, 27, 0, 3, 5, 6], [2231, 15, 27, 0, 4, 5, 6], [2232, 15, 27, 0, 4, 5, 6], [2239, 15, 27, 0, 4, 5, 6],
                                    [2245, 15, 27, 0, 4, 5, 6], [2246, 15, 27, 0, 4, 5, 6], [2247, 15, 27, 0, 4, 5, 6], [2273, 15, 27, 0, 4, 5, 6, 7, 8, 10, 12, 13], [2274, 15, 27, 0, 4, 5, 6, 7, 8, 9, 10, 12, 13], [2275, 15, 27, 0, 4, 5, 6, 7, 8, 9, 10, 12, 13], [2276, 15, 27, 0, 4, 5, 6, 7, 8, 9, 10, 12, 13],
                                    [2277, 15, 27, 0, 4, 5, 6, 7, 8, 9, 10, 12, 13], [2382, 15, 27, 0, 4, 5, 6, 7, 8, 9, 10, 12, 13], [2293, 15, 27, 0, 4, 5, 6, 7, 8, 9, 10, 12, 13], [2294, 15, 27, 0, 4, 5, 6, 7, 8, 9, 10, 12, 13], [2295, 15, 27, 0, 4, 5, 6, 7, 8, 9, 10, 12, 13]]

        if settings[1][0] == 0 and settings[1][1] == 0:
            item_logic_chunk[22] = [[1526, 15, 22, 1, -1, 15, 22, 5], [297, 15, 16, 17, 1, -1, 15, 16, 1, 5], [298, 15, 16, 17, 1, -1, 15, 16, 1, 5], [299, 15, 16, 17, 1, -1, 15, 16, 1, 5], [300, 15, 16, 17, 1, -1, 15, 16, 1, 5], [301, 15, 16, 17, 1, -1, 15, 16, 1, 5], [302, 15, 16, 17, 1, -1, 15, 16, 1, 5],
                                    [2654, 15, 22, 1, 4, 5, 6], [758, 15, 22, 1, 4, 5, 6], [759, 15, 22, 1, 4, 5, 6]]
        elif settings[1][0] == 1 and settings[1][1] == 1:
            item_logic_chunk[22] = [[1526, 15, 22, 1, -1, 15, 22, 5], [297, 15, 16, 17, 1], [298, 15, 16, 17, 1], [299, 15, 16, 17, 1], [300, 15, 16, 17, 1], [301, 15, 16, 17, 1], [302, 15, 16, 17, 1], [2654, 15, 22, 1, 4, 5, 6], [758, 15, 22, 1, 4, 5, 6], [759, 15, 22, 1, 4, 5, 6]]
        elif settings[1][1] == 1:
            item_logic_chunk[22] = [[1526, 15, 22, 1, -1, 15, 22, 5], [297, 15, 16, 17, 1], [298, 15, 16, 17, 1], [299, 15, 16, 17, 1], [300, 15, 16, 17, 1], [301, 15, 16, 17, 1], [302, 15, 16, 17, 1], [2654, 15, 22, 1, 4, 5, 6], [758, 15, 22, 1, 4, 5, 6], [759, 15, 22, 1, 4, 5, 6]]
        else:
            item_logic_chunk[22] = [[1526, 15, 22, 1, -1, 15, 22, 5], [297, 15, 16, 17, 1, -1, 15, 16, 1, 5], [298, 15, 16, 17, 1, -1, 15, 16, 1, 5], [299, 15, 16, 17, 1, -1, 15, 16, 1, 5], [300, 15, 16, 17, 1, -1, 15, 16, 1, 5], [301, 15, 16, 17, 1, -1, 15, 16, 1, 5], [302, 15, 16, 17, 1, -1, 15, 16, 1, 5],
                                    [2654, 15, 22, 1, 4, 5, 6], [758, 15, 22, 1, 4, 5, 6], [759, 15, 22, 1, 4, 5, 6]]
        pbar.update(10)

        item_logic = []
        for c in range(len(item_logic_chunk)):
            for l in range(len(item_logic_chunk[c])):
                item_logic.append(item_logic_chunk[c][l])
                pbar.update(1)

        #for l in range(len(item_logic)):
        #    try:
        #        if item_logic[l][0][0] == item_locals[l][-1]:
        #            print(item_logic[l])
        #    except TypeError:
        #        if item_logic[l][0] == item_locals[l][-1]:
        #            print(item_logic[l])
        #        print(item_locals[l])
        #print(len(item_logic))
        #print(len(item_locals))

        #To be utilized: loading zone types for entrance randomization
        #Loading zone types:
        # -1 - Inaccessible
        # 0 - Entrance left
        # 1 - Entrance right
        # 2 - Entrance up
        # 3 - Entrance down
        # 4 - Launch platform entrance up
        # 5 - Launch platform entrance down
        # 6 - Pipe
        # 7 - Dozing Track Entrance Left
        # 8 - Dozing Track Entrance Right
        # 9 - Dozing Track Entrance Up
        # 10 - Dozing Track Entrance Down
        # 11 - Going Up
        # 12 - Going Down
        # 13 - Diagonal Entrance
        # 14 - Dream Entrance Dream Portal
        # 15 - Dream Entrance Left
        # 16 - Dream Entrance Right
        # 17 - Dream Entrance Up
        # 18 - Dream Entrance Down
        # 19 - Dream Entrance Pipe
        # 20 - Dream Entrance Door
        # 21 - Dream Entrance Dream Egg Walkway Going Forward
        # 22 - Dream Entrance Dream Egg Walkway Going Backward
        exit_types = [[1, 3, 2, 0], [1, 2, 3, 2, 2, 0, 0, 0], [1, 2, 0], [0], [3, 2, 4, 0], [3, 5, 0], [1, 3, 2, 0], [1, 6, 3, 3, 2, 3, 0], [1],
                      [1, 1, 1, 4, 2], [5, 3], [1, 2], [1, 0], [-1], [1, 3, 0], [3], [10, 7], [3, 2], [3, 0], [8, 10, 7, 7], [9, 7], [-1], [-1],
                      [0, 0], [6], [8, 8, 10], [1, 0], [1, 3, 0], [1, 3, 2, 0], [-1], [14, 18, 17, 15], [16, 15], [16, 15], [16, 15], [16, 16, 15, 15],
                      [15], [16, 16, 15], [16, 15, 15], [16, 16, 15, 15], [16, 19, 19, 13], [19, 19], [16, 16], [15, 15], [16], [14], [16, 15],
                      [16, 15], [17, 15], [15], [15], [15], [2, 0], [1, 1, 0, 3, 3, 11, 3, 2, 3], [3, 3, 3, 0, 3, 2, 0, 0], [1, 1, 3, 3, 2, 3, 3],
                      [-1], [1, 1, 3], [3, 3], [1, 1, 0, 0, 0], [3, 0, 0], [12, 2], [2], [1, 2], [2, 6, 1], [2], [2], [2], [2], [2], [3, 2], [2],
                      [1, 1, 1, 2], [1, 0, 0, 0], [0], [2, 0], [1, 3, 0], [1, 1], [1, 1, 3, 0, 0], [-1], [2, 0], [-1], [-1], [-1], [-1], [-1], [-1],
                      [3, 0], [-1], [1, 0], [1, 0], [6, 3, 2], [1, 3], [2, 3, 2], [1, 2, 0], [-1], [-1], [8, 10], [1, 0], [1, 0], [1, 2], [-1], [-1],

                      [3, 2], [3, 2, 6], [1, 1, 3, 2, 0, 0], [1, 1, 3, 0], [1, 3, 0], [1, 2], [3, 0], [1], [3, 3, 3, 0, 0], [1, 2, 3, 12, 2, 2],
                      [0], [-1], [3, 2, 11], [-1], [3, 2, 0], [2, 3], [3, 2, 2, 0], [1, 1, 1, 3, 2, 6, 0, 0, 0], [1, 1, 1, 0, 0], [1, 1], [1],
                      [1, 1, 0, 0, 0], [0, 0], [3, 2], [1, 2], [1, 0], [0], [2],

                      [1, 13, 3, 2, 13, 0], [-1], [2, 13], [3, 3], [1, 1, 2, 0, 0], [0], [1], [0, 13], [1, 13, 3, 2, 13, 0], [0], [13], [2], [13],
                      [1, 3], [-1], [1], [-1], [1, 0], [2, 0], [3, 0], [1, 2], [1], [0, 0], [3], [-1], [-1], [15], [-1], [-1], [-1], [-1],
                      [14, 20, 15], [16, 20, 20, 15], [20, 20], [16, 20, 15], [20], [16, 15], [16, 15], [16], [17, 20], [-1], [16, 14], [16, 15], [15],
                      [1, 3, 2, 0], [16, 16], [16, 14], [14, 15, 15], [16, 15], [16, 16], [14], [14], [14, 19, 15], [16, 16], [19, 15],
                      [19, 14, 15], [16, 15], [16, 16, 15, 15, 15, 15], [16, 15, 15], [16, 16, 15], [16, 15], [16, 19], [16, 19], [16, 15],
                      [16, 16, 19, 19], [16, 15], [16, 15], [15, 15], [16, 15], [-1], [-1], [-1], [-1], [-1], [-1], [-1], [-1], [-1], [-1]]

        #To be utilized: array of what's required to access specific entrances
        room_access = [[[], [], [], []], [[], [], [], [], [], [0, 5], [0], []], [[0, -1, 5], [], [0]], [[0], [0], [0], []], [[0], [0], [0]],
                       [[], [], [], []], [[3, -1, 5], [], [0], [], [], [0], []], [[]], [[0], [0], [0], [0, 5], [0, 5]], [[0], []], [[], []],
                       [[0], [0]], [], [[], [], []], [[]], [[], []], [[1, -1, 2], []], [[], []], [[], [], [], []], [[], []], [], [],
                       [[], []], [[0]], [[], [], []], [[], []], [[], [], []], [[], [], [], []], [], [[], [], [], []], [[], []], [[], []], [[], []],
                       [[], [], [], []], [[]], [[], [], []], [[], [], []], [[], [], [], []], [[], [], [], []], [[], []], [[], []], [[], []], [[]],
                       [[]], [[], []], [[], []], [[], []], [[]], [[]], [[]], [[22], []], [[22], [22], [22], [22], [22], [22], [22], [22], [22]],
                       [[22], [22, 5], [22], [22], [22], [22], [22], [22]], [[22], [22], [22], [22], [22, 1], [22], [22]], [], [[], [], []],
                       [[22], [22]], [[5], [], [], [], []], [[], [], []], [[22], [22]], [[22]], [[22], [22]], [[22], [22, 41], [22, 41]],
                       [[22]], [[22]], [[22]], [[22]], [[22]], [[], []], [[]], [[], [1], [], []], [[], [], [], []], [[]], [[], []], [[], [], []],
                       [[], []], [[], [0], [0, 4], [5], []], [], [[], []], [], [], [], [], [], [], [[], []], [], [[], []], [[], []], [[], [], []],
                       [[], []], [[], [], []], [[], [], [5]], [], [], [[], []], [[5], []], [[], []], [[], []], [], [],

                       [[23, 0], [23, 1]], [[23, 0], [23, 0], [23, 0, 5]], [[23, 0, 5], [23, 0], [23, 42, 0], [23, 0], [23, 0, 3, -1, 0, 5], [23, 0]],
                       [[23, 0], [23, 0], [23, 0], [23, 0]], [[23, 0], [23, 0], [23, 0]], [[23, 0], [23, 0]], [[23, 0, 3], [23, 0, 3]], [[23, 0]],
                       [[23, 0, 5], [23, 0, 3], [23, 0], [23, 0], [23, 0, 3]], [[23, 0, 3], [23, 0, 3], [23, 0, 3], [23, 0, 3], [23, 0], [23, 0, 3]],
                       [[23, 0]], [], [[23, 0, 5], [23, 0], [23, 0, 3]], [], [[23, 0, 3], [23, 0, 4], [23, 0]],
                       [[23, 0], [23, 0, 4]], [[23, 0, 4], [23, 0, 4], [23, 0, 4, 5], [23, 0, 4, 5]],
                       [[23, 0], [23, 0, 3], [23, 0, 3], [23, 0, 42], [23, 0], [23, 0], [23, 0, 3], [23, 0, 3], [23, 0]],
                       [[23, 0], [23, 0, 3, -1, 23, 0, 5], [23, 0], [23, 0, 4, -1, 23, 0, 5], [23, 0, 4]], [[23, 0, 3], [23, 0]], [[23, 0, 4]],
                       [[23, 0, 5], [23, 0], [23, 0], [23, 0, 5], [23, 0]], [[23, 0, 3], [23, 0]], [[23, 0], [23, 0]], [[23, 0, 3], [23, 0]],
                       [[23, 0, 3], [23, 0, 3]], [[23, 0]], [[23, 0, 5]],

                       [[], [], [], [], [], []], [], [[], []], [[], []], [[15], [15], [], [15], [15]], [[]], [[]], [[], []], [[], [], [], [], [], []],
                       [[]], [[]], [[]], [[]], [[], [5]], [], [[14]], [], [[14], [14]], [[14], [14]], [[14], [14]], [[14], [14]], [[], []], [[]], [[], []], [[]],
                       [], [], [[]], [], [], [], [], [[], [6, 7, 8, 12, 13], []], [[], [], [], []], [[], []], [[], []], [[]], [[], []], [[], []], [[]],
                       [[6, 7, 8, 12, 13], [6, 7, 8, 12, 13]], [], [[], []], [[], []], [[]], [[], [], [], [5]], [[], []], [[], []], [[], [], []],
                       [[], []], [[], []], [[]], [[]], [[], [], []], [[], []], [[], []], [[0], [], []], [[], []], [[], [], [], [], [], []], [[], [], []],
                       [[], [], []], [[], []], [[], []], [[], []], [[], []], [[], [], [], []], [[], []], [[], []], [[], [9]], [[], [9]], [], [], [], [],
                       [], [], [], [], [], []]

        #To be utilized: dream world rooms attached to their overworld room, with info of what exits can access it. The first entry is always the entrance
        #(if a room has multiple dream worlds, it's stored with the first byte being which dream world, and the last 3 being the room)
        dream_access = [[0x001, [0x02C], [[0], [1], [2], [3], [5], [6]]], [0x003, [0x030], [0]], [0x004, [0x19A, 0x09D], [3]], [0x008, [0x199, 0x032], [[0, 0, 4, 5]]],
                        [0x00B, [0x01E, 0x01F, 0x020, 0x021, 0x022, 0x023, 0x024, 0x025, 0x026, 0x027, 0x028, 0x029, 0x02A, 0x02B, 0x02D, 0x02E, 0x02F], [[0], [1, 40]]],
                        [0x012, [0x0B1, 0x13C, 0x13D, 0x13E], [[0], [1]]], [0x013, [0x0EE], [[0], [1], [2], [3]]], [0x0019, [0x0B5], [[1], [2]]], [0x1019, [0x0EC], [[1], [2]]],
                        [0x035, [0x12E, 0x12F], [[0, 2], [1, 2, 5], [4, 2], [5, 2], [7, 2]]], [0x036, [0x130], [[0], [1, 5], [2, 5], [3, 5], [4], [5, 5], [6, 5]]],
                        [0x038, [0x17E], [[0, 5], [2, 5]]], [0x039, [0x12D], [[0, 0], [1, 0]]],
                        [0x003A, [0x0D2, 0x0D3, 0x0D4, 0x0D5, 0x0D6, 0x161, 0x162, 0x163, 0x164, 0x165, 0x166, 0x167, 0x168, 0x169, 0x16A, 0x16B, 0x16C, 0x16D, 0x16E,
                                  0x16F, 0x170, 0x171, 0x172, 0x1C9, 0x1CA], [[0, 5], [1], [2, 0, 3], [3], [4, 0]]], [0x103A, [0x17F, 0x180, 0x181], [[4]]],
                        [0x03B, [0x173, 0x174, 0x175, 0x176, 0x177], [[0], [1], [2]]], [0x048, [0x182], [[0, 3, 5]]],
                        [0x04C, [0x17B, 0x17C, 0x17D], [[0, 0, 4], [1]]], [0x04F, [0x178, 0x179, 0x17A], [[0, 0, 4], [1]]],
                        [0x05D, [0x0EB], [[0, 5], [1, 5], [2]]], [0x060, [0x0ED], [[0], [1]]], [0x061, [0x292, 0x0EF], [[0, 5], [1]]],

                        [0x067, [0x208], [[0, 5], [1, 5], [2, 5]]], [0x0068, [0x13F, 0x1E7], [[0], [1, 5], [2, 5], [3, 5], [4, 5], [5, 5]]],
                        [0x1068, [0x1E8], [[0, 5], [1, 3, -1, 5], [2, 3, -1, 5], [3, 3, -1, 5], [4], [5, 3, -1, 5]]],
                        [0x006A, [0x208], [[0], [1], [2]]], [0x106A, [0x20E], [0], [1], [2]], [0x06D, [0x208], [[0, 3, -1, 5]]],
                        [0x06E, [0x209, 0x20A], [[0, 5], [1, 3, 5], [4, 3, 5]]], [0x070, [0x208], [[0]]], [0x072, [0x20C, 0x20D], [[0, 3, 5], [1, 3], [2, 3]]],
                        [0x076, [0x250, 0x290], [[0, 4], [1, 4], [2, 4, 5], [3, 4, 5]]], [0x0077, [0x1E9, 0x1EA, 0x1EB], [[0], [3], [5]]],
                        [0x1077, [0x1EC, 0x1ED], [[0], [3], [5]]], [0x07F, [0x1EE, 0x1EF, 0x1F0, 0x1F1, 0x1F2, 0x1F3, 0x1F4, 0x1F5, 0x1F6, 0x1F7, 0x1F8, 0x1F9, 0x1FA,
                                                                            0x1FB, 0x1FC, 0x1FD, 0x1FE, 0x1FF, 0x200, 0x201, 0x202, 0x204], [[0, 3, -1, 5], [1, 3, -1, 5]]],

                        [0x097, [0x0A2, 0x0A3, 0x0A4, 0x0A5, 0x0A6, 0x0A7, 0x0A8, 0x0A9, 0x0AA, 0x0F4, 0x0F5, 0x0F6, 0x0F7, 0x0F8, 0x0F9, 0x0FA], [[0], [1]]]]

        #To be utilized: a blacklist of what triggers can't be accessed if another is activated
        # -1: "Don't go from this trigger if you're in this room, and it hasn't been activated"
        # -2: "Only disable if glitches aren't enabled"
        # -3: "Finish connecting until nothing can connect, then add the specified key item or make the condition possible*"
        # Conditions:
        #  40: Rocks have been cleared in Mushrise Park
        #  41: All Ultibed parts have been collected
        #  42: Required Pi'illo Folk have been saved
        #*If the condition requires key items that aren't in the pool, change the entrance
        exit_blacklist = [[0x001, -1, [[4, 7], [4, 7], [4, 7], [4, 7], [0, 1, 2, 3, 5, 6], [4, 7], [4, 7], [0, 1, 2, 3, 5, 6]]],
                          [0x004, -1, [[2, 3], [2, 3], [3], [0, 1, 2]]], [0x006, -3, [[2], [2], [0, 1, 3], [2]], 16],
                          [0x007, -1, [[2], [2], [], [2], [2], [2], [2]]], [0x009, -1, [[3], [3], [3], [], [3]]],
                          [0x00B, -3, [[1], [0]], 40], [0x011, -1, [[], [0]]], [0x012, -3, [[1], [0]], 17],
                          [0x034, -1, [[1, 3, 4, 6, 7, 8], [0, 2, 5], [1, 3, 4, 6, 7, 8], [0, 2, 5], [0, 2, 5], [1, 3, 4, 6, 7, 8], [0, 2, 5], [0, 2, 5], [0, 2, 5]]],
                          [0x035, -1, [[2, 3, 6], [2, 3, 6], [0, 1, 4, 5, 6, 7], [0, 1, 4, 5, 6, 7], [2, 3, 6], [2, 3, 6], [0, 1, 2, 3, 4, 5, 7], [2, 3, 6]]],
                          [0x036, -1, [[1, 2, 3, 4, 5, 6], [0, 4], [0, 4], [0, 4], [1, 2, 3, 5, 6], [0, 4], [0, 4]]], [0x038, -1, [[1], [0, 2], [1]]],
                          [0x03A, -1, [[2, 4], [2, 4], [0, 1, 3, 4], [2, 4], [0, 1, 2, 3]]], [0x03C, -1, [[1], [0]]], [0x03F, -1, [[1, 2], [0, 2], [0, 1]]],
                          [0x047, -1, [[1, 2, 3], [0, 2, 3], [0, 1], [0, 1]]], [0x048, -1, [[1, 2, 3], [0, 2], [0, 1, 3], [0, 2]]],
                          [0x04B, -1, [[1, 2], [0], [0]]], [0x04C, -1, [[1], [0]]], [0x04D, -1, [[1, 2, 3], [0, 2, 3, 4], [0, 1, 3, 4], [1, 2], [1, 2]]],
                          [0x05A, -3, [[1], [0, 2], [1]], 15],

                          [0x06E, -1, [[2, 3], [2, 3], [0, 1, 4], [0, 1, 4], [2, 3]]], [0x06F, -1, [[3, 5], [3, 5], [3, 5], [], [3, 5], []]],
                          [0x077, -1, [[1, 2, 3, 6, 7, 8], [0, 2, 3, 4, 5, 7, 8], [0, 1, 3, 4, 5, 6, 8], [0, 1, 2, 4, 5, 6, 7], [1, 2, 3, 6, 7, 8],
                                       [1, 2, 3, 6, 7, 8], [0, 2, 3, 4, 5, 7, 8], [0, 1, 3, 4, 5, 6, 8], [0, 1, 2, 4, 5, 6, 7]]],
                          [0x078, -1, [[1, 2, 3, 4], [0], [0], [0], [0]]], [0x079, -1, [[], [0]]], [0x07B, -1, [2], [2], [0, 1, 3, 4], [2], [2]], [0x07C, -1, [[], [0]]],

                          [0x0A3, -1, [[2, 3], [2, 3], [0, 1], [0, 1]]], [0x0AF, -3, [[1], [0, 2, 3], [1], [1]], 18], [0x0B7, -1, [[1], [0, 2], [1]]],
                          [0x0BC, -1, [[1, 3, 4, 5], [0, 2], [1, 3, 4, 5], [0, 2], [0, 2], [0, 2]]], [0x0BE, -1, [[1], [0, 2], [1]]]]

        #How I'm going to do entrance randomization:
        #1) Sort the entrances into 2 arrays: One for entrances that are accessible, and ones that aren't
        #   - The arrays are 2D arrays, with the first axis being sorted by what type of exit it is
        #   - The second array in the accessible array contains the entrance ID (Explained how it's stored below),
        #   and the second an array containing both the entrance ID and the logic
        #   - The entrance IDs are stored as a 4-digit hex number, with the first digit being the entrance ID and the last 3 being the room ID
        #
        #2) Connect every possible entrance until either a stop command is triggered or 20-30 entrances have been done
        #   - Connections can only be made as follows: 0-1, 2-3/5, 3-2/4, 4-3/5, 5-2/4, 6-6, 7-8, 9-10, 11-12, 13-13
        #   - If there are no entrances left, it replaces a random room it's connected with with the least entrances an exit it can connect to with a new one that has multiple exits
        #
        #3) Connect remaining entrances in their rooms to eachother until none remain if it's a "stop" command, or only 1 if it timed out
        #   - If it can't reach either number, it calls in a new room based on the connections that are needed
        #
        #4) Either temporarily add the key item to the item pool if it's a "stop" command, or add a random key item if it timed out
        #
        #5) Add any room that's now available into the room pool
        #
        #6) Update the logic for every subsequent room to require the key items currently in the pool
        #
        #7) Repeat steps 2-6 until every entrance has been selected

        #for item in range(len(item_logic)):
        #    if item_locals[item][6] == item_logic[item][0][0]:
        #        print(item_locals[item][6])

        #Creates an item pool for the key items
        key_item_pool = [[0xE002, 0], [0xE002, 1], [0xE002, 2], [0xE004, 3], [0xE004, 4], [0xE005, 5], [0xE00A, 6], [0xE00D, 7],
                         [0xE00E, 8], [0xE00F, 9], [0xE010, 10], [0xE011, 11], [0xE012, 12], [0xE013, 13], [0xE075, 14], [0xC369, 15],
                         [0xCABF, 16], [0xE0A0, 17], [0xC343, 18], [0xC344, 19], [0xC345, 20], [0xC346, 21], [0xC960, 22], [0xC3B9, 23],
                         [0xB0F7, 24], [0xB0F7, 25], [0xB0F7, 26], [0xC47E, 27]]

        #Checked array for the key items
        key_item_check = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]

        #Creates an item pool with the attack pieces
        attack_piece_pool = [[[0x01, 0xB030], [0x02, 0xB030], [0x04, 0xB030], [0x08, 0xB030], [0x10, 0xB030],
                              [0x01, 0xB031], [0x02, 0xB031], [0x04, 0xB031], [0x08, 0xB031], [0x10, 0xB031]],
                             [[0x01, 0xB059], [0x02, 0xB059], [0x04, 0xB059], [0x08, 0xB059], [0x10, 0xB059],
                              [0x01, 0xB05A], [0x02, 0xB05A], [0x04, 0xB05A], [0x08, 0xB05A], [0x10, 0xB05A]],
                             [[0x01, 0xB037], [0x02, 0xB037], [0x04, 0xB037], [0x08, 0xB037], [0x10, 0xB037],
                              [0x01, 0xB038], [0x02, 0xB038], [0x04, 0xB038], [0x08, 0xB038], [0x10, 0xB038]],
                             [[0x01, 0xB03B], [0x02, 0xB03B], [0x04, 0xB03B], [0x08, 0xB03B], [0x10, 0xB03B],
                              [0x01, 0xB03C], [0x02, 0xB03C], [0x04, 0xB03C], [0x08, 0xB03C], [0x10, 0xB03C]],
                             [[0x01, 0xB032], [0x02, 0xB032], [0x04, 0xB032], [0x08, 0xB032], [0x10, 0xB032],
                              [0x01, 0xB033], [0x02, 0xB033], [0x04, 0xB033], [0x08, 0xB033], [0x10, 0xB033]],
                             [[0x01, 0xB041], [0x02, 0xB041], [0x04, 0xB041], [0x08, 0xB041], [0x10, 0xB041],
                              [0x01, 0xB042], [0x02, 0xB042], [0x04, 0xB042], [0x08, 0xB042], [0x10, 0xB042]],
                             [[0x01, 0xB03D], [0x02, 0xB03D], [0x04, 0xB03D], [0x08, 0xB03D], [0x10, 0xB03D],
                              [0x01, 0xB03E], [0x02, 0xB03E], [0x04, 0xB03E], [0x08, 0xB03E], [0x10, 0xB03E]],
                             [[0x01, 0xB045], [0x02, 0xB045], [0x04, 0xB045], [0x08, 0xB045], [0x10, 0xB045],
                              [0x01, 0xB046], [0x02, 0xB046], [0x04, 0xB046], [0x08, 0xB046], [0x10, 0xB046]],
                             [[0x01, 0xB039], [0x02, 0xB039], [0x04, 0xB039], [0x08, 0xB039], [0x10, 0xB039],
                              [0x01, 0xB03A], [0x02, 0xB03A], [0x04, 0xB03A], [0x08, 0xB03A], [0x10, 0xB03A]],
                             [[0x01, 0xB047], [0x02, 0xB047], [0x04, 0xB047], [0x08, 0xB047], [0x10, 0xB047],
                              [0x01, 0xB048], [0x02, 0xB048], [0x04, 0xB048], [0x08, 0xB048], [0x10, 0xB048]],
                             [[0x01, 0xB05B], [0x02, 0xB05B], [0x04, 0xB05B], [0x08, 0xB05B], [0x10, 0xB05B],
                              [0x01, 0xB05C], [0x02, 0xB05C], [0x04, 0xB05C], [0x08, 0xB05C], [0x10, 0xB05C]],
                             [[0x01, 0xB043], [0x02, 0xB043], [0x04, 0xB043], [0x08, 0xB043], [0x10, 0xB043],
                              [0x01, 0xB044], [0x02, 0xB044], [0x04, 0xB044], [0x08, 0xB044], [0x10, 0xB044]],
                             [[0x01, 0xB049], [0x02, 0xB049], [0x04, 0xB049], [0x08, 0xB049], [0x10, 0xB049],
                              [0x01, 0xB04A], [0x02, 0xB04A], [0x04, 0xB04A], [0x08, 0xB04A], [0x10, 0xB04A]],
                             [[0x01, 0xB03F], [0x02, 0xB03F], [0x04, 0xB03F], [0x08, 0xB03F], [0x10, 0xB03F],
                              [0x01, 0xB040], [0x02, 0xB040], [0x04, 0xB040], [0x08, 0xB040], [0x10, 0xB040]],
                             [[0x01, 0xB04B], [0x02, 0xB04B], [0x04, 0xB04B], [0x08, 0xB04B], [0x10, 0xB04B],
                              [0x01, 0xB04C], [0x02, 0xB04C], [0x04, 0xB04C], [0x08, 0xB04C], [0x10, 0xB04C]],]

        #Logic for the key items, so they only spawn when others are already in the pool
        logic_logic = [[0, 15], [1, 0], [2, 1], [3, 15, -1, 1], [4, 15, 16, 3, -1, 23, 1, 3, -1, 1, 3, 5], [5, 14, -1, 15], [6, 15], [7, 6], [8, 6], [9, 6],
                       [10, 15, 3, 6, -1, 23, 1, 3, 6], [11, 10], [12, 7], [13, 7], [14], [15], [16, 15], [17, 15, 16], [18, 17], [19, 17], [20, 17], [21, 17],
                       [22, 15], [23, 1], [24, 1, 3, 6], [25, 24], [26, 25], [27, 15, 1]]
        pbar.update(2)

        #Removes items from the key item pool depending on the settings
        for l in range(len(settings)):
            if settings[0][l] == 1.0:
                s = find_index_in_2d_list(key_item_pool, l)
                key_item_check[s[0]] += 1
                del key_item_pool[s[0]]
                #del logic_logic[s[0]]
                pbar.update(1)

    with tqdm(total=len(item_pool)+len(key_item_pool)+(len(attack_piece_pool[0])*len(attack_piece_pool)), desc="Randomizing...") as rbar:
        new_item_locals = []
        new_item_logic = []

        #[Trigger type, Room ID, X Pos, Y Pos, Z Pos, Collectible/Cutscene ID, Ability/Item/Key Item/Attack(, Attack Piece ID/Coin Amount/Item Cutscene/Hammer or Spin Cutscene, Coin Cutscene)]
        repack_data = []
        i = 0
        itemcut = 0
        attackcut = 0
        key_item_pool_checked = []
        new_enemy_stats = []
        attack = random.randint(0, len(attack_piece_pool) - 1)
        while attack == 4 or attack == 8 or attack == 9 or attack == 12 or attack == 13 or attack == 14:
            attack = random.randint(0, len(attack_piece_pool) - 1)
        offset = 0
        key_order = []

        while len(item_pool) + len(key_item_pool) + len(attack_piece_pool) > 0:
            prevlen = len(item_pool) + len(key_item_pool) + len(attack_piece_pool)
            while i < len(item_logic):
                if len(item_logic) > 0:
                    spot_is_available = False
                    try:
                        for k in range(len(item_logic[i])):
                            #print(hex(item_locals[i][0]))
                            #print(item_logic[i])
                            #print(is_available(item_logic[i][k], key_item_check, settings))
                            if is_available(item_logic[i][k], key_item_check, settings) and is_available(room_logic[item_locals[i][0]][k], key_item_check, settings):
                                spot_is_available = True
                    except TypeError:
                        spot_is_available = is_available(item_logic[i], key_item_check, settings)
                    if spot_is_available:
                        rand_array = random.randint(0, 3)
                        if rand_array < 3 and len(item_pool) > 0:
                            #Code for randomizing blocks and bean spots with just eachother
                            nitem = random.randint(0, len(item_pool) - 1)
                            spot_type = item_locals[i][2]
                            spot_type &= 0xE30E
                            spot_type += item_pool[nitem][0] & 0x1CF0
                            if spot_type % 0x10 == 2:
                                spot_type &= 0xFF0F
                                spot_type += 0x10
                            #print(hex(spot_type))
                            narray = [item_locals[i][0], item_locals[i][1], spot_type, item_pool[nitem][1],
                                        item_locals[i][3], item_locals[i][4], item_locals[i][5], item_locals[i][6]]
                            new_item_locals.append(narray)
                            new_item_logic.append(item_logic[i])
                            del item_pool[nitem]
                            del item_locals[i]
                            del item_logic[i]
                        elif len(attack_piece_pool) > 0:
                            #Code for putting attacks in blocks and bean spots
                            if len(attack_piece_pool[attack]) == 0:
                                del attack_piece_pool[attack]
                                if len(attack_piece_pool) > 0:
                                    attack = random.randint(0, len(attack_piece_pool) - 1)
                            if len(attack_piece_pool) > 0:
                                nitem = random.randint(0, len(attack_piece_pool[attack]) - 1)
                                narray = [item_locals[i][0], item_locals[i][1], item_locals[i][2], 0,
                                        item_locals[i][3], item_locals[i][4], item_locals[i][5], item_locals[i][6]]
                                new_item_locals.append(narray)
                                new_item_logic.append(item_logic[i])
                                spottype = get_spot_type(item_locals[i])
                                if item_locals[i][2] % 0x10 == 2:
                                    repack_data.append([spottype, item_locals[i][0], item_locals[i][3], item_locals[i][4], item_locals[i][5], item_locals[i][6] + 0xD000,
                                                        attack_piece_pool[attack][nitem][1], attack_piece_pool[attack][nitem][0], 0xCD20 + attackcut])
                                    attackcut += 1
                                else:
                                    repack_data.append([spottype, item_locals[i][0], item_locals[i][3], item_locals[i][4], item_locals[i][5], item_locals[i][6] + 0xD000,
                                                        attack_piece_pool[attack][nitem][1], attack_piece_pool[attack][nitem][0]])
                                del attack_piece_pool[attack][nitem]
                                del item_locals[i]
                                del item_logic[i]
                        i -= 1
                        rbar.update(1)
                    i += 1
            #Checks if more items can be randomized
            if prevlen <= len(item_pool) + len(key_item_pool) + len(attack_piece_pool) and len(key_item_pool) > 0 and len(new_item_locals) > 0:
                if len(key_item_pool) > 0:
                    if offset == len(new_item_locals):
                        if len(new_item_locals) >= 50:
                            offset -= 50
                        else:
                            offset -= 10
                    can_key = False
                    for i in range(len(new_item_locals) - offset):
                        if new_item_locals[i+offset][3] != 0 and find_index_in_2d_list(repack_data, new_item_locals[i+offset][7] + 0xD000) is None:
                            can_key = True
                    if can_key:
                        old_spot = random.randint(offset, len(new_item_locals) - 1)
                        while new_item_locals[old_spot][3] == 0 or find_index_in_2d_list(repack_data, new_item_locals[old_spot][7] + 0xD000) is not None:
                            old_spot = random.randint(offset, len(new_item_locals) - 1)
                        item_locals.append([new_item_locals[old_spot][0], new_item_locals[old_spot][1],
                                            new_item_locals[old_spot][2], new_item_locals[old_spot][4],
                                            new_item_locals[old_spot][5], new_item_locals[old_spot][6],
                                            new_item_locals[old_spot][7]])
                        item_pool.append([new_item_locals[old_spot][2], new_item_locals[old_spot][3]])
                        #del new_item_locals[old_spot]
                        i = -1

                        # Code for putting key items in blocks and bean spots
                        nitem = random.randint(0, len(key_item_pool) - 1)
                        while not is_available(logic_logic[key_item_pool[nitem][1]], key_item_check, settings):
                            nitem = random.randint(0, len(key_item_pool) - 1)
                        spottype = get_spot_type(item_locals[i])
                        if (key_item_pool[nitem][0] < 0xE000 or key_item_pool[nitem][0] > 0xE004) and key_item_pool[nitem][0] != 0xB0F7:
                            repack_data.append(
                                [spottype, item_locals[i][0], item_locals[i][3], item_locals[i][4], item_locals[i][5],
                                 item_locals[i][6] + 0xD000, key_item_pool[nitem][0]])
                        elif key_item_pool[nitem][0] != 0xE000:
                            repack_data.append(
                                [spottype, item_locals[i][0], item_locals[i][3], item_locals[i][4], item_locals[i][5],
                                 item_locals[i][6] + 0xD000, key_item_pool[nitem][0], 0xCDC0 + itemcut])
                            itemcut += 1
                        else:
                            repack_data.append(
                                [spottype, item_locals[i][0], item_locals[i][3], item_locals[i][4], item_locals[i][5],
                                 item_locals[i][6] + 0xD000, key_item_pool[nitem][0] + key_item_pool[nitem][1],
                                 0xCDC0 + itemcut])
                            itemcut += 1
                        key_item_check[key_item_pool[nitem][1]] += 1
                        key_item_pool_checked.append(key_item_pool[nitem])
                        key_order.append(key_item_pool[nitem][1])
                        del key_item_pool[nitem]
                        #del logic_logic[nitem]
                        del item_locals[i]
                        #del item_logic[i]
                        #del new_item_locals[old_spot]
                        offset = len(new_item_locals)
                    else:
                        attack_spot = find_index_in_2d_list(repack_data, new_item_locals[0][7] + 0xD000)
                        while attack_spot is None:
                            r = random.randint(0, len(new_item_locals)-1)
                            attack_spot = find_index_in_2d_list(repack_data, new_item_locals[r][7] + 0xD000)
                        if attack_spot is not None:
                            if len(repack_data[attack_spot[0]]) > 7 and repack_data[attack_spot[0]][6] < 0xC000:
                                attack_piece_pool.append([[repack_data[attack_spot[0]][7], repack_data[attack_spot[0]][6]]])
                            else:
                                key_spot = find_index_in_2d_list(key_item_pool_checked, repack_data[attack_spot[0]][6])
                                if key_spot is not None:
                                    key_item_pool.append(key_item_pool_checked[key_spot[0]])
                                    del key_item_pool_checked[key_spot[0]]
                                    key_item_check[key_item_pool[-1][1]] -= 1
                            del repack_data[attack_spot[0]]
                        else:
                            item_pool.append([new_item_locals[0][2], new_item_locals[0][3]])
                        item_locals.append([new_item_locals[0][0], new_item_locals[0][1], new_item_locals[0][2],
                                            new_item_locals[0][4], new_item_locals[0][5], new_item_locals[0][6],
                                            new_item_locals[0][7]])
                        item_logic.append([0])
                        del new_item_locals[0]
                        del new_item_logic[0]
            i = 0

            #Randomizes enemy stats
            while i < len(enemy_logic):
                if len(enemy_logic) > 0:
                    if is_available(enemy_logic[i], key_item_check, settings):
                        temp = enemy_stats_rand[i]
                        for n in range(len(enemy_stats_rand[0])-1):
                            enemy_stats_rand[i][n+1] = enemy_stats_rand[0][n+1]
                            for j in range(i-1):
                                enemy_stats_rand[j][n+1] = enemy_stats_rand[j+1][n+1]
                            if i > 0:
                                enemy_stats_rand[i-1][n+1] = temp[n+1]
                        new_enemy_stats.append(enemy_stats_rand[i])
                        if new_enemy_stats[-1][0] == 87:
                            new_enemy_stats[-1][5] //= 4
                            new_enemy_stats.append([88, new_enemy_stats[-1][1], new_enemy_stats[-1][2], new_enemy_stats[-1][3],
                                                    new_enemy_stats[-1][4], new_enemy_stats[-1][5], new_enemy_stats[-1][6],
                                                    new_enemy_stats[-1][7], new_enemy_stats[-1][8], new_enemy_stats[-1][9],
                                                    new_enemy_stats[-1][10], new_enemy_stats[-1][11], new_enemy_stats[-1][12]])
                            new_enemy_stats.append([89, new_enemy_stats[-1][1], new_enemy_stats[-1][2], new_enemy_stats[-1][3],
                                                    new_enemy_stats[-1][4], new_enemy_stats[-1][5], new_enemy_stats[-1][6],
                                                    new_enemy_stats[-1][7], new_enemy_stats[-1][8], new_enemy_stats[-1][9],
                                                    new_enemy_stats[-1][10], new_enemy_stats[-1][11], new_enemy_stats[-1][12]])
                        elif (new_enemy_stats[-1][0] == 19 or new_enemy_stats[-1][0] == 33 or new_enemy_stats[-1][0] == 45 or new_enemy_stats[-1][0] == 47 or
                        new_enemy_stats[-1][0] == 49 or new_enemy_stats[-1][0] == 64 or new_enemy_stats[-1][0] == 72 or new_enemy_stats[-1][0] == 78 or
                        new_enemy_stats[-1][0] == 99 or new_enemy_stats[-1][0] == 112 or new_enemy_stats[-1][0] == 121 or new_enemy_stats[-1][0] == 123 or
                        new_enemy_stats[-1][0] == 124):
                            new_enemy_stats[-1][1] //= 2
                            new_enemy_stats[-1][5] //= 5

                        del enemy_stats_rand[i]
                        del enemy_logic[i]
                        i -= 1
                    i += 1
            i = 0
            while i < len(boss_logic):
                if len(boss_logic) > 0:
                    if is_available(boss_logic[i], key_item_check, settings):
                        temp = boss_stats_rand[i]
                        for n in range(len(boss_stats_rand[0])-1):
                            boss_stats_rand[i][n+1] = boss_stats_rand[0][n+1]
                            for j in range(i-1):
                                boss_stats_rand[j][n+1] = boss_stats_rand[j+1][n+1]
                            if i > 0:
                                boss_stats_rand[i-1][n+1] = temp[n+1]
                        new_enemy_stats.append(boss_stats_rand[i])
                        if new_enemy_stats[-1][0] == 107:
                            for j in range(5):
                                new_enemy_stats[-1][j+1] //= 2
                            new_enemy_stats.append([108, new_enemy_stats[-1][1], new_enemy_stats[-1][2], new_enemy_stats[-1][3],
                                                    new_enemy_stats[-1][4], new_enemy_stats[-1][5], new_enemy_stats[-1][6],
                                                    new_enemy_stats[-1][7], new_enemy_stats[-1][8], new_enemy_stats[-1][9],
                                                    new_enemy_stats[-1][10], new_enemy_stats[-1][11], new_enemy_stats[-1][12]])
                        elif new_enemy_stats[-1][0] == 17:
                            for j in range(5):
                                new_enemy_stats[-1][j+1] //= 4
                        del boss_stats_rand[i]
                        del boss_logic[i]
                        i -= 1
                    i += 1
            i = 0
            while i < len(dream_boss_logic):
                if len(dream_boss_logic) > 0:
                    if is_available(dream_boss_logic[i], key_item_check, settings):
                        temp = dream_boss_stats_rand[i]
                        for n in range(len(dream_boss_stats_rand[0])-1):
                            dream_boss_stats_rand[i][n+1] = dream_boss_stats_rand[0][n+1]
                            for j in range(i-1):
                                dream_boss_stats_rand[j][n+1] = dream_boss_stats_rand[j+1][n+1]
                            if i > 0:
                                dream_boss_stats_rand[i-1][n+1] = temp[n+1]
                        new_enemy_stats.append(dream_boss_stats_rand[i])
                        del dream_boss_stats_rand[i]
                        del dream_boss_logic[i]
                        i -= 1
                    i += 1
            i = 0
            while i < len(filler_logic):
                if len(filler_logic) > 0:
                    if is_available(filler_logic[i], key_item_check, settings):
                        temp = filler_stats_rand[i]
                        for n in range(len(filler_stats_rand[0])-1):
                            filler_stats_rand[i][n+1] = filler_stats_rand[0][n+1]
                            for j in range(i-1):
                                filler_stats_rand[j][n+1] = filler_stats_rand[j+1][n+1]
                            if i > 0:
                                filler_stats_rand[i-1][n+1] = temp[n+1]
                        new_enemy_stats.append(filler_stats_rand[i])
                        del filler_stats_rand[i]
                        del filler_logic[i]
                        i -= 1
                    i += 1
            i = 0

            #Swaps a coin with whatever is left in the item pool
            if (len(item_pool) > 0 or len(attack_piece_pool) > 0) and len(item_logic) == 0:
                item = 0
                while new_item_locals[item][3] != 0 or find_index_in_2d_list(repack_data, new_item_locals[item][7] + 0xD000) is not None:
                    item += 1
                    if item == len(new_item_locals):
                        item -= 1
                        break
                item_locals.append([new_item_locals[item][0], new_item_locals[item][1], new_item_locals[item][2], new_item_locals[item][4], new_item_locals[item][5], new_item_locals[item][6], new_item_locals[item][7]])
                item_logic.append([0])
                del new_item_locals[item]

    #hammer_local = find_index_in_2d_list(repack_data, 0xC369)
    #print(repack_data[hammer_local[0]])

    print("Generating spoiler log...")
    #Names for all the locations
    item_local_names = ["Entrance", "Hammer Room", "West of Hammer Room", "River Rocks",
                        "Upper Attack Piece Room", "Lower Attack Piece Room", "Gate Room",
                        "Fountain Room", "Lower Ultibed Rock Room", "Right of Hammer Room", "Right Ultibed Rock Room", "Maintenance Hut", "Many Enemy Room",
                        "Early Hammer Room", "Outside", "Mushrise Treeboard Room", "Western Track Room",
                        "Drill Machine Tutorial Room", "Mini/Mole Mario Tutorial Room", "Middle Track Room",
                        "Upper Track Room", "Early First Track Room", "Early Main Track Room", "Mini Mario Room",
                        "Underground", "Southeastern Track Room", "East of Dreamstone", "West of Pi'illo Castle",
                        "In Front of Pi'illo Castle", "Test Room", "Eldream Room 1",
                        "Eldream Room 2", "Eldream Room 3", "Eldream Room 4",
                        "Eldream Room 5", "Eldream Item Detour Room", "Eldream Fountain Room",
                        "Eldream Room 7", "Eldream Bouncy Flower Room", "Eldream Pipe to Sewers",
                        "Eldream Sewers", "Eldream Throw Boss Brickle", "Eldream Buildup to Final Attack Piece", "Eldream Final Attack Piece",
                        "Pi'illo to Hammers", "Eldream Clouds 1", "Eldream Clouds 2", "Eldream Confront Bunny", "Pi'illo in River Room",
                        "Pi'illo Room 2", "Ultibed Pi'illo Room 2", "Buildup 2", "Entrance", "Tour Center Location", "Shopping District", "Early Room 3",
                        "Outside Rose Broquet", "Southern Panel Room", "Dream Egg Dreampoint Room", "Crab Minigame", "Entrance Right Room", "Entrance Middle Room",
                        "Entrance Left Room", "Bedsmith Room First Floor", "Kylie Koopa's Photo Booth", "Tour Center", "Item Shop", "Badge Shop", "Gear Shop",
                        "Rose Broquet Shop", "Broque Madame's Spot", "Ultibed Cave Entrance", "Ultibed Cave Middle Room", "Driftwood Jelly Sheets Resting Spot",
                        "Entrance", "Guard Room", "Seabelle Dreampoint Room", "Middle Warp Pipe Room", "Unused Room", "Seabury Dreampoint Room",
                        "Glitched Room 1", "Wakeport?", "Glitched Room 2", "Glitched Room 3", "Glitched Room 4", "Glitched Room 5",
                        "Toad Crash Room", "Removed Second Check-X Quiz Room", "Second Toad Crash Room", "Gromba Battle Arena", "Bridge Room",
                        "East of Pi'illo Castle", "Behind Pi'illo Castle", "Badge Room", "Mushrise Park Minimap", "Weak Trembling Fortress",
                        "East Track Room", "Ultibed Cliff", "Desert Entrance", "Check-X Quiz", "Starting Room", "Test Room 2", "Entrance", "Rock Room",
                        "First Mega Pi'illo Room", "Weird Lift Thingy Room", "2 Pi'illos in Rocks Room", "Weird Lift Thingy Second Room",
                        "Spin Jump Tutorial Room", "Southeast Deviation", "Southwest Spin Jump Gaps", "Spin Jump Whirlwind Tutorial Room", "West Deviation",
                        "Removed Room", "Peak Before Big Jump", "Big Fall", "Pajamaja Base Warp Pipe Room", "Side Drill Tutorial Room", "Large Room Before Snow",
                        "Second Mega Pi'illo Room", "Path to Right Massif Ice Room", "Right Massif Ice Room", "Bros Wear Room", "Path to Left Massif Ice Room", "Left Massif Ice Room",
                        "Mammoshka Arena", "Peak", "Frozen Dream World", "Peak Pipe", "Ball Hop Cave", "Lobby", "Early Minimap", "Golden Pipe Room", "Bedroom Entrance",
                        "Platform Area", "Staff Break Room", "Shop", "Hotel Entrance", "Hotel Lobby", "Hotel Left Room", "Hotel Topleft Room", "Hotel Top Room", "Hotel Topright Room",
                        "Ball Hop Room Entrance", "Ride to Underground", "Underground Entrance", "Removed Minigame", "Gromba Circle", "Smoldergeist Arena",
                        "Stairs to Smoldergeist", "Underground Save Room", "Collection Room", "Battle Ring", "Restaurant District", "Hotel Balcony", "North Balcony", "Minimap 1",
                        "Camera Block Pi'illo Room 2", "Black Screen Crash", "Early Mushrise Minimap 2", "Sick Map Warper", "Swimming", "Dreambert Entrance", "Dreambert Door Tutorial Room",
                        "Dreambert Many Door Room", "Dreambert First Dreamy Enemy Room", "Dreambert Broque Shop", "Dreambert Many Enemy Room", "Dreambert Dreamy Mario Arena",
                        "Dreambert Revival Room", "Entrance to Dream's Deep", "Unused", "First Fling Pi'illo Entrance", "First Fling Pi'illo Room 2", "First Fling Pi'illo Room 3",
                        "Britta's Meeting Room", "Eldream Topright Detour", "First Dozite Room 1", "First Track Dozite Room 1", "First Track Dozite Room 2", "First Track Dozite Room 3",
                        "Second Track Dozite", "Third Track Dozite", "Final Track Dozite Room 1", "Final Track Dozite Room 2", "Final Track Dozite Room 3", "Dream Stone Entrance",
                        "Dream Stone First Drill Room", "Dream Stone Main Room", "Dream Stone Big Drill Room", "Dream Stone After Big Drill Room", "Dream Stone First Luiginary Room",
                        "Dream Stone Switch Puzzle Room 1", "Dream Stone After Switch Puzzle 1", "Dream Stone Many Enemy Room", "Dream Stone Britta Shop", "Dream Stone After 2nd Spirit Talk",
                        "Dream Stone Spinning Room", "Dream Stone Ground Pound Room", "Dream Stone Before Last Attack Pieces", "Beta Room 1", "Beta Room 2",
                        "Unused Northwest Bedroom 1", "Unused Northwest Bedroom 2", "Unused Northeast Bedroom", "Early Underground Gromba Circle", "Early Smoldergeist",
                        "Beta Room 3", "Beta Room 4", "Beta Room 5", "Dream Egg Dream Entrance", "Dream Egg Dream First Egg Departure", "Dream Egg Dream First Egg Entrance",
                        "Dream Egg Dream First Egg Room 1", "Dream Egg Dream First Egg Room 2", "Glitched Room", "Second Throw Pi'illo Room 1", "Second Throw Pi'illo Room 2",
                        "Second Throw Pi'illo Room 3", "First Pi'illo Room 1", "First Pi'illo Room 2", "First Pi'illo Room 3", "First Pi'illo Room 4", "Unused 1", "Unused 2",
                        "Unused 3", "Unused 4", "Unused 5", "Dream Stone Dream Last Attack Pieces", "Dream Stone Dream After Last Attack Pieces", "Dream Stone Dream Zigzag",
                        "Mattress Dream Entrance", "Mattress Dream Bottom Room", "Mattress Dream Top Room", "Mattress Dream Right Room", "Badge Room Pi'illo",
                        "Southeast Track Room Pi'illo", "Eastern Track Room Pi'illo", "Main Track Room Pi'illo", "First Ultibed Pi'illo Room 2", "Second Ultibed Pi'illo Room 2",
                        "Dream's Deep Entrance", "Dream's Deep Hallway Warps", "Bowser and Antasma Arena", "Dream's Deep Entrance", "Learn Luiginary Ball Room",
                        "Learn Luiginary Hookshot Room", "Dream's Deep Room 4", "Dream's Deep Room 5", "Dream's Deep Room 6", "Learn Luiginary Throw Room",
                        "Zeekeeper Cloud Ride", "Zeekeeper Before Boss", "Zeekeeper Arena", "Glitched 00 Room 1", "Glitched 00 Room 2", "Summit Ball Hop Gate", "End of Track Room",
                        "Dreamstone Room", "Mattress Underground 1", "Mattress Underground 2", "Dreamy Dozing Sands Unused", "Massif Entrance", "Glitched 00 Room 3",
                        "Buildup 1", "Wiggler and Popple Arena", "Bedsmith Basement", "Rock Frame Room", "Ball Hop Tutorial Room", "Massif Lobby", "Massif Hooraw Main Room",
                        "Massif Topright of Main", "Massif Clock Tutorial", "Massif After Clock Tutorial", "Massif Heavy Zest Room 1", "Massif Heavy Zest Room 2", "Massif Heavy Zest Room 3",
                        "Massif Heavy Zest Arena", "Massif Thunder Sass Room 1", "Massif Thunder Sass Room 2", "Massif Thunder Sass Room 3", "Massif Thunder Sass Arena",
                        "Massif Topleft of Main Room 2", "Massif Topleft of Main Room 1", "Massif Sorrow Fist Room 1", "Massif Sorrow Fist Room 2", "Massif Sorrow Fist Room 3",
                        "Massif Sorrow Fist Arena", "Massif Beef Cloud Before Arena", "Massif Beef Cloud Arena", "Massif Window Room", "Bedsmith Entrance", "Bedsmith Room 2", "Bedsmith Room 3",
                        "Bedsmith Room 3 Detour", "Bedsmith Room 4", "Bedsmith Room 4 Detour", "Bedsmith Room 5", "Bedsmith Room 6", "Bedsmith Upper Umbrella Puzzle", "Bedsmith Earthwake Arena",
                        "South Room Pi'illo", "After Puzzle Pi'illo Room 1", "After Puzzle Pi'illo Room 2", "Eastern Pi'illo", "Left of Wiggler Pi'illo Entrance", "Left of Wiggler Pi'illo Main Room",
                        "Right of Wiggler Pi'illo Entrance", "Right of Wiggler Pi'illo Main Room", "Disco Blocks", "Ball Hop Room", "Jump Tutorial", "Path to Ultibed Room 2",
                        "Under Blimport Bridge Falling Point", "Under Blimport Bridge First Pi'illo Room", "Under Blimport Bridge Second Fling Pi'illo Room", "First Dozite Wall of Enemies",
                        "First Dozite Learn Luiginary Stack", "First Dozite Final Puzzle", "Base Right Mega Pi'illo Entrance", "Entrance Before Castle Falls", "Entrance", "Pipe Room", "Kamek 1 Left Room",
                        "Kamek 1 Lobby", "Kamek 1 Right Room", "Kamek 1 Top Left", "Kamek 1 North of Lobby", "Kamek 1 Top Right", "First Elevator Lower Room", "First Elevator Upper Room",
                        "First Bomb Room", "Kamek 2 Left Room", "Kamek 2 Lobby", "Kamek 2 Right Room", "Above Kamek 2", "West of Kamek 3 Lobby", "Kamek 3 Lobby", "Kamek 3 Right Room",
                        "Kamek 3 Western Bomb Room", "Kamek 3 Middle Bomb Room", "Kamek 3 Eastern Bomb Room", "Elevator to Final Puzzle", "Final Puzzle Lobby", "Left Balcony", "Right Balcony",
                        "Bottom Left of Final Puzzle Room", "Bottom Right of Final Puzzle Room", "Front Balcony", "Bowser's Dream Room", "Antasma Battle Arena", "Spiral to Final Boss", "Finall Bowser Arena",
                        "Dream Egg Dream First Egg Room 3", "Dream Egg Dream First Egg Puzzle Room", "Dream Egg Dream Second Egg Lobby", "Dream Egg Dream Second Egg Room 1", "Dream Egg Dream Second Egg Room 2 Side Room",
                        "Dream Egg Dream Second Egg Room 4", "Dream Egg Dream Second Egg Room 5", "Dream Egg Dream Second Egg Puzzle Room", "Dream Egg Dream Third Egg Lobby", "Dream Egg Dream Third Egg Room 1",
                        "Dream Egg Dream Third Egg Room 3", "Dream Egg Dream First Egg Room 2 Side Room", "Dream Egg Dream Third Egg Puzzle Room", "Dream Egg Dream Third Egg Room 2", "Dream Egg Dream Shop Area",
                        "Dream Egg Dream Second Egg Entrance", "Dream Egg Dream Third Egg Entrance", "Dream Egg Dream Elite Trio Arena", "Seatoon Entrance", "Seatoon Inner Tube Intro",
                        "Seatoon Room 3", "Seatoon Room 4", "Seatoon Cutscene", "Seabury Entrance", "Seabury Puzzle", "Seabury Cutscene", "Seabelle Entrance", "Seabelle Puzzle", "Seabelle Cutscene",
                        "Rose Broquet Pi'illo", "Under Dream Egg Dream Pi'illo Path Room", "Under Dream Egg Dream Pi'illo Left Room", "Under Dream Egg Dream Pi'illo Right Room", "Ultibed Path Pi'illo",
                        "Entrance", "Woods Entrance", "Bedsmith Room", "Poison Water Puzzle 1", "Poison Water Puzzle 2", "Poison Water Side Drill Junction", "First Pi'illo Master Room", "Lower Elevator Room",
                        "Main Puzzle Tracks Area", "Bottom Right Track Room", "Bottom Right Pi'illo Master Room", "Middle Right Track Room", "Top Right Track Room", "Bottom Left Track Room",
                        "Middle Left Track Room", "Top Left Track Room Entrance", "Top Left Track Room Pi'illo", "Top Left Track Room Cave", "Room Before Pi'illodium", "Pi'illodium Arena",
                        "Collapsing Antasma Cutscene", "Crash", "Ultibed Pi'illo Entrance", "Left of Camera Block Pi'illo Entrance", "Entrance Pi'illo Entrance", "Dreamy Dozing Minimap", "Dreamy Dozing Minimap",
                        "Dreamy Dozing Minimap", "Dreamy Dozing Minimap", "Dreamy Dozing Minimap", "Dreamy Dozing Minimap", "Crash", "Crash", "Dreamy Dozing Minimap", "Dreamy Dozing Minimap", "Dreamy Dozing Minimap",
                        "Dreamy Dozing Minimap", "Dreamy Dozing Minimap", "Dreamy Dozing Minimap", "Crash", "Dreamy Wakeport Minimap", "Dreamy Wakeport Minimap", "Dreamy Wakeport Minimap", "Dreamy Wakeport Minimap",
                        "Dreamy Wakeport Minimap", "Dreamy Wakeport Minimap", "Crash", "Crash", "Crash", "Crash", "Dreamy Driftwood Shore Minimap", "Dreamy Driftwood Shore Minimap", "Dreamy Driftwood Shore Minimap",
                        "Dream's Deep?", "Crash", "Dreamy Mount Pajamaja", "Crash", "Crash", "Crash", "Crash", "Crash", "Crash", "Crash", "Crash", "Minimap 1", "Minimap 2", "Minimap 3", "Minimap 4", "Minimap 5",
                        "Path to Somnom Woods and Neo Bowser Castle", "Dream Egg Dream Second Egg Room 2", "Dream Egg Dream Second Egg Room 3", "Torkscrew Minigame", "Dreamy Driftwood Background",
                        "Hallway of Luigis", "Long Drop", "Bedsmith Earthwake Arena After Fight", "Blimport", "Blimport", "Blimport", "Dreamy Mushrise Park Minimap", "Unused Dreamy Wakeport Room",
                        "Dreamy Mushrise Park Minimap", "Dozite 2 Final Room", "Broken Snoozemore Projection Video", "Deep Pi'illo Castle Block Room", "Snoozemore Projection Video",
                        "Dreambert Explains Island History", "Dreambert Introduces Antasma", "Left End of Track Room", "Bowser's Introduction", "Save Tutorial", "Fountain Breaks 3DS Screen",
                        "Glitched 00 Room", "Bedsmith Umbrella Puzzle Basement", "Blimport Minimap", "Dreamy Room", "WHAT THE-", "Dreamy Room", "Kylie Koopa Puzzle Menu", "Base Right Mega Pi'illo Room 2",
                        "Base Left Mega Pi'illo", "Peak Left Mega Pi'illo Entrance", "Peak Left Mega Pi'illo Room 2", "Peak Left Mega Pi'illo Room 3", "Peak Right Mega Pi'illo Entrance", "Peak Right Mega Pi'illo Main",
                        "Summit Dream Portal Room", "Summit Massif Shop", "Summit Room 4", "Summit Room 5", "Summit Room 6", "Summit Room 7", "Summit Room 8", "Summit Room 8 Detour", "Summit Room 9", "Summit Room 9 Detour",
                        "Summit Cone Tornado Tutorial Room", "Summit Fountain Room", "Summit Between Fountain and Shop", "Summit After Healing 1", "Summit First Tornado Block Room",
                        "Summit After Healing 3", "Summit After Healing 3 Side Room", "Summit After Healing 4", "Summit Snowstorm Room", "Summit Before Arena", "Summit Mount Pajamaja Arena",
                        "Early Dreamy Pajamaja Minimap", "Summit Room 3", "Pajamaja Rock Frame Room 1", "Pajamaja Rock Frame Room 2", "Pajamaja Rock Frame Room 3", "Multi-Access Dream World",
                        "Base Southwest Ball Hop Pi'illo Entrance", "Base Southwest Ball Hop Pi'illo", "Unused Dreamy Pajamaja", "Peak Before Jump Pi'illo Entrance", "Peak Before Jump Pi'illo Main", "Right Branching Path Pi'illo",
                        "Crash", "Crash", "Crash", "Crash", "Crash", "Minimap", "Crash", "Crash", "Crash", "Annoying Quadruple Bomb Room", "Pi'illo Master 1", "Pi'illo Master 2 Room 1",
                        "Pi'illo Master 2 Room 2", "Pi'illo Master 2 Room 3", "Southeast Pi'illo Master Room 1", "Southeast Pi'illo Master Room 2", "Southwest Pi'illo Master Room 1", "Southwest Pi'illo Master Room 2",
                        "West Pi'illo Master Room 1", "West Pi'illo Master Room 2", "Northwest Pi'illo Master", "Zeekeeper Entrance", "Zeekeeper Tower", "Zeekeeper Coin Labyrinth", "Zeekeeper Wrong Path",
                        "Zeekeeper Monster Path", "Zeekeeper Correct Path", "Zeekeeper After Correct Path", "Zeekeeper Many Pipe Room", "Zeekeeper First Windy Room", "Zeekeeper Vertical Windy Room",
                        "Zeekeeper First Luiginary Work Room", "Zeekeeper Large Sneeze Room", "Zeekeeper Large Luiginary Work Room", "Zeekeeper Right Moustache Room", "Zeekeeper Left Moustache Room",
                        "Zeekeeper Underground 1-2 Reference", "Lower Elevator Pi'illo", "Other Pi'illo in First Pi'illo Master Room", "Upper Double Pi'illo", "Lower Double Pi'illo", "Poison Water Pi'illo",
                        "Minimap", "Minimap", "Minimap", "Minimap", "Minimap", "Minimap", "Minimap", "Minimap", "Minimap", "Minimap", "Minimap", "Minimap", "Minimap", "Minimap", "Minimap", "Minimap", "Minimap",
                        "Minimap", "Minimap", "Minimap", "Minimap", "Minimap", "Minimap", "Giant Room Fling Pi'illo Entrance", "Minimap", "Kamek 1 Entrance", "Kamek 1 Main Room", "Kamek 1 Antigravity Intro",
                        "Kamek 1 Red Coin Room", "Kamek 1 Swimming Kick Tutorial", "Kamek 1 Enemy Room", "Kamek 1 Spike Maze", "Kamek 1 Arena", "Kamek 2 Entrance", "Kamek 2 Door", "Kamek 2 Rising Lava",
                        "Kamek 2 Before Arena", "Kamek 2 Arena", "Kamek 3 Entrance", "Kamek 3 Room 2", "Kamek 3 Room 3", "Kamek 3 Room 4", "Kamek 3 Arena", "Left Flame Room 1", "Left Flame Room 2", "Left Flame Room 3",
                        "Left Flame Room 4", "Bottom Right Flame Room 1", "Bottom Right Flame Room 2", "Bottom Right Flame Room 3", "Top Right Flame Room 1", "Top Right Flame Room 2", "Top Right Flame Room 3",
                        "Bowser's Dream Entrance", "Bowser's Dream First Bowser Encounter", "Bowser's Dream Path Back 1", "Bowser's Dream Path Back 2", "Bowser's Dream Path Back 3", "Bowser's Dream Path Back 4",
                        "Bowser's Dream Path Back 5", "Bowser's Dream Path Back 6", "Bowser's Dream Path Back 7", "Bowser's Dream Shop", "Bowser's Dream Giant Cannon", "Bowser's Dream More Giant Cannons",
                        "Bowser's Dream Arena", "Bowser's Dream Arena After Boss", "Crash", "Crash", "Crash", "Crash", "Crash", "Crash", "Crash", "Dreamy Mount Pajamaja", "Dreamy Neo Bowser Castle",
                        "Dreamy Somnom Woods", "Dreamy Driftwood Shore", "Boss Brickle Runs Off", "Bottom Left", "Ring Game", "Main Track Room Entrance", "Final Boss Room Copy", "Intro",
                        "Glitched Mushrise Minimap", "Glitched Mushrise Minimap", "Top Right Flame Room 4", "Big Fling Pi'illo Room 2"]
    #for n in range(len(item_local_names)):
    #    print(hex(n) + " " + item_local_names[n])

    #Names for items
    item_names = [["Coin", "5 Coins", "10 Coins", "50 Coins", "100 Coins"],

                  ["Mushroom", "Super Mushroom", "Ultra Mushroom", "Max Mushroom", "Nut", "Super Nut", "Ultra Nut", "Max Nut", "Syrup Jar", "Supersyrup Jar", "Ultrasyrup Jar", "Max Syrup Jar",
                   "Candy", "Super Candy", "Ultra Candy", "Max Candy", "1-Up Mushroom", "1-Up Deluxe", "Refreshing Herb", "Heart Bean", "Bros. Bean", "Power Bean", "Defense Bean", "Speed Bean",
                   "Stache Bean", "Taunt Ball", "Shock Bomb", "Boo Biscuit", "Secret Box", "Heart Bean DX", "Bros Bean DX", "Power Bean DX", "Defense Bean DX", "Speed Bean DX", "Stache Bean DX"],

                  ["Starter Badge", "Master Badge", "Expert Badge", "Bronze Badge", "Silver Badge", "Gold Badge", "Mush Badge", "Strike Badge", "Guard Badge", "Virus Badge", "Risk Badge", "Miracle Badge"],

                  ["Run-Down Boots", "Discount Boots", "So-So Boots", "Sandwich Boots", "Bare Boots", "Iron-Ball Boots", "Trusty Boots", "Snare Boots", "Coin Boots", "Super Boots", "EXP Boots",
                   "Knockout Boots", "Heart Boots", "Elite Boots", "Anti-air Boots", "Action Boots", "Bros. Boots", "Singular Boots", "Glass Boots", "Coin Boots DX", "Iron-Ball Boots DX", "VIP Boots",
                   "EXP Boots DX", "Anti-air Boots DX", "Bare Boots DX", "Star Boots", "Dark Boots", "Crystal Boots", "Wellington Boots", "Pro Boots", "Supreme Boots", "Challenge Boots", "Hiking Boots",
                   "DoB Boots", "MINI Boots", "Run-Down Hammer", "Discount Hammer", "So-So Hammer", "Picnic Hammer", "Bare Hammer", "Iron-Ball Hammer", "Steady Hammer", "Fighter Hammer", "Sap Hammer",
                   "Super Hammer", "Soft Hammer", "Knockout Hammer", "Flame Hammer", "Elite Hammer", "Blunt Hammer", "Action Hammer", "Spin Hammer", "Singular Hammer", "Glass Hammer", "Sap Hammer DX",
                   "Iron-Ball Hammer DX", "VIP Hammer", "Flame Hammer DX", "Blunt Hammer DX", "Bare Hammer DX", "Star Hammer", "Dark Hammer", "Crystal Hammer", "Soft Hammer DX", "Pro Hammer", "Supreme Hammer",
                   "Challenge Hammer", "Golden Hammer", "DoB Hammer", "MINI Hammer", "Thin Wear", "Picnic Wear", "Cozy Wear", "So-So Wear", "Retribution Wear", "Singular Wear", "Rally Wear", "Filler Wear",
                   "Super Wear", "Fighter Wear", "Koopa Troopa Wear", "VIP Wear", "Counter Wear", "Safety Wear", "Fancy Wear", "Hero Wear", "Bros. Wear", "Metal Wear", "Snare Wear", "Heart Wear", "Boost Wear",
                   "Star Wear", "Ironclad Wear", "King Wear", "Angel Wear", "Pro Wear", "Legendary Wear", "Challenge Wear", "Golden Wear", "DoB Wear", "Thick Gloves", "Shell Gloves", "Metal Gloves", "HP Gloves",
                   "HP Gloves DX", "BP Gloves", "BP Gloves DX", "POW Gloves", "POW Gloves DX", "Speed Gloves", "Stache Gloves", "Lucky Gloves", "Lucky Gloves DX", "Gift Gloves", "Gift Gloves DX", "Filler Gloves",
                   "Filler Gloves DX", "Strike Gloves", "Mushroom Gloves", "1-Up Gloves", "Pro Gloves", "Rookie Gloves", "Perfect POW Gloves", "Perfect Bro Gloves", "Coin Bro Gloves", "Coin Bro Gloves DX", "EXP Bro Gloves",
                   "EXP Bro Gloves DX", "Bottomless Gloves", "MINI Gloves", "HP Scarf", "HP Scarf DX", "BP Scarf", "BP Scarf DX", "POW Scarf", "POW Scarf DX", "Speed Scarf", "Stache Scarf", "Bros. Ring", "HP Bangle",
                   "HP Bangle DX", "BP Bangle", "BP Bangle DX", "Angel Bangle", "HP Knockout Bangle", "BP Knockout Bangle", "Healthy Ring", "Guard Shell", "Guard Shell DX", "Rally Belt", "Counter Belt", "POW Mush Jam",
                   "DEF Mush Jam", "Duplex Crown", " -- ", "Mushroom Amulet", "DoB Ring", "Mini Ring", "Silver Statue", "Gold Statue"]]

    #Names for key items
    key_item_names = ["Progressive Hammers 1", "Progressive Hammers 2", "Progressive Hammers 3", "Progressive Spin 1", "Progressive Spin 2", "Ball Hop", "Luiginary Works", "Luiginary Ball", "Luiginary Stack High Jump",
                      "Luiginary Stack Ground Pound", "Luiginary Cone Jump", "Luiginary Cone Storm", "Luiginary Ball Hookshot", "Luiginary Ball Throw", "Pi'illo Castle Key", "Blimport Bridge", "Mushrise Park Gate",
                      "First Dozite", "Dozite 1", "Dozite 2", "Dozite 3", "Dozite 4", "Access to Wakeport", "Access to Mount Pajamaja", "Dream Egg 1", "Dream Egg 2", "Dream Egg 3", "Access to Neo Bowser Castle"]

    #Names for attack pieces
    attack_piece_names = ["Mushrise Park", "Dreamy Mushrise Park", "Dozing Sands", "Dreamy Dozing Sands", "Wakeport", "Mount Pajamaja", "Dreamy Mount Pajamaja", "Driftwood Shore", "Dreamy Driftwood Shore",
                          "Mount Pajamaja Summit", "Dreamy Wakeport", "Somnom Woods", "Dreamy Somnom Woods", "Mushrise Park Caves", "Neo Bowser Castle"]

    #Names for the different kinds of checks
    check_names = ["Block", "Block", "Rotated Block", "Mini Mario Block", "High Up Block", "Bean Spot", "Key Item Spot", "Attack Piece Block", "Rotated Block", "Rotated Block"]

    #Sorts the new item locals array in order of room ID and spot ID
    new_item_locals = sorted(new_item_locals, key=lambda local: local[0])
    repack_data = sorted(repack_data, key=lambda key: key[1])
    rooms = []
    areas = [[], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], []]
    temp = []
    for i in range(len(new_item_locals)):
        if i > 0:
            if new_item_locals[i][0] == new_item_locals[i-1][0]:
                rooms.append(new_item_locals[i])
            else:
                rooms = sorted(rooms, key=lambda local: local[7])

                #Sorts the room into a specific spot
                if get_room(rooms[-1][0]) == "Mushrise Park":
                    room = 3
                elif get_room(rooms[-1][0]) == "Dozing Sands":
                    room = 5
                elif get_room(rooms[-1][0]) == "Blimport":
                    room = 0
                elif get_room(rooms[-1][0]) == "Dreamy Mushrise Park":
                    room = 4
                elif get_room(rooms[-1][0]) == "Wakeport":
                    room = 7
                elif get_room(rooms[-1][0]) == "Driftwood Shore":
                    room = 11
                elif get_room(rooms[-1][0]) == "Mount Pajamaja":
                    room = 9
                elif get_room(rooms[-1][0]) == "Pi'illo Castle":
                    room = 1
                elif get_room(rooms[-1][0]) == "Dreamy Pi'illo Castle":
                    room = 2
                elif get_room(rooms[-1][0]) == "Dreamy Dozing Sands":
                    room = 6
                elif get_room(rooms[-1][0]) == "Dreamy Driftwood Shore":
                    room = 12
                elif get_room(rooms[-1][0]) == "Dreamy Wakeport":
                    room = 8
                elif get_room(rooms[-1][0]) == "Neo Bowser Castle":
                    room = 15
                elif get_room(rooms[-1][0]) == "Somnom Woods":
                    room = 13
                elif get_room(rooms[-1][0]) == "Dreamy Mount Pajamaja":
                    room = 10
                elif get_room(rooms[-1][0]) == "Dreamy Somnom Woods":
                    room = 14
                elif get_room(rooms[-1][0]) == "Dreamy Neo Bowser Castle":
                    room = 16
                else:
                    room = 17
                if len(areas[room]) > 1:
                    spot = 1
                    while areas[room][spot-1][0] < areas[room][spot][0]:
                        spot += 1
                        if spot == len(areas[room]):
                            break
                    areas[room].insert(spot, rooms)
                else:
                    if len(areas[room]) == 0:
                        areas[room].append(rooms)
                    else:
                        if areas[room][0][0] <= areas[room][-1][0]:
                            areas[room].append(rooms)
                        else:
                            areas[room].insert(0, rooms)
                rooms = [new_item_locals[i]]
        else:
            rooms.append(new_item_locals[i])

    rooms = sorted(rooms, key=lambda local: local[7])
    if get_room(rooms[-1][0]) == "Mushrise Park":
        room = 3
    elif get_room(rooms[-1][0]) == "Dozing Sands":
        room = 5
    elif get_room(rooms[-1][0]) == "Blimport":
        room = 0
    elif get_room(rooms[-1][0]) == "Dreamy Mushrise Park":
        room = 4
    elif get_room(rooms[-1][0]) == "Wakeport":
        room = 7
    elif get_room(rooms[-1][0]) == "Driftwood Shore":
        room = 11
    elif get_room(rooms[-1][0]) == "Mount Pajamaja":
        room = 9
    elif get_room(rooms[-1][0]) == "Pi'illo Castle":
        room = 1
    elif get_room(rooms[-1][0]) == "Dreamy Pi'illo Castle":
        room = 2
    elif get_room(rooms[-1][0]) == "Dreamy Dozing Sands":
        room = 6
    elif get_room(rooms[-1][0]) == "Dreamy Driftwood Shore":
        room = 12
    elif get_room(rooms[-1][0]) == "Dreamy Wakeport":
        room = 8
    elif get_room(rooms[-1][0]) == "Neo Bowser Castle":
        room = 15
    elif get_room(rooms[-1][0]) == "Somnom Woods":
        room = 13
    elif get_room(rooms[-1][0]) == "Dreamy Mount Pajamaja":
        room = 10
    elif get_room(rooms[-1][0]) == "Dreamy Somnom Woods":
        room = 14
    elif get_room(rooms[-1][0]) == "Dreamy Neo Bowser Castle":
        room = 16
    else:
        room = 17
    if len(areas[room]) > 1:
        spot = 1
        while areas[room][spot - 1][0] < areas[room][spot][0]:
            spot += 1
            if spot == len(areas[room]):
                break
        areas[room].insert(spot, rooms)
    else:
        if len(areas[room]) == 0:
            areas[room].append(rooms)
        else:
            if areas[room][0][0] <= areas[room][-1][0]:
                areas[room].append(rooms)
            else:
                areas[room].insert(0, rooms)
    rooms = []
    for r in range(len(areas)):
        for p in range(len(areas[r])):
            for i in range(len(areas[r][p])):
                temp.append(areas[r][p][i])
    new_item_locals = temp

    #Creates a spoiler log
    spoiler_log = open(input_folder + "/Spoiler Log.txt", "w")
    spoiler_log.write("Seed: " + hex(seed) + "\nReduced Mini Mario Requirements: ")
    if settings[1][0] == 1:
        spoiler_log.write("On\nReduced Ball Hop Skips: ")
    else:
        spoiler_log.write("Off\nReduced Ball Hop Skips: ")
    if settings[1][1] == 1:
        spoiler_log.write("On\n\n")
    else:
        spoiler_log.write("Off\n\n")
    room_check = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]
    for s in range(len(new_item_locals)):
        if s > 0:
            #if new_item_locals[s][0] != new_item_locals[s-1][0] and new_item_locals[s][0] < len(item_local_names):
            #    print(hex(new_item_locals[s][0]) + " " + item_local_names[new_item_locals[s][0]])
            if get_room(new_item_locals[s][0]) != get_room(new_item_locals[s-1][0]):
                spoiler_log.write("\n--" + get_room(new_item_locals[s][0]) + "--\n\n")
        else:
            spoiler_log.write("--Blimport--\n\n")
        check_type = ""
        if len(room_check) < new_item_locals[s][0] + 1:
            while len(room_check) < new_item_locals[s][0] + 1:
                room_check.append([0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
        room_check[new_item_locals[s][0]][get_spot_type(new_item_locals[s])] += 1
        number = str(room_check[new_item_locals[s][0]][get_spot_type(new_item_locals[s])])
        k = find_index_in_2d_list(repack_data, new_item_locals[s][7] + 0xD000)
        if k is None:
            item = item_names[new_item_locals[s][3] // 0x2000][int(new_item_locals[s][3] / 2) % 0x100]
            check_type = check_names[get_spot_type(new_item_locals[s])]
        else:
            check_type = check_names[repack_data[k[0]][0]]
            ab = find_index_in_2d_list(key_item_pool_checked, repack_data[k[0]][6])
            if ab is None:
                if repack_data[k[0]][6] < 0xB037:
                    item = attack_piece_names[int((repack_data[k[0]][6] - 0xB030) / 2)]
                    offset = 0
                elif repack_data[k[0]][6] < 0xB059:
                    item = attack_piece_names[int((repack_data[k[0]][6] - 0xB037) / 2) + 2]
                    offset = 1
                else:
                    item = attack_piece_names[int((repack_data[k[0]][6] - 0xB059) / 2) + 13]
                    offset = 1
                item += " Attack Piece " + str(((repack_data[k[0]][7] // 2) + 1) * ((repack_data[k[0]][6] + offset) % 2 + 1))
            else:
                item = key_item_names[key_item_pool_checked[ab[0]][1]]
        if new_item_locals[s][0] < len(item_local_names):
            room_name = item_local_names[new_item_locals[s][0]]
        else:
            room_name = hex(new_item_locals[s][0])
        spoiler_log.write(room_name + " " + check_type + " " + hex(new_item_locals[s][7]) + " - " + item + "\n")
    spoiler_log.write("\nTracker Stuff:\nStrike Badge\nGuard Badge\nBronze Badge\nVirus Badge\nMaster Badge\nRisk Badge\nSilver Badge\nExpert Badge\nMiracle Badge\nGold Badge\nCurrent Room: \n\nKey Item Order:")
    for k in key_order:
        spoiler_log.write("\n" + key_item_names[k])

    print("Repacking enemy stats...")
    #Repackages randomized enemy stats
    for enemy in range(len(new_enemy_stats)):
        enemy_stats[new_enemy_stats[enemy][0]].hp = new_enemy_stats[enemy][1]
        enemy_stats[new_enemy_stats[enemy][0]].power = new_enemy_stats[enemy][2]
        enemy_stats[new_enemy_stats[enemy][0]].defense = new_enemy_stats[enemy][3]
        enemy_stats[new_enemy_stats[enemy][0]].speed = new_enemy_stats[enemy][4]
        enemy_stats[new_enemy_stats[enemy][0]].exp = new_enemy_stats[enemy][5]
        enemy_stats[new_enemy_stats[enemy][0]].coins = new_enemy_stats[enemy][6]
        enemy_stats[new_enemy_stats[enemy][0]].coin_rate = new_enemy_stats[enemy][7]
        enemy_stats[new_enemy_stats[enemy][0]].item_chance = new_enemy_stats[enemy][8]
        enemy_stats[new_enemy_stats[enemy][0]].item_type = new_enemy_stats[enemy][9]
        enemy_stats[new_enemy_stats[enemy][0]].rare_item_chance = new_enemy_stats[enemy][10]
        enemy_stats[new_enemy_stats[enemy][0]].rare_item_type = new_enemy_stats[enemy][11]
        enemy_stats[new_enemy_stats[enemy][0]].level = new_enemy_stats[enemy][12]
        #print(new_enemy_stats[enemy])
    #Packs enemy stats
    save_enemy_stats(enemy_stats, code_bin=code_bin_path)

    print("Repacking FMap...")
    newlen = 0
    check_spot = []
    for b in range(len(new_item_locals)):
        if b > 0:
            if new_item_locals[b-1][0] != new_item_locals[b][0]:
                parsed_fmapdat[new_item_locals[b][0]][7].clear()
        else:
            parsed_fmapdat[new_item_locals[b][0]][7].clear()
                #if newlen > 0:
                #    for j in range(newlen):
                #        i = 0
                #        while parsed_fmapdat[new_item_locals[check_spot[j][1]][0]][7][i*12+10:i*12+12] != check_spot[j][0].to_bytes(2, 'little') and i < len(parsed_fmapdat[new_item_locals[check_spot[j][1]][0]][7])/12:
                #            i += 1
                #        #print(int.from_bytes(parsed_fmapdat[new_item_locals[check_spot[j][1]][0]][7][i*12+10:i*12+12], "little"))
                #        #print(len(parsed_fmapdat[new_item_locals[check_spot[j][1]][0]][7][0:i*12] + parsed_fmapdat[new_item_locals[check_spot[j][1]][0]][7][i*12+12:len(parsed_fmapdat[new_item_locals[check_spot[j][1]][0]][7])])/12)
                #        parsed_fmapdat[new_item_locals[check_spot[j][1]][0]][7] = parsed_fmapdat[new_item_locals[check_spot[j][1]][0]][7][0:i*12] + parsed_fmapdat[new_item_locals[check_spot[j][1]][0]][7][i*12+12:len(parsed_fmapdat[new_item_locals[check_spot[j][1]][0]][7])]
                #    newlen = 0
                #    check_spot = []
        #x = 0
        #while x < len(repack_data):
        #    if repack_data[x][5] == new_item_locals[b][-1] + 0xD000 and (repack_data[x][0] == 0 or repack_data[x][0] == 1):
        #        newlen += 1
        #        check_spot.append([new_item_locals[b][7], b])
        #        break
        #    x += 1

        #i = 0
        #while parsed_fmapdat[new_item_locals[b][0]][7][i*12+10:i*12+12] != new_item_locals[b][7].to_bytes(2, 'little'):
        #    i += 1
        availability = True
        x = 0
        while x < len(repack_data):
            if repack_data[x][5] == new_item_locals[b][-1] + 0xD000 and (repack_data[x][0] == 0 or repack_data[x][0] == 1):
                availability = False
            x += 1
        if availability:
            #print(hex(new_item_locals[b][7]))
            #Sets the last block of the room to True if it's the last block
            if b < len(new_item_locals) - 1:
                if new_item_locals[b][0] != new_item_locals[b+1][0]:
                    new_item_locals[b][2] += 1
                #print("Block type: " + hex(new_item_locals[b][2]) + " Block ID: " + hex(new_item_locals[b][7]))
            else:
                new_item_locals[b][2] += 1
            parsed_fmapdat[new_item_locals[b][0]][7].extend(struct.pack('<HHHHHH', *new_item_locals[b][2:8]))
        elif b < len(new_item_locals) - 1:
            #Fixes the last block in FMap if the actual last block is in FEvent
            if new_item_locals[b][0] != new_item_locals[b+1][0] and len(parsed_fmapdat[new_item_locals[b][0]][7]) > 1:
                new_end = b
                isnt_key = False
                while not isnt_key:
                    new_end -= 1
                    c = 0
                    while c < len(repack_data):
                        if repack_data[c][5] == new_item_locals[new_end][-1] + 0xD000 and (repack_data[c][0] == 0 or repack_data[c][0] == 1):
                            isnt_key = True
                        c += 1
                if new_item_locals[new_end][0] == new_item_locals[b][0]:
                    new_item_locals[new_end][2] += 1
                    parsed_fmapdat[new_item_locals[new_end][0]][7] = parsed_fmapdat[new_item_locals[new_end][0]][7][0:-12]
                    parsed_fmapdat[new_item_locals[new_end][0]][7].extend(struct.pack('<HHHHHH', *new_item_locals[new_end][2:8]))
                    #print(hex(new_item_locals[new_end][0]) + ": " + parsed_fmapdat[new_item_locals[new_end][0]][7].hex())

        #if new_item_locals[b][2] % 2 == 1:
        #    print(len(parsed_fmapdat[new_item_locals[b][0]][7]) % 12)

    with (
        code_bin_path.open('r+b') as code_bin,
        fs_std_romfs_path(FMAPDAT_PATH, data_dir=input_folder).open('wb') as fmapdat,
    ):
        version_pair = determine_version_from_code_bin(code_bin)
        fmapdat_offset_table = bytearray()
        for fmapdat_chunk_index, fmapdat_chunk in enumerate(parsed_fmapdat):
            fmapdat_chunk_offset = fmapdat.tell()
            if fmapdat_chunk_index < NUMBER_OF_ROOMS:
                inside_chunk_offset = 13 * 4 * 2
                for section_index, section in enumerate(fmapdat_chunk):
                    if section_index == 12:
                        # CGFX data needs to be aligned to 128 bytes
                        cgfx_padding = (-inside_chunk_offset) % 128
                        inside_chunk_offset += cgfx_padding
                    section_length = len(section)
                    fmapdat.write(struct.pack('<II', inside_chunk_offset, section_length))
                    inside_chunk_offset += section_length
                for section_index, section in enumerate(fmapdat_chunk):
                    if section_index == 12:
                        # CGFX data needs to be aligned to 128 bytes
                        fmapdat.write(b'\x00' * cgfx_padding)
                    fmapdat.write(section)
            else:
                # CGFX data needs to be aligned to 128 bytes
                fmapdat_chunk_offset += fmapdat.write(b'\x00' * ((-fmapdat_chunk_offset) % 128))
                inside_chunk_offset = fmapdat.write(fmapdat_chunk)
            # FMapDat chunks have to be aligned to 4 bytes
            inside_chunk_offset += fmapdat.write(b'\x00' * ((-inside_chunk_offset) % 4))
            fmapdat_offset_table.extend(struct.pack('<II', fmapdat_chunk_offset, inside_chunk_offset))
        code_bin.seek(FMAPDAT_REAL_WORLD_OFFSET_TABLE_LENGTH_ADDRESS[version_pair] + 16)
        code_bin.write(fmapdat_offset_table)
        code_bin.seek(FMAPDAT_DREAM_WORLD_OFFSET_TABLE_LENGTH_ADDRESS[version_pair] + 16)
        code_bin.write(fmapdat_offset_table)

    randomize_repack.pack(input_folder, repack_data, settings, new_item_locals, new_item_logic, key_item_pool_checked)

#randomize_data(input_folder, stat_mult)
